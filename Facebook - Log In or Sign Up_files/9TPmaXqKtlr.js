/*!CK:3028430200!*//*1455684488,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["fOS5h"]); }

__d("AdproAccountCreditStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,ELIGIBLE:1,APPLIED:2,APPROVED:3,REJECTED:4};},null);
__d("AdsAltpayPaymentMetadataKeys",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AMOUNT:"amount",BOLETO_NUMBER:"boleto_number",CREDENTIAL_ID:"credential_id",DOWNLOAD_LINK:"download_link",DUE_DATE:"due_date",TIME_CREATED:"time_created"};},null);
__d("AdsAPIExtendedCreditInfoFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_USED:"credit_used",CREDIT_LEFT:"credit_left"};},null);
__d("AdsImageUploadConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={maxWidth:2048,maxHeight:2048};},null);
__d("AdsOtherConsts",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={REACH_TOO_LOW_NUMBER:1000};},null);
__d("AdsPayAPIAltpayInstrumentTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MOBILE:"mobile",ALTPAY:"altpay"};},null);
__d("AdsPayAPICreditCardAddressFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={STREET:"street",STREET2:"street2",CITY:"city",STATE:"state",ZIP:"zip",COUNTRY_CODE:"country_code"};},null);
__d("AdsTargetingAdmarketKeywordCategory",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={KEYWORD_CATEGORY_RAW:0,KEYWORD_CATEGORY_WIKI:1};},null);
__d("ApiAdPageTypeToPlatformMap",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={instagramstream:"instagram"};},null);
__d("BoostedComponentCreativeEditingElement",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREATIVE_LINK_DATA_URL:"creative_link_data_url",CREATIVE_LINK_DATA_HEADLINE:"creative_link_data_headline",CREATIVE_LINK_DATA_TEXT:"creative_link_data_text",CREATIVE_BODY:"creative_body",CREATIVE_LINK_DATA:"creative_link_data",CREATIVE_MULTI_PRODUCTS:"creative_multi_products",CREATIVE_IMAGE_SELECTOR:"creative_image_selector",CREATIVE_CTA:"creative_cta"};},null);
__d("BoostedComponentUnit",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AUDIENCE_MANAGER:"audience_manager",LOCATIONS:"locations"};},null);
__d("CustomAudienceDeliveryStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTIVE:200,INACTIVE:300,INVALID:400,INVALID_FOR_SAME_FIRST_OR_LAST_NAME:401};},null);
__d("FundingSourceType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FUNDING_TYPE_UNSET:0,FUNDING_TYPE_CREDIT_CARD:1,FUNDING_TYPE_FACEBOOK_WALLET:2,FUNDING_TYPE_FACEBOOK_PAID_CREDIT:3,FUNDING_TYPE_FACEBOOK_EXTENDED_CREDIT:4,FUNDING_TYPE_ORDER:5,FUNDING_TYPE_INVOICE:6,FUNDING_TYPE_FACEBOOK_TOKEN:7,FUNDING_TYPE_EXTERNAL_FUNDING:8,FUNDING_TYPE_FEE:9,FUNDING_TYPE_FX:10,FUNDING_TYPE_DISCOUNT:11,FUNDING_TYPE_PAYPAL_TOKEN:12,FUNDING_TYPE_PAYPAL_BILLING_AGREEMENT:13,FUNDING_TYPE_NULL:14,FUNDING_TYPE_EXTERNAL_DEPOSIT:15,FUNDING_TYPE_TAX:16,FUNDING_TYPE_DIRECT_DEBIT:17,FUNDING_TYPE_DUMMY:18,FUNDING_TYPE_ALTPAY:19,FUNDING_TYPE_STORED_BALANCE:20};},null);
__d("InstagramSlipstreamMediaContentType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MEDIA_CONTENT_TYPE_PHOTO:0,MEDIA_CONTENT_TYPE_VIDEO:1,MEDIA_CONTENT_TYPE_RESHARE_PHOTO:2,MEDIA_CONTENT_TYPE_RESHARE_VIDEO:3,MEDIA_CONTENT_TYPE_UNKNOWN:255};},null);
__d("PaymentCouponToken",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AD_CREDIT:1000,VIRTUAL_GIFT:1001,AD_SB_REFUND:1003};},null);
__d('AdsImageUploadErrorActions',['AdsDispatcher','AdsActionTypes'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={setUploadFormatError:function(k){h.handleUpdateFromViewAction({message:k,type:i.IMAGE_UPLOAD.FORMAT_ERROR});},setUploadSizeError:function(k){h.handleUpdateFromViewAction({message:k,type:i.IMAGE_UPLOAD.SIZE_ERROR});},removeErrors:function(){h.handleUpdateFromViewAction({type:i.IMAGE_UPLOAD.REMOVE_ERRORS});}};f.exports=j;},null);
__d('AdsShutterstockSearchActions',['AdsActionTypes','AdsDispatcher'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={searchResultsLoaded:function(k,l){i.handleUpdateFromServerResponse({data:{query:k,results:l},type:h.SHUTTERSTOCK.SEARCH_RESULTS_LOADED});}};f.exports=j;},null);
__d('AdsShutterstockViewActions',['AdsActionTypes','AdsDispatcher'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={searchTextChanged:function(k){i.handleUpdateFromViewAction({data:{searchText:k},type:h.SHUTTERSTOCK.SEARCH_TEXT_CHANGED});},searchDone:function(k){i.handleUpdateFromViewAction({data:{searchText:k},type:h.SHUTTERSTOCK.SEARCH_DONE});},endReached:function(k){i.handleUpdateFromViewAction({data:{searchText:k},type:h.SHUTTERSTOCK.END_REACHED});}};f.exports=j;},null);
__d('BoostedComponentAdAccountViewActions',['BoostedComponentClientEvent'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.$BoostedComponentAdAccountViewActions1=j;}i.prototype.updateAccount=function(j){this.$BoostedComponentAdAccountViewActions1.handleUpdateFromViewAction({actionType:h.UPDATE_ACCOUNT,accountID:j});};i.prototype.updateAdAccountID=function(j){this.$BoostedComponentAdAccountViewActions1.handleUpdateFromViewAction({actionType:h.UPDATE_AD_ACCOUNT_ID,accountID:j});};i.prototype.updateCurrency=function(j){this.$BoostedComponentAdAccountViewActions1.handleUpdateFromViewAction({actionType:h.UPDATE_CURRENCY,currency:j});};i.prototype.updatePrimaryPaymentMethod=function(j,k,l){this.$BoostedComponentAdAccountViewActions1.handleUpdateFromViewAction({actionType:h.CLIENT_UPDATE_PRIMARY,data:{accountID:j,paymentMethodID:k,paymentMethodType:l}});};i.prototype.addNewPaymentMethod=function(){this.$BoostedComponentAdAccountViewActions1.handleUpdateFromViewAction({actionType:h.OPEN_PAYMENTS_FLOW});};f.exports=i;},null);
__d('BoostedComponentAdStatusViewActions',['BoostedComponentClientEvent'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.$BoostedComponentAdStatusViewActions1=j;}i.prototype.updateAdStatus=function(j){this.$BoostedComponentAdStatusViewActions1.handleUpdateFromViewAction({actionType:h.UPDATE_AD_STATUS,adStatus:j});};f.exports=i;},null);
__d('BoostedComponentBudgetEstimationViewActions',['BoostedComponentClientEvent'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.$BoostedComponentBudgetEstimationViewActions1=j;}i.prototype.updateBudget=function(j){this.$BoostedComponentBudgetEstimationViewActions1.handleUpdateFromViewAction({actionType:h.UPDATE_BUDGET,data:j});};i.prototype.updateBudgetType=function(j){this.$BoostedComponentBudgetEstimationViewActions1.handleUpdateFromViewAction({actionType:h.UPDATE_BUDGET_TYPE,data:j});};i.prototype.inputCustomBudget=function(j){this.$BoostedComponentBudgetEstimationViewActions1.handleUpdateFromViewAction({actionType:h.INPUT_CUSTOM_BUDGET,data:j});};f.exports=i;},null);
__d('BoostedComponentConversionPixelViewActions',['BoostedComponentClientEvent','BoostedComponentConfigPayload'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){this.$BoostedComponentConversionPixelViewActions1=k;}j.prototype.updatePixel=function(k){var l={};l[i.CONVERSION_PIXEL_STORE_DATA]={selectedConversionPixelID:k};this.$BoostedComponentConversionPixelViewActions1.handleUpdateFromViewAction({actionType:h.UPDATE_PIXEL,data:l});};f.exports=j;},null);
__d('BoostedComponentDurationViewActions',['BoostedComponentClientEvent'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.$BoostedComponentDurationViewActions1=j;}i.prototype.updateDuration=function(j){this.$BoostedComponentDurationViewActions1.handleUpdateFromViewAction({actionType:h.UPDATE_DURATION,duration:j});};i.prototype.updateCampaignLengthInDays=function(j){this.$BoostedComponentDurationViewActions1.handleUpdateFromViewAction({actionType:h.UPDATE_CAMPAIGN_LENGTH_IN_DAYS,campaignLengthInDays:j});};i.prototype.updateRunContinuously=function(j){this.$BoostedComponentDurationViewActions1.handleUpdateFromViewAction({actionType:h.UPDATE_RUN_CONTINUOUSLY,runContinuously:j});};f.exports=i;},null);
__d('BoostedComponentSubmissionViewActions',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.$BoostedComponentSubmissionViewActions1=i;}h.prototype.onClick=function(i){this.$BoostedComponentSubmissionViewActions1.handleUpdateFromViewAction({actionType:i});};f.exports=h;},null);
__d('BoostedComponentCreativeEditingConfig',['BoostedComponentCreativeEditingElement'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={BOOSTED_POST:[],BOOSTED_PRODUCT:[],BOOSTED_EVENT:[h.CREATIVE_LINK_DATA,h.CREATIVE_LINK_DATA_TEXT,h.CREATIVE_IMAGE_SELECTOR],BOOSTED_CCTA:[h.CREATIVE_LINK_DATA,h.CREATIVE_LINK_DATA_HEADLINE,h.CREATIVE_LINK_DATA_TEXT,h.CREATIVE_IMAGE_SELECTOR,h.CREATIVE_CTA],BOOSTED_PAGELIKE:[h.CREATIVE_BODY,h.CREATIVE_IMAGE_SELECTOR],BOOSTED_WEBSITE:[h.CREATIVE_LINK_DATA,h.CREATIVE_LINK_DATA_URL,h.CREATIVE_LINK_DATA_TEXT,h.CREATIVE_MULTI_PRODUCTS],BOOSTED_WEBSITE_MPA_VIEW:[h.CREATIVE_LINK_DATA,h.CREATIVE_LINK_DATA_HEADLINE],BOOSTED_LOCAL_AWARENESS:[h.CREATIVE_LINK_DATA,h.CREATIVE_LINK_DATA_TEXT,h.CREATIVE_LINK_DATA_HEADLINE,h.CREATIVE_IMAGE_SELECTOR,h.CREATIVE_CTA],BOOSTED_LOCAL_AWARENESS_MPA_VIEW:[h.CREATIVE_LINK_DATA,h.CREATIVE_LINK_DATA_HEADLINE],BOOSTED_LOCAL_AWARENESS_CAROUSEL:[h.CREATIVE_LINK_DATA,h.CREATIVE_LINK_DATA_TEXT,h.CREATIVE_MULTI_PRODUCTS,h.CREATIVE_CTA]};f.exports=i;},null);
__d('BoostedComponentMultiAdsProductChangeTypes',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={ADD:'product_add',IMAGE_CHANGE:'product_image_change',IMAGE_CROP_CHANGE:'product_image_crop_change',NAME_CHANGE:'product_name_change',REMOVE:'product_remove'};f.exports=h;},null);
__d('ImageReader',['Promise','DOM','Event'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(n,o,p,q){var r=new Image(),s=function(){o(null,0,0);};j.listen(r,{load:function(){if(p&&r.width>p||q&&r.height>q){var t=Math.max(r.width/p,r.height/q),u=r.width/t<<0,v=r.height/t<<0,w=i.create('canvas',{css:'background-color: transparent;',width:u,height:v}),x=w.getContext('2d');x.drawImage(r,0,0,r.width,r.height,0,0,u,v);try{o(w.toDataURL('image/jpeg'),r.width,r.height);return;}catch(y){o(n,r.width,r.height);}}else o(n,r.width,r.height);},error:s,abort:s});r.src=n;}function l(n,o,p,q){var r=new b.FileReader();r.onloadend=function(s){k(r.result,o,p,q);};r.readAsDataURL(n);}function m(n,o,p){return new h(function(q){l(n,function(r){return q(r);},o,p);});}f.exports={promiseRead:m,read:l,resizeIfNeeded:k};},null);
__d("XAdsCFImageUploadController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/create\/imageupload\/",{});},null);
__d('AdsUploadProcess',['AdsImageUploadConstants','AdsDaoGraph','AdsImageLegacy','ArbiterMixin','DOM','ImageReader','XAdsCFImageUploadController','GlobalCallback','cx','getAsyncParams','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t,u={IFRAME_NAME:"_57mk"},v=0;s=babelHelpers.inherits(w,r(k));t=s&&s.prototype;function w(x,y){'use strict';t.constructor.call(this);this.id=v;v++;this.file=x;this.iframe=null;this.$AdsUploadProcess1=y;}w.prototype.getID=function(){'use strict';return this.id;};w.prototype.upload=function(x){'use strict';if(window.FileReader){this.$AdsUploadProcess2();}else this.$AdsUploadProcess3(x);};w.prototype.$AdsUploadProcess2=function(){'use strict';var x=(function(y){if(y===null){this.failed();return;}y=y.split(',');var z=(function(ca){if(ca&&ca.images){var da=this.file.name,ea=new j(ca.images[da]);this.succeeded(ea);}else this.failed();}).bind(this),aa=(function(ca){this.progressData=ca;this.progressPercent=ca.loaded/ca.total*100;this.inform('onProgress',ca);}).bind(this);try{i.add.imageForAccount.one(z,{bytes:y[1],name:this.file.name,encoding:y[0],handleError:z,accountId:this.$AdsUploadProcess1},aa);}catch(ba){this.failed();throw new Error(ba.message);}}).bind(this);m.read(this.file,x,h.maxWidth,h.maxHeight);};w.prototype.$AdsUploadProcess3=function(x){'use strict';var y=document.createElement('iframe');y.className="_57mi";var z=u.IFRAME_NAME+this.getID();y.name=z;x.target=z;var aa=n.getURIBuilder();x.action=aa.getURI().getQualifiedURI().toString();var ba=q('POST');Object.assign(ba,{account_id:this.$AdsUploadProcess1,callback:o.create(this.$AdsUploadProcess4.bind(this,y)),domain:document.domain});Object.keys(ba).forEach(function(ca){x.appendChild(l.create('input',{type:'hidden',name:ca,value:ba[ca]}));});document.body.appendChild(y);x.submit();};w.prototype.$AdsUploadProcess4=function(x,y,z){'use strict';o.remove(y);l.remove(x);if(z&&z.url){this.succeeded(new j(z));}else this.failed();};w.prototype.succeeded=function(x){'use strict';this.image=x;this.inform('succeeded',x);};w.prototype.failed=function(){'use strict';this.inform('failed');};f.exports=w;},null);
__d('AdsImageUploader',['Promise','AdsImageUploadErrorActions','AdsImageValidation','AdsUploadProcess','ArbiterMixin','CSS','DOMEventListener','DOMQuery','mixin','Parent','React','ReactDOM','WebApiApplication','cx','csx','fbt','getDOMImageSize','invariant','ads-lib-connect_DEPRECATED'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z,aa;'use strict';var ba=c('ads-lib-connect_DEPRECATED').FB,ca=b.URL||b.webkitURL,da={UPLOAD_ELEMENT:"_57mh",DRAG_OVER:"_57mj",CLICK_HIJACK:"_57mf",CLICK_HIJACK_FORM:"_5ecl"};z=babelHelpers.inherits(ea,p(l));aa=z&&z.prototype;function ea(fa,ga){aa.constructor.call(this);ga=ga||{};this.accountId=ga.accountId;!this.accountId?y(0):undefined;this.acceptsMultiple='multiple' in ga?ga.multiple:true;this.acceptsMultiple=window.FileReader?this.acceptsMultiple:false;this.validateImageSize=ga.validateImageSize;this.validateImageFormat=ga.validateImageFormat;this.imageSpec=ga.imageSpec;this.onFormInputMount=ga.onFormInputMount;this.root=fa;if(this.root){this.findAndDecorateUploadElements();this.createDragAndDropArea(this.root);}}ea.prototype.findAndDecorateUploadElements=function(){var fa=o.scry(this.root,'.'+da.UPLOAD_ELEMENT);fa.forEach(function(ga){this.decorateUploadElement(ga);},this);if(m.hasClass(this.root,da.UPLOAD_ELEMENT))this.decorateUploadElement(this.root);};ea.prototype.createDragAndDropArea=function(fa){n.add(fa,'dragenter',function(ga){ga.preventDefault();m.addClass(this,da.DRAG_OVER);});n.add(fa,'dragleave',function(ga){ga.preventDefault();m.removeClass(this,da.DRAG_OVER);});n.add(fa,'dragover',function(ga){ga.preventDefault();ga.dataTransfer.dropEffect='copy';});n.add(fa,'drop',this.onDrop.bind(this));};ea.prototype.onDrop=function(fa){fa.preventDefault();var ga=o.scry(this.root,'.'+da.CLICK_HIJACK_FORM)[0];this.upload(fa.dataTransfer.files,ga);};ea.prototype.decorateUploadElement=function(fa){var ga=t.getAccessToken(),ha=ba.url('/act_'+this.accountId+'/adimages',null,ga);if(o.scry(fa,'.'+da.CLICK_HIJACK).length)return;var ia=document.createElement('div');ia.className=da.CLICK_HIJACK;var ja=r.createElement('form',{action:ha,className:da.CLICK_HIJACK_FORM,encType:'multipart/form-data',method:'POST'},r.createElement('input',{accept:'image/*',className:"_57mg",multiple:this.acceptsMultiple,name:'fileToUpload',ref:this.onFormInputMount,type:'file',onClick:this.handleInputClick.bind(this)}));ja=s.render(ja,ia);var ka=o.find(ia,"._57mg");n.add(ka,'change',(function(la){this.handleInputChange(la,ka);}).bind(this));fa.appendChild(ia);};ea.prototype.handleInputClick=function(){this.inform('onUploadClicked');};ea.prototype.handleInputChange=function(fa,ga){var ha=fa.target||ga,ia=ha.files||[ha.value],ja=q.byTag(ha,'form');this.upload(ia,ja);};ea.prototype.filterFiles=function(fa){var ga=fa.filter(function(ha){return !ha.type||ha.type.match(/image\.*/i);});return ga;};ea.prototype.getImageTooSmallErrorMessages=function(fa){var ga=w._("Image Too Small"),ha=w._({"*":{"*":"This image is too small. Try one that's at least {width} x {height} px."}},[w.param('width',fa.minWarningWidth,[0]),w.param('height',fa.minWarningHeight,[0])]);return {shortMessage:ga,longMessage:ha};};ea.prototype.getImageNotSupportedErrorMessages=function(fa){var ga=w._("Image format not supported."),ha=!fa?w._("The image format isn't supported. Please use a different image."):w._("The {image format} image format isn't supported. Please use a different image.",[w.param('image format',fa)]);return {shortMessage:ga,longMessage:ha};};ea.prototype.$AdsImageUploader1=function(fa,ga){return j.isWarningSize({getWidth:function(){return fa;},getHeight:function(){return ga;}},this.imageSpec);};ea.prototype.upload=function(fa,ga){fa=Array.prototype.slice.call(fa);if(!this.acceptsMultiple)fa=[fa[0]];fa=this.filterFiles(fa);if(!fa)return;var ha=[],ia=[];if(this.validateImageFormat){fa.forEach((function(ka){if(j.isValidFormat(ka.type)){ia.push(ka);}else i.setUploadFormatError(this.getImageNotSupportedErrorMessages(ka.type));}).bind(this));}else ia=fa;var ja=[];ja=ia.map((function(ka){return new h((function(la,ma){x(ca.createObjectURL(ka),(function(na,oa,pa){if(this.validateImageFormat&&na===0&&oa===0){i.setUploadFormatError(this.getImageNotSupportedErrorMessages());la(false);}else if(this.validateImageSize&&this.imageSpec&&!this.$AdsImageUploader1(na,oa)){i.setUploadSizeError(this.getImageTooSmallErrorMessages(this.imageSpec));la(false);}else{ha.push(new k(ka,this.accountId));la(true);}}).bind(this));}).bind(this));}).bind(this));h.all(ja).done((function(ka){if(ka.every(function(la){return la;}))i.removeErrors();this.startUploadProcesses(ha,ga);}).bind(this));};ea.prototype.$AdsImageUploader2=function(fa){var ga=q.byClass(fa,da.CLICK_HIJACK),ha=ga.parentNode;if(ha){ha.removeChild(ga);this.decorateUploadElement(ha);}};ea.prototype.startUploadProcesses=function(fa,ga){this.inform('onUploadStarted',fa);var ha=[],ia=fa.map(function(ja){return new h(function(ka,la){ja.subscribe('succeeded',function(ma,na){ha.push(na);ka();});ja.subscribe('failed',ka);ja.upload(ga);});});h.all(ia).done((function(){this.$AdsImageUploader2(ga);this.uploadEnded(ha);}).bind(this));};ea.prototype.uploadEnded=function(fa){this.inform('onUploadEnded',fa);};f.exports={AdsImageUploader:ea,AdsImageUploaderConstants:da};},null);
__d('AdsCommonLocalMapUtils',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='#4D6AA4',i='#3b5998',j='#dc3847',k=19,l=1,m={KILOMETERS_TO_METERS:1000,MILES_TO_METERS:1609.34,ZOOM_MAX:k,ZOOM_MIN:l,LEAFLET_TARGET_CIRCLE_OPTIONS:{color:h,clickable:false,fillOpacity:30/255,opacity:95/255,weight:1},LEAFLET_TARGET_MARKER_OPTIONS:{color:'#fff',fillColor:h,fillOpacity:1,opacity:1,radius:4,weight:2},LEAFLET_TARGET_REGION_INCLUDE_OPTIONS:{color:i,clickable:false,opacity:.5,fillColor:i,fillOpacity:.11,weight:1,noClip:true},LEAFLET_TARGET_HIGHLIGHT_REGION_INCLUDE_OPTIONS:{color:i,clickable:false,opacity:.5,fillColor:i,fillOpacity:.22,weight:1,noClip:true},LEAFLET_TARGET_REGION_EXCLUDE_OPTIONS:{color:j,clickable:false,opacity:.5,fillColor:j,fillOpacity:.11,weight:1,noClip:true},LEAFLET_TARGET_HIGHLIGHT_REGION_EXCLUDE_OPTIONS:{color:j,clickable:false,opacity:.5,fillColor:j,fillOpacity:.22,weight:1,noClip:true},LEAFLET_TILES_OPTIONS:{maxZoom:k,minZoom:l},LEAFLET_MARKER_ICON_OPTIONS:{iconSize:[25,32],iconAnchor:[12,32]},getBestZoom:function(n,o,p,q,r){var s=n/180*Math.PI,t=Math.min(p,q),u=60000/800*t/r*Math.cos(s),v=function(x){return Math.log(x)/Math.LN2;},w=10+Math.floor(v(u));return w;},getRadiusInMeters:function(n,o){if(o==='kilometer')return n*m.KILOMETERS_TO_METERS;return n*m.MILES_TO_METERS;}};f.exports=m;},null);
__d('GeoCircularArea',['ImmutableObject','invariant','nearlyEqualNumbers'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(n,o){!(o>0)?i(0):undefined;l.constructor.call(this,{center:n,radius:o});}m.prototype.nearlyEquals=function(n){return (this.center.nearlyEquals(n.center)&&j(this.radius,n.radius));};m.prototype.setCenter=function(n){return new m(n,this.radius);};m.prototype.setRadius=function(n){return new m(this.center,n);};f.exports=m;},null);
__d('AdsTargetingAreaView',['AdsCommonLocalMapUtils','GeoCircularArea','GeoCoordinates','immutable','LeafletView','invariant','nearlyEqualNumbers'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';function q(u){if(u.latitude==null||u.longitude==null)return;return new j(Number(u.latitude),Number(u.longitude));}function r(u){if(u.radius==null)return;!u.distance_unit?m(0):undefined;return h.getRadiusInMeters(u.radius,u.distance_unit);}function s(u,v){return h.getBestZoom(u.center.latitude,u.center.longitude,v.x,v.y,u.radius);}o=babelHelpers.inherits(t,k.Record({area:undefined,zoom:undefined,isPrecise:false}));p=o&&o.prototype;function t(u){!(u.area!=null)?m(0):undefined;!(u.isPrecise!=null)?m(0):undefined;!(u.zoom!=null)?m(0):undefined;p.constructor.call(this,u);}t.prototype.toLeafletView=function(){return new l({center:this.area.center,zoom:this.zoom});};t.update=function(u,v,w,x){if(x==null)return;if(u==null){var y=s(v,x);return new t({area:v,isPrecise:w,zoom:y});}return u.withMutations(function(z){!(x!=null)?m(0):undefined;z.isPrecise=w;if(!z.area.nearlyEquals(v)){if(!n(z.area.radius,v.radius))z.zoom=s(v,x);z.area=v;}});};t.updateFromCustomLocationSpec=function(u,v,w){if(w==null)return;var x=q(v);if(!x)return;var y=r(v);if(!y)return;var z=new i(x,y),aa=!!v.address_string||!!v.name;return t.update(u,z,aa,w);};f.exports=t;},null);
__d('LeafletPath',['Set','areEqual','partitionObjectByKey'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=(function(){var m=new h(['color','dashArray','fill','fillColor','fillOpacity','lineCap','lineJoin','opacity','stroke','weight']);return function(n){return j(n,m);};})(),l={mutateOptions:function(m,n,o){var p=k(n||{}),q=p[0],r=p[1],s=k(o||{}),t=s[0],u=s[1];if(!i(r,u))return false;if(!i(q,t))m.setStyle(q);return true;}};f.exports=l;},null);
__d('LeafletCircle.react',['GeoCoordinates','leaflet','LeafletLayer.react','LeafletPath','LeafletPopup.react','LeafletUtils','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=n.PropTypes,p=n.createClass({displayName:'LeafletCircle',propTypes:{options:o.object,eventHandlers:o.object,center:o.instanceOf(h).isRequired,radius:o.number.isRequired,popup:o.instanceOf(l)},statics:{mutate:function(q,r,s){if(!k.mutateOptions(q,r.options,s.options))return false;j.mutateEventHandlers(q,r.eventHandlers,s.eventHandlers);if(r.center!==s.center)q.setLatLng(m.toLatLng(r.center));if(r.radius!==s.radius)q.setRadius(r.radius);if(r.popup){var t=r.popup.type.mutate(q._popup,r.popup.props,s.popup.props);if(!t){q.unbindPopup();q.bindPopup(r.popup.type.toLayer(r.popup.props));}}else if(!r.popup&&s.popup)q.unbindPopup();return true;},toLayer:function(q){var r=i.circle(m.toLatLng(q.center),q.radius,q.options);j.addEventHandlers(r,q.eventHandlers);if(q.popup)r.bindPopup(q.popup.type.toLayer(q.popup.props));return r;}},render:function(){return null;}});f.exports=p;},null);
__d('LeafletCircleMarker.react',['GeoCoordinates','leaflet','LeafletPath','LeafletUtils','React'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=l.PropTypes,n=l.createClass({displayName:'LeafletCircleMarker',propTypes:{options:m.object,center:m.instanceOf(h).isRequired},statics:{mutate:function(o,p,q){var r=p.options||{},s=r.radius,t=babelHelpers.objectWithoutProperties(r,['radius']),u=q.options||{},v=u.prevRadius,w=babelHelpers.objectWithoutProperties(u,['prevRadius']);if(!j.mutateOptions(o,t,w))return false;if(p.center!==q.center)o.setLatLng(k.toLatLng(p.center));if(s!==v)o.setRadius(p.radius);return true;},toLayer:function(o){return i.circleMarker(k.toLatLng(o.center),o.options);}},render:function(){return null;}});f.exports=n;},null);
__d('AdsTargetingAreaMap.react',['AdsCommonLocalMapUtils','AdsTargetingAreaView','FBOverlayElement.react','FBTilesMap.react','GeoCoordinates','leaflet','LeafletCircle.react','LeafletCircleMarker.react','LeafletUtils','LeafletView','React','ReactDOM','ReactLayeredComponentMixin','XUIAmbientNUX.react','cx','joinClasses','keyMirror','nearlyEqualNumbers'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=40,aa=50,ba=r.PropTypes,ca={boxZoom:false,doubleClickZoom:false,dragging:true,scrollWheelZoom:false,touchZoom:false,zoomControl:false},da=babelHelpers._extends({},ca,{dragging:false}),ea=m.CRS.EPSG3857,fa=x({NONE:undefined,MOVING:undefined,WAS_DRAGGED:undefined});function ga(ia,ja){var ka={center:ia.center,radius:ja},la=p.projectCircle(ka,ia.zoom),ma=p.toLatLng(ia.center),na=ea.latLngToPoint(ma,ia.zoom),oa=la.center.subtract(na).round();return {radius:la.radius,centerDelta:oa};}var ha=r.createClass({displayName:'AdsTargetingAreaMap',propTypes:{areaView:ba.instanceOf(i),className:ba.string,defaultView:ba.instanceOf(q).isRequired,nuxMessage:ba.string,onAreaCenterChange:ba.func,onNUXDismiss:ba.func,onSizeSettled:ba.func,onStartMovingArea:ba.func,onZoomChange:ba.func,showNUX:ba.bool,style:ba.object},mixins:[t],getInitialState:function(){return {draggingState:fa.NONE,size:undefined};},renderLayers:function(){if(this.refs.adMapItem===undefined||!this.props.nuxMessage||!this.props.showNUX)return {};var ia=s.findDOMNode(this.refs.adMapItem),ja=Math.round((ia.offsetHeight-aa)/2),ka=Math.round((ia.offsetWidth-z)/2)*-1;return {nux_below:r.createElement(u,{contextRef:this._getAdMapItem,customwidth:600,offsetX:ka,offsetY:ja,position:'right',shown:this.props.showNUX,onCloseButtonClick:this.props.onNUXDismiss},this.props.nuxMessage)};},render:function(){var ia=this._getView();return (r.createElement(k,{className:w("uiContextualLayerParent",this.props.className),eventHandlers:{dragstart:this._onDragStart,moveend:this._onMoveEnd},options:this._getMapOptions(),ref:'adMapItem',showZoomControls:this._shouldShowZoomControls(),style:this.props.style,view:ia,onSizeSettled:this._onSizeSettled,onViewChange:this._onViewChange},this._renderArea(),this._renderCircleMarker(),this._renderShadowRadiusOverlay(ia),this.props.children));},_getAdMapItem:function(){return this.refs.adMapItem;},_getMapOptions:function(){return this.props.areaView==null?da:ca;},_getView:function(){if(this.props.areaView==null)return this.props.defaultView;return this.props.areaView.toLeafletView();},_onDragStart:function(){if(this.props.areaView==null)return;this.setState({draggingState:fa.MOVING});if(this.props.onStartMovingArea)this.props.onStartMovingArea();},_onMoveEnd:function(){if(this.state.draggingState===fa.MOVING)this.setState({draggingState:fa.WAS_DRAGGED});},_onSizeSettled:function(ia){this.setState({size:ia});if(this.props.onSizeSettled)this.props.onSizeSettled(ia);},_onViewChange:function(ia){var ja=this.state.draggingState;this.setState({draggingState:fa.NONE});var ka=this.props.areaView;if(ka==null)return;if(this.props.onZoomChange!=null&&!y(ia.zoom,ka.zoom))this.props.onZoomChange(ia.zoom);var la=this.props.onAreaCenterChange;if(la!=null&&ja===fa.WAS_DRAGGED&&!ia.center.nearlyEquals(ka.area.center))la(new l(ia.center.latitude,p.wrapLongitude(ia.center.longitude)));},_renderArea:function(){if(this.props.areaView==null||this.state.draggingState===fa.MOVING)return;return (r.createElement(n,{center:this.props.areaView.area.center,options:h.LEAFLET_TARGET_CIRCLE_OPTIONS,radius:this.props.areaView.area.radius}));},_renderCircleMarker:function(){if(this.props.areaView==null||this.state.draggingState===fa.MOVING||!this.props.areaView.isPrecise)return;return (r.createElement(o,{center:this.props.areaView.area.center,options:h.LEAFLET_TARGET_MARKER_OPTIONS}));},_renderShadowRadiusOverlay:function(ia){if(this.state.draggingState!==fa.MOVING||this.props.areaView==null||this.state.size==null)return;var ja=ga(ia,this.props.areaView.area.radius);return (r.createElement(j,null,r.createElement('svg',{className:"_qhj"},r.createElement('ellipse',{cx:this.state.size.x/2+ja.centerDelta.x,cy:this.state.size.y/2+ja.centerDelta.y,rx:ja.radius.x,ry:ja.radius.y}))));},_shouldShowZoomControls:function(){return this.props.areaView!=null&&this.props.onZoomChange!=null;}});f.exports=ha;},null);
__d('AdsTargetingNumberSelector.react',['XUISingleSelector.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.Option,l=i.PropTypes,m=i.createClass({displayName:'AdsTargetingNumberSelector',propTypes:{customMaxLabel:l.string,maximum:l.number.isRequired,minimum:l.number.isRequired,selectedValue:l.number.isRequired,size:l.string,onDataUpdate:l.func.isRequired},render:function(){var n=this.props,o=[];for(var p=n.minimum;p<=n.maximum;++p){var q=p;if(n.customMaxLabel&&p===n.maximum)q=n.customMaxLabel;o.push(i.createElement(k,{key:p,value:p},q));}return (i.createElement('div',{className:"_5tpo"},i.createElement(h,{className:"_1d1z",maxheight:200,size:this.props.size,value:n.selectedValue,onChange:n.onDataUpdate},o)));}});f.exports=m;},null);
__d("AdsTargetingTogglerSafeMixin",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={setStateSafe:function(i,j){setTimeout((function(){this.setState(i,j);}).bind(this),0);}};f.exports=h;},null);
__d('AdsAgeSelector.react',['AdsCreationConfig','AdsTargetingConstants','AdsTargetingNumberSelector.react','AdsTargetingTogglerSafeMixin','BoostedComponentClientEvent','BoostedComponentTestElement','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=n.PropTypes,q=n.createClass({displayName:'AdsAgeSelector',mixins:[k],propTypes:{initialMaxAge:p.number,initialMinAge:p.number,maxSelectableAge:p.number,minSelectableAge:p.number,size:p.string,onDataUpdate:p.func.isRequired},getDefaultProps:function(){return {minSelectableAge:i.DEFAULT_MIN_SELECTABLE_AGE,maxSelectableAge:i.DEFAULT_MAX_SELECTABLE_AGE};},getInitialState:function(){return this._getInitialAges(this.props);},componentWillReceiveProps:function(r){this.setStateSafe(this._getInitialAges(r));},_getInitialAges:function(r){var s=r.minSelectableAge,t=r.maxSelectableAge,u=r.initialMinAge?r.initialMinAge:h.minAgeDefault,v=r.initialMaxAge?r.initialMaxAge:t;if(s>u)u=s;if(t<v)v=t;return {minAge:u,maxAge:v};},_onMinAgeUpdate:function(r){var s=r.value,t=s>this.state.maxAge?s:this.state.maxAge;this._updateAges(s,t);},_onMaxAgeUpdate:function(r){var s=r.value,t=s<this.state.minAge?s:this.state.minAge;this._updateAges(t,s);},_updateAges:function(r,s){this.setStateSafe({minAge:r,maxAge:s});var t={age_min:r,age_max:s};this.props.onDataUpdate(l.UPDATE_AGE,t);},render:function(){var r=this.state;return (n.createElement('div',{className:"_5so_",'data-testid':m.AGE_SELECTOR},n.createElement(j,{maximum:this.props.maxSelectableAge,minimum:this.props.minSelectableAge,selectedValue:r.minAge,size:this.props.size,onDataUpdate:this._onMinAgeUpdate})," - ",n.createElement(j,{customMaxLabel:this.props.maxSelectableAge+'+',maximum:this.props.maxSelectableAge,minimum:this.props.minSelectableAge,selectedValue:r.maxAge,size:this.props.size,onDataUpdate:this._onMaxAgeUpdate})));}});f.exports=q;},null);
__d('AdsCarousel.react',['Locale','React','ReactDOM','clamp','cx','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=i.createClass({displayName:'AdsCarousel',propTypes:{index:o.number.isRequired,onUpdated:o.func},getDefaultProps:function(){return {onUpdated:m};},getInitialState:function(){return {computedOffset:0};},componentDidMount:function(){this._computeOffset(this.props.index);},componentDidUpdate:function(){this._computeOffset(this.props.index);},_computeOffset:function(q){var r=j.findDOMNode(this).offsetWidth,s=j.findDOMNode(this.refs.inner).offsetWidth,t=Math.max(s-r,0),u=0;for(var v=0;v<q&&u<t;v++)u+=this._getChildDOMNode(v).offsetWidth;u=k(u,0,t);if(u!==this.state.computedOffset){this.setState({computedOffset:u});}else this.props.onUpdated(this._getVisibleChildrenCount());},_getChildDOMNode:function(q){var r=this.refs['child_'+q];return r?j.findDOMNode(r):null;},render:function(){var q=i.Children.map(this.props.children,function(t,u){return (i.createElement('div',{className:"_a1x",ref:'child_'+u},t));}),r=null;if(this.state.computedOffset){var s=String(-this.state.computedOffset)+'px';r=h.isRTL()?{right:s}:{left:s};}return (i.createElement('div',babelHelpers._extends({},this.props,{className:n(this.props.className,"_a28")}),i.createElement('div',{className:"_a2e",ref:'inner',style:r},q)));},_getVisibleChildrenCount:function(){var q=this.state.computedOffset+j.findDOMNode(this).offsetWidth,r=0,s=this.props.index,t;while(t=this._getChildDOMNode(s++))if(t.offsetLeft+t.offsetWidth<=q){r++;}else break;return r;}});f.exports=p;},null);
__d('AdsArrowedCarousel.react',['AdsArrowedContainer.react','AdsCarousel.react','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.createClass({displayName:'AdsArrowedCarousel',getInitialState:function(){return {index:0,canIncrementIndex:false,canDecrementIndex:false};},_getChildrenCount:function(){var l=0;j.Children.forEach(this.props.children,function(m){return l++;});return l;},_update:function(l){var m=this.state.index+l<this._getChildrenCount(),n=this.state.index>0;if(m!==this.state.canIncrementIndex||n!==this.state.canDecrementIndex)this.setState({canIncrementIndex:m,canDecrementIndex:n});},render:function(){return (j.createElement(h,babelHelpers._extends({},this.props,{onDecrement:this.state.canDecrementIndex?this._decrementIndex:null,onIncrement:this.state.canIncrementIndex?this._incrementIndex:null}),j.createElement(i,{index:this.state.index,onUpdated:this._update},this.props.children)));},_incrementIndex:function(){this.setState({index:this.state.index+1});},_decrementIndex:function(){this.setState({index:this.state.index-1});}});f.exports=k;},null);
__d('AdsArrowedCarouselEnhanced.react',['AdsArrowedContainer.react','AdsCarousel.react','React','ReactComponentWithPureRenderMixin'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'AdsArrowedCarouselEnhanced',mixins:[k],propTypes:{currentSelectedIndex:l.number,currentSelectedShouldVisible:l.bool,maxChangeAmount:l.number},getDefaultProps:function(){return {currentSelectedIndex:0,currentSelectedShouldVisible:false,maxChangeAmount:1};},getInitialState:function(){return {firstVisibleIndex:0,visibleChildrenCount:0};},componentWillReceiveProps:function(n){if(!n.currentSelectedShouldVisible)return;var o=n.currentSelectedIndex;if(this._isSelectedIndexOnLeftNotVisible(o)){this.setState({firstVisibleIndex:o});}else if(this._isSelectedIndexOnRightNotVisible(o)){var p=this.state.firstVisibleIndex+this.state.visibleChildrenCount-1,q=o-p;this.setState({firstVisibleIndex:this.state.firstVisibleIndex+q});}},_isSelectedIndexOnLeftNotVisible:function(n){return n<this.state.firstVisibleIndex;},_isSelectedIndexOnRightNotVisible:function(n){var o=this.state.firstVisibleIndex+this.state.visibleChildrenCount-1;return n>o;},render:function(){var n=this._getNextIncrementAmount(),o=this._getNextDecrementAmount();return (j.createElement(h,babelHelpers._extends({},this.props,{isArrowCentered:true,onDecrement:o?this._decrementIndex:null,onIncrement:n?this._incrementIndex:null}),j.createElement(i,{index:this.state.firstVisibleIndex,onUpdated:this._update},this.props.children)));},_decrementIndex:function(){var n=this._getNextDecrementAmount();this.setState({firstVisibleIndex:this.state.firstVisibleIndex-n});},_incrementIndex:function(){var n=this._getNextIncrementAmount();this.setState({firstVisibleIndex:this.state.firstVisibleIndex+n});},_update:function(n){this.setState({visibleChildrenCount:n});},_getNextIncrementAmount:function(){var n=this.state.visibleChildrenCount,o=j.Children.count(this.props.children)-this.state.firstVisibleIndex-n;if(o<=0)return 0;return Math.min(o,this.props.maxChangeAmount||1);},_getNextDecrementAmount:function(){return Math.min(this.state.firstVisibleIndex,this.props.maxChangeAmount||1);}});f.exports=m;},null);
__d('AdsImageSecondaryActions',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h({X:null});f.exports=i;},null);
__d('AdsCFImageViewActions',['AdsDispatcher','AdsCFActionTypes'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={changeStockSearchText:function(k){h.handleUpdateFromViewAction({searchText:k,type:i.STOCK_IMAGE_SEARCH_TEXT_CHANGE});},cancelImageDialog:function(k){h.handleUpdateFromViewAction({imageList:k,type:i.IMAGE_DIALOG_CANCEL});},confirmImageDialog:function(k){h.handleUpdateFromViewAction({imageList:k,type:i.IMAGE_DIALOG_CONFIRMED});}};f.exports=j;},null);
__d('AdsMediaLibraryExpandedAsset.react',['Image.react','Keys','React','ReactDOM','adsGKCheck','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l('ads_pe_migration_bar'),o=j.PropTypes,p=24,q=j.createClass({displayName:'AdsMediaLibraryExpandedAsset',propTypes:{height:o.number.isRequired,onClickClose:o.func.isRequired,source:o.string.isRequired,topBarHeight:o.number,width:o.number.isRequired},componentDidMount:function(){k.findDOMNode(this.refs.expandedAssetView).focus();},_onKeyDownHandler:function(r){if(r.keyCode===i.ESC)this.props.onClickClose();},_onClickHandler:function(r){this.props.onClickClose();r.stopPropagation();},render:function(){var r=this.props.width,s=this.props.height,t={},u=window.innerHeight,v=window.innerWidth;if(r>v||s>u){if(r/v>s/u){r=v;s=this.props.height*(v/this.props.width);t.width=r;}else{s=u;r=this.props.width*(u/this.props.height);t.height=s;}}else t.width=this.props.width;var w=-Math.floor(r/2),x=this.props.topBarHeight||0,y=-Math.floor(s/2)+x+p,z=j.createElement('div',{className:"_4-lr",style:{marginLeft:w,marginTop:y}},j.createElement(h,{alt:this.props.source,className:"_4vnf",src:this.props.source,style:t})),aa=j.createElement('div',{className:"_1zn8",style:{marginLeft:-(w+15),marginTop:y-20}});return (j.createElement('div',{className:"_1zn6"+(n?' '+"_a2h":''),ref:'expandedAssetView',tabIndex:0,onClick:this._onClickHandler,onKeyDown:this._onKeyDownHandler},j.createElement('div',{className:"_4-ls"}),z,aa));}});f.exports=q;},null);
__d('AdsMediaPanelImageBoxUtils',['AdsCreationExperimentStore'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=null;function j(){if(i===null){var l=h.getExperiment('ads_cf_shutterstock_flyover_enabled');l.logExposure();i=l.getParamBool('enabled');}return i;}var k={flyoverPreviewEnabled:j};f.exports=k;},null);
__d('AdsMediaPanelImageBox.react',['AdsCreationExperimentStore','AdsImageLegacy','AdsMediaPanelImageBoxUtils','AdsValidationIcon.react','AdsValidationIconType','BackgroundImage.react','ContextualDialog.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','GradientBox.react','Link.react','React','ReactDOM','ReactLayeredComponentMixin','adsGKCheck','cx','cssVar','debounce','fbt','getElementPosition','getViewportDimensions','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){'use strict';if(c.__markCompiled)c.__markCompiled();var ea=t.PropTypes,fa=parseInt("110px",10),ga=parseInt("66px",10),ha=1000,ia=1000,ja=65,ka=65,la=20,ma=w('ads_image_picker_redesign')&&'1'===h.getExperiment('ads_image_picker_redesign_experiment').getParam('has_redesign');if(ma){ga=parseInt("58px",10);ja=ga;ka=ga;}var na={'default':null,disabled:null,selected:"_5ywk",removable:"_5ywl"},oa=t.createClass({displayName:'AdsMediaPanelImageBox',mixins:[v],propTypes:{alt:ea.string,decoration:ea.oneOf(Object.keys(na)),image:ea.instanceOf(i).isRequired,imageSpec:ea.object,isTooSmall:ea.bool,igSpecificImageSpec:ea.object,onDecorationIconClick:ea.func,onImageClick:ea.func,onImageDoubleClick:ea.func},getDefaultProps:function(){return {decoration:'default',isTooSmall:false};},getInitialState:function(){return {imageReady:this.props.image.hasDimensions(),previewShown:false,hovering:false,isValidForFacebook:true};},_isDisabled:function(){return this.props.decoration==='disabled';},_mayClickImages:function(){return (!this._isDisabled()&&!(this.props.isTooSmall&&!this.state.isValidForFacebook));},_getOnImageClick:function(){return this._mayClickImages()?this.props.onImageClick:null;},_getOnImageDoubleClick:function(){return this._mayClickImages()?this.props.onImageDoubleClick:null;},_mayShowPreviews:function(){return (!this._isDisabled()&&this.props.image.isStockImage()&&j.flyoverPreviewEnabled());},_getOnImageMouseEnter:function(){return this._mayShowPreviews()?this._showPreview:null;},_getOnImageMouseLeave:function(){return this._mayShowPreviews()?this._hidePreview:null;},_showPreview:function(){this._resetSchedulePreviewHide();this.setState({previewShown:true});},_hidePreview:function(){this._resetSchedulePreviewHide();this.setState({previewShown:false});},_onImageDimensionsReady:function(){if(this.isMounted())this.setState({imageReady:true});},componentWillReceiveProps:function(pa){if(pa.image.equals(this.props.image))return;var qa=pa.image.hasDimensions();this.setState({imageReady:qa});if(!qa)pa.image.setDimensionsReadyCallback(this._onImageDimensionsReady);},componentWillMount:function(){this._setSchedulePreviewHide(z(this._hidePreview,la));if(!this.state.imageReady)this.props.image.setDimensionsReadyCallback(this._onImageDimensionsReady);if(this.props.igSpecificImageSpec)this.props.image.resetValidation(this.props.igSpecificImageSpec.placement);},componentWillUnmount:function(){this._resetSchedulePreviewHide();this._setSchedulePreviewHide(null);},_setSchedulePreviewHide:function(pa){var qa=this;qa._schedulePreviewHide=pa;},_resetSchedulePreviewHide:function(){var pa=this;pa._schedulePreviewHide.reset();},_renderDecorationIcon:function(){var pa=this.props.onDecorationIconClick;return (t.createElement(s,{className:"_5ywm",tabIndex:pa?null:-1,onClick:pa,onMouseEnter:this._getOnImageMouseEnter(),onMouseLeave:this._getOnImageMouseLeave()}));},_renderOverlay:function(){if(!this._isDisabled())return null;return (t.createElement('div',{className:"_29wz"}));},_renderImage:function(){var pa=this.props.image,qa=this._calculateImageDimensions(),ra=pa.calculatedWidth,sa=pa.calculatedHeight,ta=null,ua=null,va=null;if(this.props.isTooSmall){ta=this._renderErrorIcon();ua=this._renderDimensionInfo();va=this._renderOverlayGradient();}else if(ma&&this.state.hovering){ua=this._renderDimensionInfo();va=this._renderOverlayGradient();}return (t.createElement(p,{className:"_29w-"},t.createElement(o,null,t.createElement('div',{className:!pa.isStockImage()?"_5ywo":''},t.createElement(m,{alt:this.props.alt,backgroundPosition:'0px',backgroundSize:'cover',className:(!pa.isStockImage()&&!ma?"_24s3":'')+(!pa.isStockImage()&&ma?' '+"_24s7":''),height:sa||qa.height,loadingIndicatorStyle:'small',optimizeResizeSpeed:true,ref:'image',src:pa.getThumbnailUrl()||pa.getUrl(),style:this._getImageStyle(),width:ra||qa.width}))),va,t.createElement(q,{vertical:'bottom'},t.createElement('div',{className:"_20-u"},ua,ta))));},_renderOverlayGradient:function(){return (t.createElement(q,{vertical:'bottom'},t.createElement(r,{className:"_2_4q",color:'black',direction:'up'})));},_renderDimensionInfo:function(){var pa=this.props.image.isStockImage()?this._calculateFullSizeStockImageDimensions():this._getImageDimensions();return aa._("{width} \u00d7 {height}",[aa.param('width',pa.width),aa.param('height',pa.height)]);},_renderErrorIcon:function(){var pa=this.props.imageSpec;if(!pa)return;if(!this.props.image.isValidated(pa.placement))this.props.image.validateNow(pa);var qa=this.props.image.getValidation(pa.placement).errorMessage,ra,sa=this.props.igSpecificImageSpec;if(sa){if(!this.props.image.isValidated(sa.placement))this.props.image.validateNow(sa);var ta=this.props.image.getValidation(sa.placement);ra=ta.errorMessage;}if(qa&&this.state.isValidForFacebook)this.setState({isValidForFacebook:false});return (t.createElement(k,{className:"_20-v",messages:[qa||ra],type:l.ERROR_IMAGE}));},render:function(){return (t.createElement('div',{className:"_5ywp"},t.createElement('div',{className:da((!ma?"_24s3":'')+(ma?' '+"_24s7":''),na[this.props.decoration],this.props.className),onMouseEnter:(function(){return this.setState({hovering:true});}).bind(this),onMouseLeave:(function(){return this.setState({hovering:false});}).bind(this)},t.createElement(s,{className:"_5ywq",tabIndex:this.props.onImageClick?null:-1,onClick:this._getOnImageClick(),onDoubleClick:this._getOnImageDoubleClick(),onMouseEnter:this._getOnImageMouseEnter(),onMouseLeave:this._getOnImageMouseLeave()},this._renderImage()),this._renderOverlay(),this._renderDecorationIcon())));},renderLayers:function(){var pa=this.props.image,qa=this._mayShowPreviews()&&this.state.previewShown,ra=pa.getPreviewWidth(),sa=pa.getPreviewHeight(),ta=null;if(!qa)return {};var ua={height:String(sa)+'px',width:String(ra)+'px'},va=ba(u.findDOMNode(this)),wa=ca(),xa=va.x,ya=wa.width-va.x-va.width;ta=xa>ya?'left':'right';return {preview:t.createElement(n,{contextRef:(function(){return this.refs.image;}).bind(this),position:ta,shown:true,style:ua},t.createElement(m,{backgroudSize:'cover',backgroundPosition:'0px',height:sa,loadingIndicatorStyle:'large',optimizeResizeSpeed:true,src:pa.getPreviewUrl(),width:ra}))};},_getSizeMultiplier:function(pa,qa,ra){return ma?Math.min(qa/pa.width,ra/pa.height):Math.min(qa/pa.width,ra/pa.height,1);},_getStockImageSizeMultiplier:function(){return this._getSizeMultiplier(this._getStockImageVisibleDimensions(),fa,ga);},_fitDimensions:function(pa,qa,ra){var sa=this._getSizeMultiplier(pa,qa,ra);return {height:Math.floor(pa.height*sa),width:Math.floor(pa.width*sa)};},_getImageStyle:function(){var pa=this.props.image;if(!pa.isStockImage()||!this.state.imageReady)return null;var qa=this._getStockImageVisibleDimensions(),ra=this._getImageDimensions(),sa={height:ra.height-qa.height,width:ra.width-qa.width},ta=this._getStockImageSizeMultiplier(),ua={};if(sa.height>0)ua.marginBottom=String(Math.ceil(sa.height*-ta))+'px';if(sa.width>0)ua.marginRight=String(Math.ceil(sa.width*-ta))+'px';return ua;},_getImageDimensions:function(){return {height:this.props.image.height,width:this.props.image.width};},_getNonStockImageDimensions:function(){return {height:this.props.image.getThumbnailHeight()||this.props.image.height,width:this.props.image.getThumbnailWidth()||this.props.image.width};},_getStockImageVisibleDimensions:function(){return {height:this.props.image.getThumbnailHeight(),width:this.props.image.getThumbnailWidth()};},_calculateImageDimensions:function(){return this.props.image.isStockImage()?this._calculateStockImageDimensions():this._calculateNonStockImageDimensions();},_calculateNonStockImageDimensions:function(){if(!this.state.imageReady)return {height:ka,width:ja};return this._fitDimensions(this._getNonStockImageDimensions(),fa,ga);},_calculateStockImageDimensions:function(){if(!this.state.imageReady)return this._fitDimensions(this._getStockImageVisibleDimensions(),fa,ga);var pa=this._getImageDimensions(),qa=this._getStockImageSizeMultiplier();return {height:Math.floor(pa.height*qa),width:Math.floor(pa.width*qa)};},_calculateFullSizeStockImageDimensions:function(){var pa=this.props.image;if(pa.hasFullSizeDimensions())return {height:pa.getFullSizeHeight(),width:pa.getFullSizeWidth()};var qa=pa.getPreviewWidth(),ra=pa.getPreviewHeight(),sa=Math.min(ha/qa,ia/ra);return {height:Math.round(ra*sa),width:Math.round(qa*sa)};}});f.exports=oa;},null);
__d('AdsMediaStandaloneLibraryImageWithDimensions.react',['AdsImageLegacy','AdsValidationIcon.react','AdsValidationIconType','BackgroundImage.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=o.PropTypes,s={height:600,width:200},t={height:400,width:400},u=o.createClass({displayName:'AdsMediaStandaloneLibraryImageWithDimensions',propTypes:{alt:r.string,image:r.instanceOf(h).isRequired,imageReady:r.bool},getInitialState:function(){return {thumbnailLoaded:false};},render:function(){var v=this.props.image,w=this._calculateImageDimensions(),x=v.calculatedWidth,y=v.calculatedHeight,z=this.state.thumbnailLoaded?v.getUrl():v.getThumbnailUrl();return (o.createElement(m,{className:"_1bye"},o.createElement(l,null,o.createElement('div',null,o.createElement(k,{alt:this.props.alt,backgroundPosition:0,backgroundSize:'cover',className:"_2vjn",height:y||w.height,loadingIndicatorStyle:'small',optimizeResizeSpeed:true,src:z,width:x||w.width,onImageLoad:this._handleImageLoad}))),o.createElement(n,{vertical:'bottom'},this._renderImageDimensions(v))));},_renderImageDimensions:function(v){var w=v.getWidth(),x=v.getHeight();return (o.createElement('div',{className:"_1byh"},o.createElement('span',{className:"_1byi",onClick:this._handleImageInfoClick},o.createElement(i,{className:"_1byj",type:j.LARGE_IMAGE}),o.createElement('span',{className:"_1byk"},q._("{width} \u00d7 {height}",[q.param('width',w),q.param('height',x)])))));},_handleImageLoad:function(){this.setState({thumbnailLoaded:true});},_handleImageInfoClick:function(v){v.stopPropagation();this.props.onExpandClick(this.props.image);},_calculateImageDimensions:function(){if(!this.props.imageReady)return t;return this._fitDimensions(this._getImageDimensions(),s);},_getImageDimensions:function(){return {height:this.props.image.getThumbnailHeight()||this.props.image.height,width:this.props.image.getThumbnailWidth()||this.props.image.width};},_fitDimensions:function(v,w){var x=this._getSizeMultiplier(v,w);return {height:Math.floor(v.height*x),width:Math.floor(v.width*x)};},_getSizeMultiplier:function(v,w){return Math.min(w.width/v.width,w.height/v.height,1);}});f.exports=u;},null);
__d('AdsMediaStandaloneLibraryMetadataImage.react',['AdsImageLegacy','AdsMediaStandaloneLibraryImageWithDimensions.react','Link.react','React','URI','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=180,q=k.createClass({displayName:'AdsMediaStandaloneLibraryMetadataImage',propTypes:{alt:o.string,image:o.instanceOf(h).isRequired,imageReady:o.bool.isRequired,onExpandClick:o.func.isRequired},render:function(){var s=this.props.image,t=new l(s.getUrl()).setQueryData({dl:1});return (k.createElement('div',{className:"_35qj"},k.createElement('div',{className:"_35qk"},k.createElement(i,{image:s,imageReady:this.props.imageReady,onExpandClick:this.props.onExpandClick})),k.createElement('div',{className:"_35ql"},k.createElement(r,{propertyKey:n._("Name:"),propertyValue:s.name}),k.createElement(r,{propertyKey:n._("Hash:"),propertyValue:k.createElement(j,{href:t},s.getAdAccountHash())}))));}}),r=k.createClass({displayName:'AdsMediaStandaloneLibraryMetadataProperty',propTypes:{propertyKey:o.node.isRequired,propertyValue:o.node.isRequired},render:function(){return (k.createElement('div',{className:"_35qo"},k.createElement('div',{className:"_35qp"},this.props.propertyKey),' ',k.createElement('div',{className:"_35qq"},this.props.propertyValue)));}});f.exports=q;},null);
__d('AdsMediaStandaloneLibrarySelectableImage.react',['AdsImageLegacy','AdsMediaStandaloneLibraryImageWithDimensions.react','Link.react','React','cx','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p={'default':null,disabled:null,selected:"_1byd"},q=k.createClass({displayName:'AdsMediaStandaloneLibrarySelectableImage',propTypes:{alt:o.string,decoration:o.oneOf(Object.keys(p)).isRequired,image:o.instanceOf(h).isRequired,imageReady:o.bool,onExpandClick:o.func.isRequired,onImageClick:o.func.isRequired},getDefaultProps:function(){return {decoration:'default',onExpandClick:m,onImageClick:m};},render:function(){return (k.createElement('div',{className:"_1bym"},k.createElement('div',{className:n(p[this.props.decoration],this.props.className)},k.createElement(j,{className:"_1byn",tabIndex:this.props.onImageClick?null:-1,onClick:this.props.onImageClick},k.createElement(i,{image:this.props.image,imageReady:this.props.imageReady,onExpandClick:this.props.onExpandClick,onImageClick:this.props.onImageClick})),this._renderDecorationIcon())));},_renderDecorationIcon:function(){return (k.createElement(j,{className:"_1byl"}));}});f.exports=q;},null);
__d('AdsMediaStandaloneLibraryImage.react',['AdsImageLegacy','AdsMediaStandaloneLibraryMetadataImage.react','AdsMediaStandaloneLibrarySelectableImage.react','React','cx','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'AdsMediaStandaloneLibraryImage',propTypes:{alt:n.string,decoration:n.string.isRequired,image:n.instanceOf(h).isRequired,onExpandClick:n.func.isRequired,onImageClick:n.func.isRequired,showImageMetadata:n.bool},getDefaultProps:function(){return {decoration:'default',onExpandClick:m,onImageClick:m,showImageMetadata:false};},getInitialState:function(){return {imageReady:this.props.image.hasDimensions()};},_onImageDimensionsReady:function(){this.setState({imageReady:true});},componentWillReceiveProps:function(p){if(p.image.equals(this.props.image))return;var q=p.image.hasDimensions();this.setState({imageReady:q});if(!q)p.image.setDimensionsReadyCallback(this._onImageDimensionsReady);},componentWillMount:function(){if(!this.state.imageReady)this.props.image.setDimensionsReadyCallback(this._onImageDimensionsReady);},_renderMetadataImage:function(){return (k.createElement(i,{alt:this.props.alt,image:this.props.image,imageReady:this.state.imageReady,onExpandClick:this.props.onExpandClick}));},_renderSelectableImage:function(){return (k.createElement(j,{alt:this.props.alt,decoration:this.props.decoration,image:this.props.image,imageReady:this.state.imageReady,onExpandClick:this.props.onExpandClick,onImageClick:this.props.onImageClick}));},render:function(){return (k.createElement('div',{className:"_3tlt"},this.props.showImageMetadata?this._renderMetadataImage():this._renderSelectableImage()));}});f.exports=o;},null);
__d("DimensionTracker",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){"use strict";this.$DimensionTracker1=[];this.$DimensionTracker2=0;}h.prototype.setValue=function(i,j){"use strict";this.$DimensionTracker2++;this.$DimensionTracker1.push({index:i,value:j});};h.prototype.getChangesSince=function(i){"use strict";var j=this.$DimensionTracker1.slice(i,this.$DimensionTracker2);return {changes:j,pointer:this.$DimensionTracker2};};f.exports=h;},null);
__d('ImageRowItem.react',['React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.PropTypes,j=h.createClass({displayName:'ImageRowItem',propTypes:{footerRow:i.node,height:i.number.isRequired,imageRowItems:i.array,renderImage:i.func,rowGetter:i.func,rowIndex:i.number.isRequired,width:i.number.isRequired},render:function(){var k=this.props.imageRowItems[this.props.rowIndex];if(k){var l=this.props.renderImage,m=k.map(l);return (h.createElement('div',{key:'ImageRowItem'+k[0].getAdAccountHash()},m));}else return (h.createElement('div',{key:'ImageRowItemFooter'},this.props.footerRow));}});f.exports=j;},null);
__d('InfiniteScroll.react',['Event','React','ReactDOM','Scroll','SubscriptionsHandler','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=i.createClass({displayName:'InfiniteScroll',propTypes:{distanceToEnd:o.number,onEndReached:o.func},getDefaultProps:function(){return {distanceToEnd:50};},componentDidMount:function(){var q=j.findDOMNode(this);this.subscriptions=new l();this.subscriptions.addSubscriptions(h.listen(q,'scroll',this._checkIfEndReached),h.listen(q,'resize',this._checkIfEndReached));},componentDidUpdate:function(){this._checkIfEndReached();},componentWillUnmount:function(){this.subscriptions.release();delete this.subscriptions;},_checkIfEndReached:function(){if(!this.props.onEndReached)return;var q=j.findDOMNode(this);if(!q.offsetHeight)return;var r=k.getTop(q)+q.offsetHeight;if(r>=q.scrollHeight-this.props.distanceToEnd)this.props.onEndReached();},render:function(){return (i.createElement('div',babelHelpers._extends({},this.props,{className:n(this.props.className,"_1ph1")}),this.props.children));}});f.exports=p;},null);
/**
 * @providesModule sha256
 * @preserve-header
 *
 * Copyright (c) 2003, Christoph Bichlmeier
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ''AS IS'' AND ANY EXPRESS
 * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHORS OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
 * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */__d("sha256",["str2rstr"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('str2rstr');function i(ga,ha){return ((ha>>>ga)|(ha<<(32-ga)));}function j(ga,ha,ia){return ((ga&ha)^(~ga&ia));}function k(ga,ha,ia){return ((ga&ha)^(ga&ia)^(ha&ia));}function l(ga){return (i(2,ga)^i(13,ga)^i(22,ga));}function m(ga){return (i(6,ga)^i(11,ga)^i(25,ga));}function n(ga){return (i(7,ga)^i(18,ga)^(ga>>>3));}function o(ga){return (i(17,ga)^i(19,ga)^(ga>>>10));}function p(ga,ha){return (ga[ha&15]+=o(ga[(ha+14)&15])+ga[(ha+9)&15]+n(ga[(ha+1)&15]));}var q=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),r=new Array(8),s=new Array(2),t=new Array(64),u=new Array(16),v="0123456789abcdef";function w(ga,ha){var ia=(ga&65535)+(ha&65535),ja=(ga>>16)+(ha>>16)+(ia>>16);return (ja<<16)|(ia&65535);}function x(){s[0]=s[1]=0;r[0]=1779033703;r[1]=3144134277;r[2]=1013904242;r[3]=2773480762;r[4]=1359893119;r[5]=2600822924;r[6]=528734635;r[7]=1541459225;}function y(){var ga,ha,ia,ja,ka,la,ma,na,oa,pa;ga=r[0];ha=r[1];ia=r[2];ja=r[3];ka=r[4];la=r[5];ma=r[6];na=r[7];for(var qa=0;qa<16;qa++)u[qa]=((t[(qa<<2)+3])|(t[(qa<<2)+2]<<8)|(t[(qa<<2)+1]<<16)|(t[qa<<2]<<24));for(var ra=0;ra<64;ra++){oa=na+m(ka)+j(ka,la,ma)+q[ra];if(ra<16){oa+=u[ra];}else oa+=p(u,ra);pa=l(ga)+k(ga,ha,ia);na=ma;ma=la;la=ka;ka=w(ja,oa);ja=ia;ia=ha;ha=ga;ga=w(oa,pa);}r[0]+=ga;r[1]+=ha;r[2]+=ia;r[3]+=ja;r[4]+=ka;r[5]+=la;r[6]+=ma;r[7]+=na;}function z(ga,ha){var ia,ja,ka=0;ja=((s[0]>>3)&63);var la=(ha&63);if((s[0]+=(ha<<3))<(ha<<3))s[1]++;s[1]+=(ha>>29);for(ia=0;ia+63<ha;ia+=64){for(var ma=ja;ma<64;ma++)t[ma]=ga.charCodeAt(ka++);y();ja=0;}for(var ma=0;ma<la;ma++)t[ma]=ga.charCodeAt(ka++);}function aa(){var ga=((s[0]>>3)&63);t[ga++]=128;if(ga<=56){for(var ha=ga;ha<56;ha++)t[ha]=0;}else{for(var ha=ga;ha<64;ha++)t[ha]=0;y();for(var ha=0;ha<56;ha++)t[ha]=0;}t[56]=(s[1]>>>24)&255;t[57]=(s[1]>>>16)&255;t[58]=(s[1]>>>8)&255;t[59]=s[1]&255;t[60]=(s[0]>>>24)&255;t[61]=(s[0]>>>16)&255;t[62]=(s[0]>>>8)&255;t[63]=s[0]&255;y();}function ba(){var ga=0,ha=new Array(32);for(var ia=0;ia<8;ia++){ha[ga++]=((r[ia]>>>24)&255);ha[ga++]=((r[ia]>>>16)&255);ha[ga++]=((r[ia]>>>8)&255);ha[ga++]=(r[ia]&255);}return ha;}function ca(){var ga=new String();for(var ha=0;ha<8;ha++)for(var ia=28;ia>=0;ia-=4)ga+=v.charAt((r[ha]>>>ia)&15);return ga;}function da(ga){var ha=0;for(var ia=0;ia<8;ia++)for(var ja=28;ja>=0;ja-=4)ga[ha++]=v.charCodeAt((r[ia]>>>ja)&15);}function ea(ga,ha){x();z(ga,ga.length);aa();if(ha){da(ha);}else return ca();}function fa(ga,ha,ia){if(ga===null||ga===undefined)return null;ha=(typeof ha=='undefined')?true:ha;if(ha)ga=h(ga);return ea(ga,ia);}f.exports=fa;},null);
__d("PhotoArrange",["Map","sha256"],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=.5,k=.5,l={height:-1,isOptimal:false,isValid:false};function m(){"use strict";this.$PhotoArrange1=new h();this.$PhotoArrange2=new h();}m.prototype.solve=function(o,p){"use strict";var q=p.map(function(u){return u.height/u.width;}),r=this.$PhotoArrange3(o,p);if(this.$PhotoArrange1.has(r))return this.$PhotoArrange1.get(r);var s;try{s=this.$PhotoArrange4(o,p,q);}catch(t){s=this.$PhotoArrange5(o,p,q);}this.$PhotoArrange1.set(r,s);return s;};m.prototype.$PhotoArrange3=function(o,p){"use strict";var q=[String(o.containerWidth),String(o.marginPerImage),String(o.maxImageHeight),String(o.minImageHeight),String(o.minImageWidth)].concat(p.map(function(r){return ([String(r.width),String(r.height)].join(","));})).join(",");return i(q);};m.prototype.$PhotoArrange5=function(o,p,q){"use strict";var r=(o.maxImageHeight+o.minImageHeight)/2;return p.map(function(s,t){var u=r/q[t];return {height:r,width:u};});};m.prototype.$PhotoArrange4=function(o,p,q){"use strict";if(!p.length)return [];var r=l,s=0,t=l,u=0,v=p.length,w=o.maxImageHeight,x=o.minImageWidth,y=o.containerWidth,z=w/q[0],aa=0;while(aa<v-1){var ba=Math.max(x,w/q[aa+1]);if(z+ba>y){break;}else{z+=ba+o.marginPerImage;aa++;}}var ca=[],da=[],ea;for(;aa<v;aa++){s=aa+1;ca=p.slice(0,s);da=q.slice(0,s);ea=this.$PhotoArrange3(o,ca);if(this.$PhotoArrange2.has(ea)){r=this.$PhotoArrange2.get(ea);}else{r=new n(o,da.slice(0,s)).solve();this.$PhotoArrange2.set(ea,r);}if(r.isValid&&r.isOptimal){break;}else if(r.isValid){t=r;u=s;}else{r=t;s=u;break;}}if(r.isValid){var fa=r.height,ga=p.slice(0,s);ga=ga.map(function(ha,ia){return {width:fa/q[ia],height:fa};});return ga.concat(this.$PhotoArrange4(o,p.slice(s),q.slice(s)));}else throw "There is no valid solution to arrange these photos\n        under the specified constraints";};function n(o,p){"use strict";var q=o.containerWidth,r=o.marginPerImage,s=o.maxImageHeight,t=o.minImageHeight,u=o.minImageWidth;this.$ImagesBSSolver1=q;this.$ImagesBSSolver2=p;this.$ImagesBSSolver3=r;this.$ImagesBSSolver4=s;this.$ImagesBSSolver5=t;this.$ImagesBSSolver6=u;}n.prototype.solve=function(){"use strict";var o=this.$ImagesBSSolver5,p=this.$ImagesBSSolver4,q=(p+o)/2,r=this.$ImagesBSSolver7(o),s=this.$ImagesBSSolver7(q),t=this.$ImagesBSSolver7(p);if(!r.isValid){return l;}else if(t.isValid){return {height:p,isOptimal:t.isOptimal,isValid:t.isValid};}else{while(!s.isValid||p-o>j){if(!s.isValid){p=q;}else o=q;q=(p+o)/2;s=this.$ImagesBSSolver7(q);}return {height:q,isOptimal:s.isOptimal,isValid:s.isValid};}};n.prototype.$ImagesBSSolver7=function(o){"use strict";var p=this.$ImagesBSSolver2.reduce((function(s,t){var u=Math.max(this.$ImagesBSSolver6,o/t);return s+u+this.$ImagesBSSolver3;}).bind(this),-this.$ImagesBSSolver3),q=p<this.$ImagesBSSolver1,r=q&&p+k>this.$ImagesBSSolver1;return {isOptimal:r,isValid:q};};f.exports=new m();},null);
__d('AdsMediaLibrary.react',['AdsCreationExperimentStore','AdsImageLegacy','AdsImageValidation','AdsMediaLibraryExpandedAsset.react','AdsMediaPanelImageBox.react','AdsMediaStandaloneLibraryImage.react','ImageRowItem.react','InfiniteScroll.react','PhotoArrange','React','ReactDOM','DimensionTracker','Scroll','SimpleList.react','XUISpinner.react','adsGKCheck','cx','emptyFunction','invariant','joinClasses','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){'use strict';if(c.__markCompiled)c.__markCompiled();var ca=q.PropTypes,da=false,ea={height:100,width:100},fa=60,ga=290,ha=90,ia=210,ja=14,ka=48,la=550,ma=60,na=50,oa=0,pa=12,qa=49,ra=q.createClass({displayName:'AdsMediaLibrary',propTypes:{disableTooSmallImages:ca.bool,height:ca.number.isRequired,imageList:ca.arrayOf(ca.instanceOf(i)).isRequired,imageSpec:ca.shape({minWarningWidth:ca.number.isRequired,minWarningHeight:ca.number.isRequired}),isClickEnabled:ca.bool.isRequired,isLoadingInitial:ca.bool,igSpecificImageSpec:ca.object,onEndReached:ca.func,onImageClick:ca.func.isRequired,onImageDoubleClick:ca.func,photoArrangeConstraints:ca.shape({containerPadding:ca.number.isRequired,maxImageHeight:ca.number.isRequired,minImageHeight:ca.number.isRequired,minImageWidth:ca.number.isRequired,marginPerImage:ca.number.isRequired}).isRequired,photoArrangeEnabled:ca.bool,selectedImageList:ca.array.isRequired,scrollingAreaFooter:ca.object,showStandaloneImageMetadata:ca.bool,standalone:ca.bool,topBarHeight:ca.number},getDefaultProps:function(){return {disableTooSmallImages:false,onImageClick:y,photoArrangeConstraints:{containerPadding:fa,maxImageHeight:ma,minImageHeight:na,minImageWidth:oa,marginPerImage:pa},selectedImageList:[],showStandaloneImageMetadata:false,standalone:false};},getInitialState:function(){return {containerWidth:0,expandedImage:null};},componentDidMount:function(){ba(this.measureContainerWidth);},componentWillReceiveProps:function(){this.measureContainerWidth();},render:function(){var sa=aa(this.props.className,"_3suv"),ta=this.props.children;if(ta)ta=q.createElement('div',{className:"_13u2 clearfix"},ta);var ua,va=this.props.photoArrangeConstraints;if(this.state.containerWidth&&this.props.photoArrangeEnabled){var wa=Math.max(0,this.state.containerWidth-va.containerPadding),xa=this.props.imageList.map(function(eb){return babelHelpers._extends({},eb,{width:eb.width||ea.width,height:eb.height||ea.height});}),ya=p.solve(babelHelpers._extends({},va,{containerWidth:wa}),xa);ua=this.props.imageList.map(function(eb,fb){eb.calculatedWidth=ya[fb].width;eb.calculatedHeight=ya[fb].height;return eb;});}else ua=this.props.imageList;if(this.props.standalone){var za=null;if(wa){var ab=this._imagesToRows(ua,wa,va.marginPerImage,va.minImageWidth),bb=new s();ab.forEach((function(eb,fb){var gb=eb[0],hb=this.props.showStandaloneImageMetadata?ha:ja,ib=gb.calculatedHeight+hb;bb.setValue(fb,ib);}).bind(this));bb.setValue(ab.length,qa);var cb=this.props.showStandaloneImageMetadata?ga:ia,db=this.state.containerWidth-ka;za=q.createElement(u,{height:this.props.height,item:q.createElement(n,{footerRow:this.props.scrollingAreaFooter,imageRowItems:ab,renderImage:this._renderStandaloneLibraryImage}),rowCount:ab.length+1,rowHeight:cb,rowHeightTracker:bb,width:db});}return (q.createElement('div',{className:sa,ref:'AdsMediaLibraryRoot'},q.createElement('div',{className:"_13t_",ref:'imagesContainer'},za),this._renderExpandedView(),this._renderOverlay()));}else return (q.createElement('div',{className:sa,ref:'AdsMediaLibraryRoot'},q.createElement(o,{className:"_13u1",style:{height:this.props.height},onEndReached:this.props.onEndReached},ta,q.createElement('div',{className:"_13t_",ref:'imagesContainer'},ua.map(this._renderImage)),this.props.scrollingAreaFooter),this._renderOverlay()));},componentWillMount:function(){if(w('ads_image_picker_redesign')){var sa=h.getExperiment('ads_image_picker_redesign_experiment');sa.logExposure();da=sa.getParam('has_redesign')==='1';}},measureContainerWidth:function(){var sa=this.refs.imagesContainer;if(sa){var ta=r.findDOMNode(sa),ua=ta.offsetWidth;this.setState({containerWidth:ua});}},_imagesToRows:function(sa,ta,ua,va){if(!sa.length)return [];var wa=[[]],xa=0,ya=0;sa.forEach(function(za,ab){var bb=Math.max(va,za.calculatedWidth);if(ya+bb>ta){wa.push([]);ya=0;xa++;}wa[xa].push(za);ya+=bb+ua;});return wa;},_renderOverlay:function(){if(!this.props.isLoadingInitial)return null;return (q.createElement('div',{className:"_13u3"},q.createElement(v,{background:'light',className:"_13t-",size:'large'})));},_renderExpandedView:function(){if(!this.state.expandedImage)return null;var sa=this.state.expandedImage,ta=Math.min(sa.height,la),ua=ta*sa.width/sa.height;return (q.createElement(k,{height:ta,key:'expanded_view',source:sa.getUrl(),topBarHeight:this.props.topBarHeight,width:ua,onClickClose:this._onExpandClickClose}));},_onExpandClick:function(sa){this.setState({expandedImage:sa});},_onExpandClickClose:function(){this.setState({expandedImage:null});},_isImageSelected:function(sa){return this.props.selectedImageList.some(function(ta){return ta.getUniqueIdentifier()==sa;});},_getImageDecoration:function(sa){if(this._isImageSelected(sa.getUniqueIdentifier())){return 'selected';}else if(!this.props.isClickEnabled)return 'disabled';return 'default';},_renderStandaloneLibraryImage:function(sa){return (q.createElement(m,{decoration:this._getImageDecoration(sa),image:sa,imageSpec:this.props.imageSpec,key:sa.getUniqueIdentifier(),ref:sa.getUniqueIdentifier(),showImageMetadata:this.props.showStandaloneImageMetadata,onExpandClick:this._onExpandClick,onImageClick:(function(event){return this.props.onImageClick(sa,event.shiftKey);}).bind(this)}));},_renderImage:function(sa){var ta=false;if(this.props.imageSpec){ta=!j.isWarningSize(sa,this.props.imageSpec);if(this.props.igSpecificImageSpec)ta=ta||!j.isWarningSize(sa,this.props.igSpecificImageSpec);}return (q.createElement(l,{className:(!da?"_13u0":'')+(da?' '+"_3ubt":''),decoration:this._getImageDecoration(sa),igSpecificImageSpec:this.props.igSpecificImageSpec,image:sa,imageSpec:this.props.imageSpec,isTooSmall:this.props.disableTooSmallImages&&ta,key:sa.getUniqueIdentifier(),ref:sa.getUniqueIdentifier(),onImageClick:(function(event){this.props.onImageClick&&this.props.onImageClick(sa);}).bind(this),onImageDoubleClick:(function(event){this.props.onImageDoubleClick&&this.props.onImageDoubleClick(sa);}).bind(this)}));},scrollToImage:function(sa){var ta=sa.getUniqueIdentifier();!(ta in this.refs)?z(0):undefined;var ua=r.findDOMNode(this.refs[ta]),va=r.findDOMNode(this),wa=ua.offsetTop;if(va!=ua.offsetParent)wa-=va.offsetTop;t.setTop(va,wa);}});f.exports=ra;},null);
__d('AdsMediaPanelInfiniteScrollFooter.react',['React','ReactComponentWithPureRenderMixin','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'AdsMediaPanelInfiniteScrollFooter',mixins:[i],propTypes:{fetchingNextPage:m.bool.isRequired,imagesLoaded:m.bool.isRequired,onEndReached:m.func},componentDidMount:function(){if(this.props.onEndReached)this.props.onEndReached();},render:function(){if(!this.props.imagesLoaded)return null;if(this.props.fetchingNextPage)return (h.createElement('div',{className:"_4bnz"},h.createElement(j,{background:'light',size:'large'})));return (h.createElement('div',{className:"_4bn-"},h.createElement('div',{className:"_4bn_"},h.createElement('div',{className:"_4bo2"},l._("No more images found")))));}});f.exports=n;},null);
__d('AdsMediaPanelMessage.react',['Image.react','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'AdsMediaPanelMessage',propTypes:{icon:l.object.isRequired,subtitle:l.string,title:l.string.isRequired},render:function(){var n=k("_3suv",this.props.className);return (i.createElement('div',{className:n,style:this.props.style},i.createElement('div',{className:"_5y4t"},i.createElement(h,{src:this.props.icon}),i.createElement('div',{className:"_5y4u"},i.createElement('div',null,this.props.title),i.createElement('div',null,this.props.subtitle)))));}});f.exports=m;},null);
__d('AdsShutterstockSearchBar.react',['Image.react','React','XUITextInput.react','cx','emptyFunction','ix','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=i.createClass({displayName:'AdsShutterstockSearchBar',propTypes:{searchText:o.string,onTriggerSearch:o.func,onTextChange:o.func},getDefaultProps:function(){return {onTriggerSearch:l,onTextChange:l};},render:function(){return (i.createElement('div',{className:"_134r"},i.createElement('div',{className:"_134s"},i.createElement(h,{className:"_134t",src:m('/images/ads/createflow/stock_images/icon_search.png')}),i.createElement('div',{className:"_134u"},n._("Powered by {partner-company-name}",[n.param('partner-company-name','Shutterstock')])),i.createElement(j,{className:"_134v",defaultValue:this.props.searchText,height:'tall',placeholder:n._("Search Free Stock Images"),onChange:this._onChange,onEnter:this._onTriggerSearch}))));},_onTriggerSearch:function(){this.props.onTriggerSearch();},_onChange:function(event){this.props.onTextChange(event.target.value);}});f.exports=p;},null);
__d('AdsShutterstockUseGuidelines.react',['AdsActionTypes','AdsDispatcher','ContextualDialog.react','LayerFadeOnHide','Link.react','React','ReactLayeredComponentMixin','cx','debounce','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=m.PropTypes,t=250,u=320,v=m.createClass({displayName:'AdsShutterstockUseGuidelines',mixins:[n],propTypes:{dialogPosition:s.string},getDefaultProps:function(){return {dialogPosition:'right'};},getInitialState:function(){return {dialogShown:false};},_cancelScheduledHides:function(){this._scheduleHide.reset();},_hideDialog:function(){this._cancelScheduledHides();this.setState({dialogShown:false});},_toggleDialog:function(){this._cancelScheduledHides();var w=!this.state.dialogShown;this.setState({dialogShown:w});if(w)i.handleUpdateFromViewAction({type:h.SHUTTERSTOCK.GUIDELINES_SHOW});},componentWillMount:function(){this._scheduleHide=p(this._hideDialog,t);},componentWillUnmount:function(){this._cancelScheduledHides();this._scheduleHide=null;},render:function(){var w=r("_54kg",this.props.className);return (m.createElement(l,{className:w,ref:'link',onClick:this._toggleDialog,onMouseEnter:this._cancelScheduledHides,onMouseLeave:this._scheduleHide},q._("Some stock images may not comply with Facebook policies. Read our Advertising Policies before selecting an image.")));},getLegalLanguage:function(){return q._("Shutterstock images are available at no additional cost for use in your Facebook adverts, with the following guidelines: {list of legal guidelines}",[q.param('list of legal guidelines',m.createElement('ul',{className:"_3-9n"},m.createElement('li',null,q._("You can't use the image as a trademark for a business.")),m.createElement('li',null,q._("You may not portray a person in a way that may be offensive, including: a) in adverts for dating services; b) in connection with political endorsements; c) with defamatory, unlawful, offensive or immoral content; and d) as suffering from, or being treated for, a physical or mental ailment.")),m.createElement('li',null,q._("You may only use the image in adverts and content on Facebook, and not with other websites or advertising services."))))]);},renderLayers:function(){return {dialog:m.createElement(j,{behaviors:{LayerFadeOnHide:k},contextRef:(function(){return this.refs.link;}).bind(this),position:this.props.dialogPosition,shown:this.state.dialogShown,width:u},m.createElement('div',{className:"_54kh",onMouseEnter:this._cancelScheduledHides,onMouseLeave:this._scheduleHide},m.createElement('h2',{className:"_54ki"},q._("Stock Image Use Guidelines")),this.getLegalLanguage()))};}});f.exports=v;},null);
__d('AdsCFShutterstockLibrary.react',['AdsCFActionTypes','AdsCFImageViewActions','AdsDispatcher','AdsImageCollectionViews','AdsImageLibraryUtils','AdsMediaLibrary.react','AdsMediaPanelInfiniteScrollFooter.react','AdsMediaPanelMessage.react','AdsShutterstockSearchBar.react','AdsShutterstockUseGuidelines.react','React','ShutterstockApiStatus','cx','debounce','fbt','ix','keyMirror'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();var y=r.PropTypes,z=k.views.STOCK,aa=x({NONE:null,INITIAL:null,MORE:null}),ba=x({NEW:null,SUBSEQUENT:null}),ca=r.createClass({displayName:'AdsCFShutterstockLibrary',propTypes:{defaultSearchText:y.string,imageCollection:y.object.isRequired,imageContainerHeight:y.number.isRequired,isClickEnabled:y.bool.isRequired,onImageClick:y.func,searchText:y.string,selectedImageList:y.array.isRequired},getInitialState:function(){return {loadState:aa.NONE,searchTextForAPI:this._getSearchText(this.props)};},componentDidMount:function(){this._debouncedNewSearch=u(this._newSearch,200,this);if(this.state.searchTextForAPI&&this.props.imageCollection.getImageCount(z)===0)this._newSearch(this.props.searchText);},_getSearchText:function(da){return da.searchText||da.defaultSearchText||'';},render:function(){if(!s.available)return (r.createElement(o,{className:this.props.className,icon:w('/images/ads/createflow/stock_images/icon_stock_no_results.png'),style:{height:String(this.props.imageContainerHeight)+'px'},subtitle:v._("Please try again later."),title:v._("Sorry, stock images aren't available at the moment.")}));return (r.createElement('div',{className:this.props.className},r.createElement(p,{defaultSearchText:this.props.defaultSearchText,searchText:this.props.searchText,onTextChange:this._onSearchTextChange,onTriggerSearch:this._onTriggerSearch}),this._renderContent()));},_renderContent:function(){var da=this.props.imageCollection,ea=da.getImageCount(z);if(ea>0||this.state.loadState!==aa.NONE){var fa=this.state.loadState===aa.INITIAL;return (r.createElement(m,{height:this.props.imageContainerHeight,imageList:da.getImages(z),isClickEnabled:this.props.isClickEnabled,isLoadingInitial:fa,scrollingAreaFooter:this._renderScrollingAreaFooter(),selectedImageList:this.props.selectedImageList,onEndReached:this._getOnEndReached(),onImageClick:this.props.onImageClick},r.createElement(q,{className:"_3cl1",dialogPosition:'left'})));}var ga,ha,ia;if(this.props.searchText||this.props.defaultSearchText){ga=w('/images/ads/createflow/stock_images/icon_stock_no_results.png');ha=v._("There aren't any images that match what you searched.");ia=v._("Try using other keywords.");}else{ga=w('/images/ads/createflow/stock_images/icon_library_no_images.png');ha=v._("Search for professional images to use in your adverts.");ia=v._("Any images you select will be saved in your image library.");}return (r.createElement(o,{icon:ga,style:{height:String(this.props.imageContainerHeight)+'px'},subtitle:ia,title:ha}));},_shouldEnableInfiniteScroll:function(){return (this.state.loadState===aa.NONE&&!!this._fetchNextPage);},_getOnEndReached:function(){return this._shouldEnableInfiniteScroll()?this._searchMore:null;},_renderScrollingAreaFooter:function(){return (r.createElement(n,{fetchingNextPage:!!this._fetchNextPage,imagesLoaded:this.state.loadState!==aa.INITIAL}));},_onTriggerSearch:function(){this._debouncedNewSearch.reset();this._newSearch(this.props.searchText);},_newSearch:function(da){var ea=this.state.searchTextForAPI;if(!ea){this.setState({loadState:aa.NONE});return;}this.setState({loadState:aa.INITIAL});l.searchStockImages(this._onSearchResults.bind(null,ea,ba.NEW),{q:ea});i.changeStockSearchText(da);},_searchMore:function(){if(!this._fetchNextPage)return;this.setState({loadState:aa.MORE});this._fetchNextPage((function(da,ea){this._onSearchResults(this.state.searchTextForAPI,ba.SUBSEQUENT,l.convertStockImages(da),ea);}).bind(this));},_onSearchResults:function(da,ea,fa,ga){if(!this.isMounted())return;if(da!==this.state.searchTextForAPI)return;this._fetchNextPage=ga;var ha=this.props.imageCollection;if(ea===ba.NEW)ha.clearImagesByViewBitmask(z);var ia=ha.getImageCount(z);ha.addImagesToBack_UNSAFE(fa,z);this.setState({loadState:aa.NONE});j.handleUpdateFromViewAction({data:{offset:ia,query:da},type:h.STOCK_IMAGE_SEARCH});},_onSearchTextChange:function(da){var ea=this._getSearchText(babelHelpers._extends({},this.props,{searchText:da}));this._fetchNextPage=null;this.setState({searchTextForAPI:ea});this._debouncedNewSearch(da);}});f.exports=ca;},null);
__d('AdsImageDimensionDataLoader',['Promise','CachedDOMImageSizePool'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(){this.$AdsImageDimensionDataLoader1=new i(1000,30*60*1000);}j.prototype.getDimensionByURL=function(k){return new h((function(l,m){this.$AdsImageDimensionDataLoader1.get(k,function(n,o){if(n&&o){l({width:n,height:o});}else m(new Error('Failed to fetch dimension for '+k));});}).bind(this));};f.exports=new j();},null);
__d('AdsMediaPanelTabs',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h({UPLOAD:null,LIBRARY:null,STOCK:null});f.exports=i;},null);
__d('AdsMediaPanelViewFilterBar.react',['AdsImageCollectionViews','Link.react','React','ReactLayeredComponentMixin','SimpleNUXMessage','SimpleNUXMessageTypes','XUIAmbientNUX.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=j.PropTypes,r=j.createClass({displayName:'AdsMediaPanelViewFilterBar',propTypes:{availableViewFilters:q.array.isRequired,instagramAccountLinked:q.bool.isRequired,viewFilter:q.object.isRequired,onViewFilterChoose:q.func},render:function(){if(this.props.availableViewFilters.length===0)return j.createElement('div',{className:"_5y6l"});return (j.createElement('div',{className:"_5y6m"},this.props.availableViewFilters.map(this._renderLink)));},_renderLink:function(u){if(u.view===h.views.INSTAGRAM&&!this.props.instagramAccountLinked){return (j.createElement(t,{key:u.view||'ALL',selectedFilter:this.props.viewFilter,showImageCount:false,viewFilter:u,onViewFilterChoose:this.props.onViewFilterChoose}));}else return (j.createElement(s,{key:u.view||'ALL',selectedFilter:this.props.viewFilter,showImageCount:true,viewFilter:u,onViewFilterChoose:this.props.onViewFilterChoose}));}}),s=j.createClass({displayName:'LinkItem',render:function(){var u=this.props.showImageCount?j.createElement('span',{className:"_5y6p"},this.props.viewFilter.count):null;return (j.createElement(i,{className:"_5y6n"+(this.props.viewFilter.view===this.props.selectedFilter.view?' '+"_5y6o":''),onClick:this._onViewLinkClick},j.createElement('span',null,j.createElement('span',null,this.props.viewFilter.text),u)));},_onViewLinkClick:function(){this.props.onViewFilterChoose&&this.props.onViewFilterChoose(this.props.viewFilter);}}),t=j.createClass({displayName:'LinkItemWithNux',mixins:[k],getInitialState:function(){return {nuxShown:!l.hasUserSeenMessage(m.INSTAGRAM_LIBRARY_ADS_IMAGE_SELECTOR)};},renderLayers:function(){return {nux_above:j.createElement(n,{contextRef:this._getInstagramViewFilterRef,position:'above',shown:this.state.nuxShown,onCloseButtonClick:this._onNUXCloseButtonClick},p._("Connect an Instagram account to use its photos in your ads."))};},render:function(){return (j.createElement(s,babelHelpers._extends({},this.props,{ref:'instagram_view_filter'})));},_getInstagramViewFilterRef:function(){return this.refs.instagram_view_filter;},_onNUXCloseButtonClick:function(){l.markMessageSeenByUser(m.INSTAGRAM_LIBRARY_ADS_IMAGE_SELECTOR);this.setState({nuxShown:false});}});f.exports=r;},null);
__d('AdsMediaPanelViewFilters',['AdsImageCollectionViews','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=[{view:h.views.LIBRARY,text:i._("Advert Images")},{view:h.views.INSTAGRAM,text:i._("Instagram images")},{view:h.views.PAGE,text:i._("Page Images")},{view:h.views.SCRAPED,text:i._("Website Images")}],k=0;j.forEach(function(n){k|=n.view;});var l={view:k,text:i._("All")};j.unshift(l);var m={filters:j,all:l};f.exports=m;},null);
__d('AdsShutterstockSearchLoader',['AdsGraphAPI'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=25,j={loadSearchResults:function(k,l){if(l)return l();return (h.get().search('adstockimage').get({limit:i,locale:'user',q:k}));}};f.exports=j;},null);
__d('AdsShutterstockSearchDispatcher',['AdsImageLegacy','AdsShutterstockSearchActions','AdsShutterstockSearchLoader'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={convertStockImages:function(l){return l.map(function(m){return new h({previewHeight:m.preview.height,previewUrl:m.preview.url,previewWidth:m.preview.width,stockImageID:m.id,thumbHeight:m.thumbnail.height,thumbWidth:m.thumbnail.width,url:m.thumbnail.url});});},loadSearchResults:function(l,m){j.loadSearchResults(l,m).done((function(n){var o={images:this.convertStockImages(n.data),next:null};if(n.next)o.next=n.next.bind(n);i.searchResultsLoaded(l,o);}).bind(this));}};f.exports=k;},null);
__d('AdsShutterstockSearchStore',['AdsActionTypes','AdsDispatcher','AdsShutterstockSearchDispatcher','FluxStore','LoadObject','Map','immutable','adsBaseStoreMixin','nullthrows'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r;'use strict';q=babelHelpers.inherits(s,k);r=q&&q.prototype;function s(){r.constructor.call(this,i);o(this);this.$AdsShutterstockSearchStoreClass1=new m();this.$AdsShutterstockSearchStoreClass2=new m();}s.prototype.__onDispatch=function(t){var u=t.action;switch(u.type){case h.SHUTTERSTOCK.SEARCH_RESULTS_LOADED:var v=this.$AdsShutterstockSearchStoreClass1.get(u.data.query),w=null;if(v&&v.hasValue()){w=v.getValueEnforcing().images.concat(u.data.results.images);}else w=new n.OrderedSet(u.data.results.images);this.$AdsShutterstockSearchStoreClass3(u.data.results.images);this.$AdsShutterstockSearchStoreClass1.set(u.data.query,v.setValue(babelHelpers._extends({},u.data.results,{images:w})).done());this.__emitChange();break;case h.SHUTTERSTOCK.SEARCH_RESULTS_ERROR:this.$AdsShutterstockSearchStoreClass1.set(u.data.query,this.$AdsShutterstockSearchStoreClass1.get(u.data.query).setError(u.data.error).done());this.__emitChange();break;}};s.prototype.$AdsShutterstockSearchStoreClass3=function(t){t.forEach((function(u){var v=p(u.getStockImageID());this.$AdsShutterstockSearchStoreClass2.set(v,u);}).bind(this));};s.prototype.getSearchResults=function(t,u){var v=this.$AdsShutterstockSearchStoreClass1.get(t);if(!v){v=l.loading();this.$AdsShutterstockSearchStoreClass1.set(t,v);j.loadSearchResults(t);}else if(v&&v.hasValue()&&!v.hasOperation()&&v.getValueEnforcing().images.size<=u){var w=v.getValueEnforcing().next;if(w){v=v.loading();this.$AdsShutterstockSearchStoreClass1.set(t,v);j.loadSearchResults(t,w);}}return v;};s.prototype.getShutterstockImageByID=function(t){return this.$AdsShutterstockSearchStoreClass2.get(t);};f.exports=new s();},null);
__d('AdsShutterstockViewStore',['AdsActionTypes','AdsDispatcher','FluxStore','Map','adsBaseStoreMixin'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';m=babelHelpers.inherits(o,j);n=m&&m.prototype;function o(){n.constructor.call(this,i);l(this);this.$AdsShutterstockViewStoreClass1=new k();}o.prototype.__onDispatch=function(p){var q=p.action;switch(q.type){case h.SHUTTERSTOCK.SEARCH_TEXT_CHANGED:this.$AdsShutterstockViewStoreClass2=q.data.searchText;this.__emitChange();break;case h.SHUTTERSTOCK.SEARCH_DONE:this.$AdsShutterstockViewStoreClass3=q.data.searchText;if(!this.$AdsShutterstockViewStoreClass1.get(this.$AdsShutterstockViewStoreClass3))this.$AdsShutterstockViewStoreClass1.set(this.$AdsShutterstockViewStoreClass3,1);this.__emitChange();break;case h.SHUTTERSTOCK.END_REACHED:var r=this.$AdsShutterstockViewStoreClass1.get(q.data.searchText);if(!r){this.$AdsShutterstockViewStoreClass1.set(q.data.searchText,2);}else this.$AdsShutterstockViewStoreClass1.set(q.data.searchText,r+1);this.__emitChange();break;}};o.prototype.getNumPagesForQuery=function(p){var q=this.$AdsShutterstockViewStoreClass1.get(p);return q||0;};o.prototype.getCurrentText=function(){return this.$AdsShutterstockViewStoreClass2;};o.prototype.getDelayedText=function(){return this.$AdsShutterstockViewStoreClass3;};o.prototype.isTyping=function(){var p=this.$AdsShutterstockViewStoreClass2!==null&&this.$AdsShutterstockViewStoreClass2!==undefined;return p&&this.$AdsShutterstockViewStoreClass2!==this.$AdsShutterstockViewStoreClass3;};f.exports=new o();},null);
__d('AdsShutterstockLibrary.react',['AdsMediaLibrary.react','AdsMediaPanelInfiniteScrollFooter.react','AdsMediaPanelMessage.react','AdsShutterstockSearchBar.react','AdsShutterstockSearchStore','AdsShutterstockUseGuidelines.react','AdsShutterstockViewActions','AdsShutterstockViewStore','FluxMixinLegacy','React','ReactComponentWithPureRenderMixin','ShutterstockApiStatus','cx','debounce','fbt','ix','keyMirror','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=q.PropTypes,aa=25,ba=x({HAS_MORE:null,LOADING_INITIAL:null,LOADING_MORE:null,NO_MORE_RESULTS:null,NO_REQUEST:null,NO_RESULTS:null}),ca=u(function(ea){return n.searchDone(ea);},200),da=q.createClass({displayName:'AdsShutterstockLibrary',mixins:[r,p([l,o],{withProps:true})],propTypes:{defaultSearchText:z.string,imageContainerHeight:z.number.isRequired,onImageClick:z.func.isRequired,isClickEnabled:z.bool.isRequired,selectedImageList:z.array.isRequired},getDefaultProps:function(){return {isClickEnabled:true,selectedImageList:[]};},statics:{calculateState:function(ea,fa){var ga=o.getDelayedText()||fa.defaultSearchText,ha=o.getNumPagesForQuery(ga)||1,ia=null;if(ga)ia=l.getSearchResults(ga,aa*ha);return {currentSearchText:o.getCurrentText(),isTyping:o.isTyping(),query:ga,results:ia};}},_renderPanelMessage:function(ea,fa,ga){return (q.createElement(j,{icon:ea,style:{height:this.props.imageContainerHeight},subtitle:fa,title:ga}));},_getCurrentState:function(){var ea=this.state.results,fa=null,ga=[];if(!ea){if(this.state.isTyping){fa=ba.LOADING_INITIAL;}else fa=ba.NO_REQUEST;}else if(!ea.hasValue()){fa=ba.LOADING_INITIAL;}else if(!ea.getValueEnforcing().next){ga=ea.getValueEnforcing().images.toArray();if(ga.length===0){fa=ba.NO_RESULTS;}else fa=ba.NO_MORE_RESULTS;}else{ga=ea.getValueEnforcing().images.toArray();if(ea.hasOperation()){fa=ba.LOADING_MORE;}else fa=ba.HAS_MORE;}return {state:fa,imageList:ga};},_renderContent:function(){var ea=this._getCurrentState(),fa=ea.state,ga=ea.imageList;switch(fa){case ba.NO_REQUEST:return this._renderPanelMessage(w('/images/ads/createflow/stock_images/icon_library_no_images.png'),v._("Any images you select will be saved in your image library."),v._("Search for professional images to use in your adverts."));case ba.NO_RESULTS:return this._renderPanelMessage(w('/images/ads/createflow/stock_images/icon_stock_no_results.png'),v._("Try using other keywords."),v._("There aren't any images that match what you searched."));default:var ha=fa===ba.HAS_MORE||fa===ba.LOADING_MORE,ia=q.createElement(i,{fetchingNextPage:ha,imagesLoaded:fa!==ba.LOADING_INITIAL}),ja=fa===ba.LOADING_INITIAL||this.state.isTyping;return (q.createElement(h,{height:this.props.imageContainerHeight,imageList:ga,isClickEnabled:this.props.isClickEnabled,isLoadingInitial:ja,scrollingAreaFooter:ia,selectedImageList:this.props.selectedImageList,onEndReached:this._onEndReached,onImageClick:this.props.onImageClick},q.createElement(m,{className:"_3cl1",dialogPosition:'left'})));}},render:function(){if(!s.available)return (q.createElement(j,{className:this.props.className,icon:w('/images/ads/createflow/stock_images/icon_stock_no_results.png'),style:{height:this.props.imageContainerHeight},subtitle:v._("Please try again later."),title:v._("Sorry, stock images aren't available at the moment.")}));return (q.createElement('div',{className:this.props.className},q.createElement(k,{searchText:this.state.currentSearchText,onTextChange:this._onSearchTextChange}),this._renderContent()));},_onEndReached:function(){var ea=this._getCurrentState(),fa=ea.state;if(fa===ba.HAS_MORE)y((function(){return n.endReached(this.state.query);}).bind(this));},_onSearchTextChange:function(ea){n.searchTextChanged(ea);ca(ea);}});f.exports=da;},null);
__d('AdsAbstractImageUploadElement.react',['AdsAbstractImageUploadElementStates','React','ReactDOM','SubscriptionsHandler','cx','emptyFunction','invariant','joinClasses','AdsImageUploader'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=c('AdsImageUploader').AdsImageUploader,q=i.PropTypes,r={};r[h.IDLE]="_2uq";r[h.UPLOADING]="_2ur";var s=i.createClass({displayName:'AdsAbstractImageUploadElement',propTypes:{accountId:q.string.isRequired,allowMultiImage:q.bool,imageSpec:q.shape({minWarningWidth:q.number.isRequired,minWarningHeight:q.number.isRequired}),onFormInputMount:q.func,onUploadClick:q.func.isRequired,onUploadEnd:q.func.isRequired,onUploadFail:q.func.isRequired,onUploadStart:q.func.isRequired,onUploadSuccess:q.func.isRequired,validateImageSize:q.bool,validateImageFormat:q.bool},getInitialState:function(){return {isUploading:false,subscriptions:new k()};},getDefaultProps:function(){return {allowMultiImage:false,onUploadClick:m,onUploadEnd:m,onUploadFail:m,onUploadStart:m,onUploadSuccess:m};},_getStateIdentifier:function(){return (this.state.isUploading?h.UPLOADING:h.IDLE);},render:function(){return (i.createElement('div',{className:o("_2us",r[this._getStateIdentifier()],this.props.className),style:this.props.style},this.props.children));},componentWillReceiveProps:function(t){},componentDidMount:function(){var t=new p(j.findDOMNode(this),{accountId:this.props.accountId,imageSpec:this.props.imageSpec,multiple:this.props.allowMultiImage,onFormInputMount:this.props.onFormInputMount,validateImageFormat:this.props.validateImageFormat,validateImageSize:this.props.validateImageSize});this.state.subscriptions.addSubscriptions(t.subscribe('onUploadClicked',this.props.onUploadClick),t.subscribe('onUploadStarted',(function(u,v){this.setState({isUploading:true});this.props.onUploadStart(v);}).bind(this)),t.subscribe('onUploadFailed',(function(){this.setState({isUploading:false});this.props.onUploadFail();}).bind(this)),t.subscribe('onUploadEnded',(function(u,v){this.setState({isUploading:false});if(v.length)v.forEach((function(w){this.props.onUploadSuccess(w);}).bind(this));this.props.onUploadEnd(v);}).bind(this)));},componentWillUnmount:function(){this.state.subscriptions.release();}});f.exports=s;},null);
__d('AdsAbstractImageUploadElementContent.react',['AdsAbstractImageUploadElementStates','React','cx','getObjectValues','joinClasses','AdsImageUploader'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=c('AdsImageUploader').AdsImageUploaderConstants,n=i.PropTypes,o={};o[h.IDLE]=l("_5y7b",m.UPLOAD_ELEMENT);o[h.UPLOADING]="_5y7c";var p=i.createClass({displayName:'AdsAbstractImageUploadElementContent',propTypes:{uploadState:n.oneOf(k(h)).isRequired},render:function(){return (i.createElement('div',{className:l("_5y7d",o[this.props.uploadState])},this.props.children));}});f.exports=p;},null);
__d('AdsImageUploadErrorStore',['AdsCreationUIStore','AdsActionTypes','immutable'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;'use strict';k=babelHelpers.inherits(m,h);l=k&&k.prototype;m.prototype.getStoreName=function(){return 'AdsImageUploadErrorStore';};m.prototype.__getStateClass=function(){return j.Record({sizeError:null,formatError:null});};m.prototype.__handleAction=function(n,o){var p=n.action;switch(p.type){case i.IMAGE_UPLOAD.FORMAT_ERROR:o.formatError=p.message;break;case i.IMAGE_UPLOAD.SIZE_ERROR:o.sizeError=p.message;break;case i.IMAGE_UPLOAD.REMOVE_ERRORS:o.sizeError=null;o.formatError=null;break;}};m.prototype.getUploadErrors=function(){var n=[];this.getState().forEach(function(o){if(o)n.push(o);});return n;};function m(){k.apply(this,arguments);}f.exports=new m();},null);
__d('AdsUploadImageBox.react',['AdsAbstractImageUploadElement.react','AdsAbstractImageUploadElementContent.react','AdsAbstractImageUploadElementStates','AdsImageUploadErrorStore','AdsValidationIcon.react','AdsValidationIconType','FluxMixinLegacy','Image.react','InlineBlock.react','React','ReactDOM','ReactComponentWithPureRenderMixin','cx','ix','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=q.PropTypes,y=180,z=35,aa=q.createClass({displayName:'AdsUploadImageBox',mixins:[s,n([k])],propTypes:{accountId:x.string.isRequired,allowMultiImage:x.bool,height:x.number.isRequired,imageSpec:x.shape({minWarningWidth:x.number.isRequired,minWarningHeight:x.number.isRequired}),onUploadClick:x.func,onUploadEnd:x.func,onUploadFail:x.func,onUploadStart:x.func,onUploadSuccess:x.func,validateImageFormat:x.bool,validateImageSize:x.bool},statics:{calculateState:function(){return {uploadErrors:k.getUploadErrors()};}},getDefaultProps:function(){return {style:{}};},_onWarningTextClick:function(){if(this.state.inputFormDOMElement)this.state.inputFormDOMElement.click();},_onFormInputMount:function(ba){this.setState({inputFormDOMElement:r.findDOMNode(ba)});},render:function(){var ba=this.props.height-y-6,ca=Math.floor(ba/2),da=ba-ca,ea={marginTop:ca+'px',marginBottom:da+'px'},fa=null;if(this.state.uploadErrors.length>0){var ga=this.state.uploadErrors.map((function(ia,ja){return (q.createElement('div',{key:ja,onClick:this._onWarningTextClick},q.createElement(l,{className:"_3sft",messages:[ia.longMessage],type:m.ERROR_IMAGE}),ia.shortMessage));}).bind(this));fa=q.createElement('div',{className:"_3sfu"},ga);}var ha=this.props.allowMultiImage?v._("Drag and drop multiple images or click to upload images"):v._("Drag and drop an image or click to upload");return (q.createElement(h,babelHelpers._extends({},this.props,{className:w(this.props.className,"_3sfv"),style:babelHelpers._extends({},ea,this.props.style),onFormInputMount:this._onFormInputMount}),q.createElement(i,{uploadState:j.IDLE},q.createElement(p,{alignv:'middle',height:y},q.createElement(o,{className:"_3sfw",src:u('/images/ads/createflow/upload_box_icon.png')}),q.createElement(p,{alignv:'middle',className:"_3sfx",height:z},ha))),q.createElement(i,{uploadState:j.UPLOADING},q.createElement(p,{alignv:'middle',height:y},v._("Uploading..."))),fa));}});f.exports=aa;},null);
__d('AdsMediaPanel.react',['Promise','AdsArrowedCarouselEnhanced.react','AdsCFShutterstockLibrary.react','AdsImageActions','AdsImageCollectionViews','AdsImageDimensionDataLoader','AdsImageSecondaryActions','AdsImageStore','AdsImageValidation','AdsLoadState','AdsMediaLibrary.react','AdsMediaPanelImageBox.react','AdsMediaPanelInfiniteScrollFooter.react','AdsMediaPanelMessage.react','AdsMediaPanelPageLinkInstagramAccountUnit.react','AdsMediaPanelTabs','AdsMediaPanelViewFilterBar.react','AdsMediaPanelViewFilters','AdsShutterstockLibrary.react','AdsUploadImageBox.react','Event','FluxMixinLegacy','Link.react','Map','React','ReactComponentWithPureRenderMixin','adsGKCheck','cx','emptyFunction','fbt','getViewportDimensions','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na){'use strict';if(c.__markCompiled)c.__markCompiled();var oa=fa.PropTypes,pa=49,qa=215,ra=332,sa=658,ta=100;function ua(){var xa=qa+pa,ya=ra+pa,za=sa-ya,ab=la().height,bb=ab-ta-za;return Math.max(xa,Math.min(ya,bb));}var va={};va[w.UPLOAD]={className:"_5xhy",title:ka._("Upload Images"),renderer:'_renderUploadTab'};va[w.LIBRARY]={className:"_5xh-",title:ka._("Image Library"),renderer:'_renderLibraryTab'};va[w.STOCK]={className:"_5xh_",title:ka._("Stock Images"),renderer:'_renderStockTab'};var wa=fa.createClass({displayName:'AdsMediaPanel',mixins:[ca([o],{withProps:true}),ga],propTypes:{accountID:oa.string.isRequired,defaultStockSearchText:oa.string,disableTooSmallImages:oa.bool,igSpecificImageSpec:oa.object,imageCollection:oa.object.isRequired,imageHandlers:oa.shape({onClick:oa.func,onDoubleClick:oa.func,onSecondaryAction:oa.func}).isRequired,imageSpec:oa.shape({minWarningWidth:oa.number.isRequired,minWarningHeight:oa.number.isRequired}),initialSelectedTab:oa.oneOf(Object.keys(va)),instagramAccount:oa.shape({id:oa.string.isRequired,is_published:oa.bool.isRequired,profile_pic:oa.string.isRequired,username:oa.string.isRequired}),instagramAccountLoadState:oa.oneOf(Object.keys(q)),maxSelectedImages:oa.number.isRequired,pageID:oa.string,pageLinkOrUnlinkAccountError:oa.arrayOf(oa.string),selectedImageList:oa.array.isRequired,stockSearchText:oa.string,tabKeys:oa.arrayOf(oa.string).isRequired,uploadHandlers:oa.shape({onClick:oa.func,onEnd:oa.func,onFail:oa.func,onStart:oa.func,onSuccess:oa.func}).isRequired,useInstagramImageCreative:oa.bool,userImagesLoaded:oa.bool,validateImageFormat:oa.bool,validateImageSize:oa.bool,onTabSwitch:oa.func.isRequired},getDefaultProps:function(){return {disableTooSmallImages:false,imageHandlers:{onClick:ja,onDoubleClick:ja,onSecondaryAction:ja},maxSelectedImages:1,onTabSwitch:ja,selectedImageList:[],uploadHandlers:{},userImagesLoaded:true};},getInitialState:function(){return {viewFilter:y.all,selectedTab:this.props.initialSelectedTab||w.LIBRARY};},statics:{calculateState:function(xa,ya){return {canFetchNextLibraryPage:o.hasCursorForNextPage(ya.accountID),fetchingNextLibraryPage:o.isFetchingNextPage(ya.accountID)};}},componentWillMount:function(){this._setResizeHandlerRef(ba.listen(window,'resize',this.forceUpdate.bind(this)));},componentWillUnmount:function(){this._removeResizeHandlerRef();this._setResizeHandlerRef(null);},_removeResizeHandlerRef:function(){var xa=this;xa._resizeHandlerRef.remove();},_setResizeHandlerRef:function(xa){var ya=this;ya._resizeHandlerRef=xa;},_isTabAllowed:function(xa){return this.props.tabKeys.indexOf(xa)!==-1;},_renderMultipleSelectedImagesRow:function(){var xa=null;if(this.props.maxSelectedImages>1){var ya=this.props.selectedImageList.map((function(za,ab){return (fa.createElement(s,{alt:ka._("Selected Image {number} of {total}",[ka.param('number',ab+1),ka.param('total',this.props.selectedImageList.length)]),className:"_16es",decoration:'removable',image:za,imageSpec:this.props.imageSpec,key:za.getUniqueIdentifier(),onDecorationIconClick:this.props.imageHandlers.onSecondaryAction&&this.props.imageHandlers.onSecondaryAction.bind(null,za,n.X)}));}).bind(this));xa=fa.createElement('div',{className:"_16et _5xi2 clearfix"},fa.createElement('div',{className:"_16eu"},fa.createElement('h2',{className:"_5xht"},ka._("Selected Images")),fa.createElement('span',{className:"_5xi4"},ka._({"*":{"*":"({images} of {max-images})"}},[ka.param('images',this.props.selectedImageList.length,[0]),ka.param('max-images',this.props.maxSelectedImages,[0])]))),fa.createElement(i,{maxChangeAmount:6},ya));}return xa;},render:function(){va[w.UPLOAD].title=this.props.maxSelectedImages>1?ka._("Upload Images"):ka._("Upload Image");return (fa.createElement('div',null,fa.createElement('div',{className:"_5xhs"},this.props.tabKeys.map(this._renderTabTitle)),this._renderTabContent(),this._renderMultipleSelectedImagesRow()));},_renderTabTitle:function(xa){var ya=va[xa],za=xa===this.state.selectedTab,ab=na(ya.className,"_5xhu"+(za?' '+"_5xhw":''));return (fa.createElement(da,{className:ab,key:xa,onClick:this._switchToTab.bind(null,xa)},fa.createElement('div',{className:"_5xhz"}),ya.title));},_switchToTab:function(xa){this.setState({selectedTab:xa});this.props.onTabSwitch(xa);},_renderTabContent:function(){var xa=va[this.state.selectedTab],ya=na(xa.className,"_5xhx"+(' '+"_5xhw")),za=this;return za[xa.renderer](this.state.selectedTab,ya);},_renderUploadTab:function(xa,ya){return (fa.createElement('div',{className:ya,key:xa},fa.createElement(aa,{accountId:this.props.accountID,allowMultiImage:this.props.maxSelectedImages>1,height:ua(),imageSpec:this.props.imageSpec,validateImageFormat:this.props.validateImageFormat,validateImageSize:this.props.validateImageSize,onUploadClick:this.props.uploadHandlers.onClick,onUploadEnd:this._onUploadEnd,onUploadFail:this.props.uploadHandlers.onFail,onUploadStart:this.props.uploadHandlers.onStart,onUploadSuccess:this.props.uploadHandlers.onSuccess})));},_onUploadEnd:function(xa){h.all(xa.map(function(ya){return (m.getDimensionByURL(ya.getUrl()).then(function(za){var ab=za.width,bb=za.height;return ya.clone({width:ab,height:bb});}));})).done((function(ya){if(this.props.uploadHandlers.onEnd)this.props.uploadHandlers.onEnd(ya);if(this.props.maxSelectedImages===1&&ya.length>0)this.setState({selectedTab:w.LIBRARY},(function(){return this.scrollToImage(ya[0]);}).bind(this));}).bind(this));},_sortDownTooSmallImages:function(xa){var ya=this.props.imageSpec,za=this.props.igSpecificImageSpec,ab=new ea();xa.forEach(function(bb,cb){return ab.set(bb,cb);});return xa.sort(function(bb,cb){var db=0,eb=0;if(za){db+=p.isWarningSize(bb,za)?1:0;eb+=p.isWarningSize(cb,za)?1:0;}db+=p.isWarningSize(bb,ya)?1:0;eb+=p.isWarningSize(cb,ya)?1:0;if(db>eb){return -1;}else if(db<eb){return 1;}else return ab.get(bb)-ab.get(cb);});},_onLibraryEndReached:function(){if(this.state.canFetchNextLibraryPage&&!this.state.fetchingNextLibraryPage)k.loadNextPage(this.props.accountID);},_canSelectImages:function(){return (this.props.maxSelectedImages===1||this.props.selectedImageList.length<this.props.maxSelectedImages);},_renderLibraryTab:function(xa,ya){var za=this.props.imageCollection,ab=za.getImageCount(this.state.viewFilter.view),bb=za.getImages(this.state.viewFilter.view);if(this.props.disableTooSmallImages)bb=this._sortDownTooSmallImages(bb);var cb=ja,db=null;if(ha('ads_image_picker_pagination')){cb=this._onLibraryEndReached;if(this.state.fetchingNextLibraryPage||!this.state.canFetchNextLibraryPage)db=fa.createElement(t,{fetchingNextPage:this.state.fetchingNextLibraryPage,imagesLoaded:this.props.userImagesLoaded});}var eb=ua()-pa,fb=undefined;if(this.state.viewFilter.view===l.views.INSTAGRAM){fb=fa.createElement(v,babelHelpers._extends({},this.props,{imageList:bb,isClickEnabled:this._canSelectImages(),isLoadingInitial:!this.props.userImagesLoaded,photoArrangeEnabled:true,ref:'imageLib',scrollingAreaFooter:db,totalHeight:eb,onEndReached:cb,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick}));}else if(ab>0||!this.props.userImagesLoaded){fb=fa.createElement(r,{disableTooSmallImages:this.props.disableTooSmallImages,height:eb,igSpecificImageSpec:this.props.igSpecificImageSpec,imageList:bb,imageSpec:this.props.imageSpec,isClickEnabled:this._canSelectImages(),isLoadingInitial:!this.props.userImagesLoaded,key:xa,photoArrangeEnabled:true,ref:'imageLib',scrollingAreaFooter:db,selectedImageList:this.props.selectedImageList,onEndReached:cb,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick});}else{var gb=this._isTabAllowed(w.STOCK)?ka._("Upload images or try using professional stock images at no extra cost."):ka._("Upload images to use them for your adverts.");fb=fa.createElement(u,{className:ya,icon:ma('/images/ads/createflow/stock_images/icon_library_no_images.png'),style:{height:String(eb)+'px'},subtitle:gb,title:ka._("There aren't any images in your library.")});}var hb=y.filters.map(function(ib){return babelHelpers._extends({},ib,{count:za.getImageCount(ib.view)});}).filter((function(ib){return (ib.view!==l.views.INSTAGRAM&&ib.count>0||ib.view===l.views.INSTAGRAM&&this.props.useInstagramImageCreative);}).bind(this));return (fa.createElement('div',{className:ya},fa.createElement(x,{availableViewFilters:hb,instagramAccountLinked:!!this.props.instagramAccount&&this.props.instagramAccount.is_published,viewFilter:this.state.viewFilter,onViewFilterChoose:this._onViewFilterChoose}),fb));},_onViewFilterChoose:function(xa){if(xa.view===this.state.viewFilter.view)return;this.setState({viewFilter:xa});},_onStockImageClick:function(xa){this.props.imageCollection.addImagesToBack_UNSAFE([xa],l.views.STOCK);var ya=this.props.imageHandlers.onClick;if(ya)ya.call(this.props.imageHandlers,xa);},_renderStockTab:function(xa,ya){if(ha('ads_use_new_shutterstock_component')){return (fa.createElement(z,{className:ya,defaultSearchText:this.props.defaultStockSearchText,imageContainerHeight:ua()-pa,isClickEnabled:this._canSelectImages(),key:xa,selectedImageList:this.props.selectedImageList,onImageClick:this._onStockImageClick}));}else return (fa.createElement(j,{className:ya,defaultSearchText:this.props.defaultStockSearchText,imageCollection:this.props.imageCollection,imageContainerHeight:ua()-pa,isClickEnabled:this._canSelectImages(),key:xa,searchText:this.props.stockSearchText,selectedImageList:this.props.selectedImageList,onImageClick:this.props.imageHandlers.onClick}));},scrollToImage:function(xa){this.refs.imageLib.scrollToImage(xa);}});f.exports=wa;},null);
__d('AdsImageDialog.react',['Promise','AdImageSpecsUtils','AdsShutterstockImageByIDStore','AdsImageCollection','AdsImageCollectionViews','AdsImageLegacy','AdsImageSecondaryActions','AdsMediaPanel.react','AdsMediaPanelTabs','LayerFadeOnHide','LayerRemoveOnHide','React','ReactComponentWithPureRenderMixin','XUIDialog.react','XUIDialogCancelButton.react','XUIDialogConfirmButton.react','XUIDialogFooter.react','adsGKCheck','deepFreezeValue','emptyFunction','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){'use strict';if(c.__markCompiled)c.__markCompiled();var ca=s.PropTypes,da=[p.UPLOAD,p.LIBRARY,p.STOCK],ea={LayerFadeOnHide:q,LayerRemoveOnHide:r},fa=[];z(fa);var ga=s.createClass({displayName:'AdsImageLegacyDialog',mixins:[t],propTypes:{accountID:ca.string.isRequired,defaultStockSearchText:ca.string,initialTab:ca.string,libraryImages:ca.arrayOf(ca.shape({url:ca.string.isRequired,hash:ca.string.isRequired})).isRequired,maxSelectedImages:ca.number.isRequired,pageImages:ca.arrayOf(ca.instanceOf(m)),selectedImages:ca.arrayOf(ca.shape({stockImageID:ca.string,url:ca.string,hash:ca.string}).isRequired).isRequired,specs:ca.arrayOf(ca.shape({minWarningWidth:ca.number.isRequired,minWarningHeight:ca.number.isRequired})).isRequired,tabKeys:ca.arrayOf(ca.string),onCancel:ca.func,onSelect:ca.func.isRequired},getDefaultProps:function(){return {defaultStockSearchText:'',initialTab:p.LIBRARY,libraryImages:[],instagramImages:[],pageImages:[],maxSelectedImages:1,onSelect:aa,selectedImages:[],specs:[]};},getInitialState:function(){var na=this.props.selectedImages.map(ka);return {selectedLegacyImageList:na,userConfirmed:false,userSelected:false};},componentWillMount:function(){ha(this.props.accountID,this.props.libraryImages,this.props.instagramImages,this.props.pageImages||[],{maxSelectedImages:this.props.maxSelectedImages});},componentWillReceiveProps:function(na){var oa=na.accountID,pa=na.libraryImages,qa=na.instagramImages,ra=na.pageImages,sa=na.maxSelectedImages;ha(oa,pa,qa,ra,{maxSelectedImages:sa});},render:function(){var na=i.reduceMinImageSpec(this.props.specs),oa=na.imageSpec,pa=na.igSpecificImageSpec,qa={onClick:this._onImageClick,onDoubleClick:this._onImageDblClick,onSecondaryAction:this._onImageSecondaryAction},ra={onEnd:this._onUploadEnd},sa=this.props.maxSelectedImages,ta=la(this.props.accountID,{maxSelectedImages:sa});return (s.createElement(u,{behaviors:ea,shown:true,width:768,onToggle:this.props.onCancel},s.createElement(o,babelHelpers._extends({},this.props,{buttonStyle:'done',disableTooSmallImages:!!oa,igSpecificImageSpec:pa,imageCollection:ta,imageHandlers:qa,imageSpec:oa,initialSelectedTab:this.props.initialTab,maxSelectedImages:sa,selectedImageList:this.state.selectedLegacyImageList,stockSearchText:'',tabKeys:this.props.tabKeys||da,uploadHandlers:ra})),s.createElement(x,null,s.createElement(v,null),s.createElement(w,{disabled:!this.state.userSelected||this.state.userConfirmed,use:'confirm',onClick:this._onSelect}))));},_addSelectedImage:function(na,oa){var pa=this.props.maxSelectedImages,qa=la(this.props.accountID,{maxSelectedImages:pa});qa.setImageSelected(na,true);var ra=this.state.selectedLegacyImageList.concat(na),sa=ra.length-pa;if(sa>0){for(var ta=0;ta<sa;ta++)qa.setImageSelected(na,false);ra=ra.slice(sa,ra.length);}this.setState({selectedLegacyImageList:ra,userSelected:true},oa||aa);},_onImageSecondaryAction:function(na,oa){if(oa===n.X)this._removeSelectedImage(na);},_removeSelectedImage:function(na){var oa=la(this.props.accountID,{maxSelectedImages:this.props.maxSelectedImages});oa.setImageSelected(na,false);var pa=this.state.selectedLegacyImageList.filter(function(qa){return !qa.equals(na);});this.setState({selectedLegacyImageList:pa,userSelected:true});},_setImageData:function(na){na.forEach(function(oa){return delete oa.crops;});if(this.props.maxSelectedImages===1)!na.length?ba(0):undefined;this.props.onSelect(na);},_promiseStockImageData:function(na){return new h((function(oa,pa){j.addLegacyCallback_DONT_USE_IN_NEW_CODE(na.getStockImageID(),(function(qa){if(qa.hasError()){this.setState({userConfirmed:false});ba(0);}else if(qa.hasValue())oa(babelHelpers._extends({},na.toJSON(),{url:qa.getValueEnforcing().get('preview_url')}));}).bind(this));}).bind(this));},_onSelect:function(na){na&&na.preventDefault();var oa=[];if(this.state.userSelected){var pa=[];this.state.selectedLegacyImageList.forEach((function(qa){if(qa.isStockImage()){pa.push(this._promiseStockImageData(qa));}else oa.push(qa.toJSON());}).bind(this));if(pa.length===0){this._setImageData(oa);}else{this.setState({userConfirmed:true});h.all(pa).done((function(qa){this._setImageData(oa.concat(qa));}).bind(this));}}},_onImageClick:function(na){var oa=this.state.selectedLegacyImageList.some(function(pa){return pa.equals(na);});if(oa){if(this.props.maxSelectedImages>1)this._removeSelectedImage(na);}else this._addSelectedImage(na);},_onImageDblClick:function(na){var oa=this.props.selectedImages;if(this.props.maxSelectedImages==1&&oa.length){var pa=ka(oa[0]);if(pa&&pa.equals(na)){return;}else if(pa)this._addSelectedImage(na,this._onSelect);}},_onUploadEnd:function(na){var oa=[];oa=na.map(function(pa){return {legacyImage:pa,view:l.views.LIBRARY};});ia(this.props.accountID,oa,false,{maxSelectedImages:this.maxSelectedImages});na.forEach((function(pa){return this._addSelectedImage(pa);}).bind(this));}});function ha(na,oa,pa,qa,ra){var sa=[];if(oa.length)oa.forEach(function(ta){sa.push({legacyImage:new m(ta),view:l.views.LIBRARY});});if(pa.length)pa.forEach(function(ta){sa.push({legacyImage:new m(ta),view:l.views.INSTAGRAM});});if(qa.length)qa.forEach(function(ta){sa.push({legacyImage:ta,view:l.views.PAGE});});if(sa.length)ia(na,sa,y('ads_image_picker_pagination'),ra);}function ia(na,oa,pa,qa){if(oa&&oa.length){var ra=la(na,qa),sa=[];oa.forEach(function(ua){if(!ra.hasImage(ua.legacyImage))sa.push(ua);});if(sa.length){var ta=[l.views.INSTAGRAM,l.views.LIBRARY,l.views.PAGE];ta.map(function(ua){var va=sa.filter(function(wa){return wa.view===ua;}).map(function(wa){return wa.legacyImage;});if(pa){ra.addImagesToBack(va,ua);}else ra.addImagesToFront(va,ua);});}}}var ja={};function ka(na){if(na){return new m(na);}else return null;}function la(na,oa){var pa=ja[na];if(!pa){pa=new k(oa);ja[na]=pa;}return pa;}var ma=s.createClass({displayName:'AdsImageDialog',render:function(){return s.createElement(ga,this.props);}});f.exports=ma;},null);
__d('AdsPaymentsPaymentMethodUtils',['AdproAccountCreditStatus','AdsDateUtils','AdsCurrencyFormatter','AdsPayAPIAltpayInstrumentTypes','AdsPayAPIPaymentMethodCreditCardFields','CreditCardTypeEnum','Currency','AdsPayAPIPaymentMethodExtendedCreditFields','PaymentCouponToken','FBDate','AdsPayAPIAllPaymentMethodsFields','AdsPayAPIPaymentMethodTokenFields','formatDate','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=j.formatCurrencyWithISO,w=j.parseCurrency,x='m/d/Y',y='m/d/Y g:ia',z={getCreatedDateString:function(aa,ba){var ca=q.createFromISOString(aa,ba);return ca.format(x);},getExpirationDateString:function(aa,ba){var ca=q.createFromISOString(aa,ba);return ca.format(y);},getAmountString:function(aa,ba,ca,da){var ea=w(ba,aa);return j.formatCurrencyFullFormat(ba,ea,ca,da);},renderCurrencyAmount:function(aa){var ba=100,ca=n.getOffset(aa.currency);return j.formatCurrencyFullFormat(aa.currency,aa.offsetted_amount/ba*ca,true,true);},getAvailableCreditString:function(aa,ba,ca){var da=w(ca,aa),ea=w(ca,ba);return v(ca,da-ea);},sortCoupons:function(aa){var ba=aa.sort(function(ca,da){var ea=i.parseISODate(ca[s.TIME_EXPIRE]),fa=i.parseISODate(da[s.TIME_EXPIRE]);return ea-fa;});return ba;},isCouponValid:function(aa){if(aa[s.IS_ACTIVE]===false)return false;var ba=w(aa[s.CURRENT_BALANCE].currency,aa[s.CURRENT_BALANCE].amount);if(aa[s.TYPE]===p.VIRTUAL_GIFT)return ba>0;var ca=new Date(),da=i.parseISODate(aa[s.TIME_EXPIRE]);return ca<da&&ba>0;},isExtendedCreditStatusEligibletoShow:function(aa){return aa===h.ELIGIBLE||aa===h.APPROVED;},initializeExtendedCredit:function(aa,ba,ca,da,ea){var fa={isBrandOwnedxtendedCredit:false,isExtendedCreditPrimary:false,extendedCreditAccountID:ca,hasEligibleExtendedCredit:false};fa.hasEligibleExtendedCredit=z.isExtendedCreditStatusEligibletoShow(ea);if(aa&&ba&&fa.hasEligibleExtendedCredit&&aa[r.EXTENDED_CREDITS]){var ga=aa[r.EXTENDED_CREDITS].data;ga.forEach(function(ha){if(ha[o.BALANCE].currency==='FBZ'){fa.hasEligibleExtendedCredit=false;return;}if(ha[o.CREDENTIAL_ID]==ba.id){fa.isExtendedCreditPrimary=true;fa.extendedCreditAccountID=ha[o.ACCOUNT_ID];fa.isBrandOwnedxtendedCredit=this.isBrandOwnedPaymentMethod(da,ha[o.ACCOUNT_ID]);}fa.partitionedFrom=ha[o.PARTITIONED_FROM];fa.liableAmount=ha[o.SEQUENTIAL_LIABILITY_AMOUNT];},this);}return fa;},getAltpayMethodTitle:function(aa,ba){if(aa===k.MOBILE)return u._("Mobile Phone ({phone number})",[u.param('phone number',ba)]);return ba;},showApplyLink:function(aa,ba,ca,da){var ea=parseInt(aa,10)+parseInt(ba,10);return da&&!ca&&ea===0;},isBrandOwnedPaymentMethod:function(aa,ba){return aa===ba;},getCCTitle:function(aa,ba){if(ba===m.AMERICANEXPRESS)return aa.replace('xxx xxxx xxxx ','*');return aa.replace('xxxx xxxx xxxx ','*');},getDirectDebitTitle:function(aa){var ba=u._("Bank Account");return ba+' '+aa.split(":")[1].replace('xxxx','*');},_isIbanCountry:function(aa,ba){var ca=['FR','ES','IT','AT','BE','CY','EE','FI','GR','IE','LU','MT','MC','PT','SK','SI'],da=['DE','NL'];return ca.indexOf(aa)!==-1||da.indexOf(aa)!==-1&&ba.indexOf(aa)===0;},getCreditCardString:function(aa,ba){var ca;switch(aa){case m.VISA:ca=u._("VISA");break;case m.MASTERCARD:ca=u._("MASTERCARD");break;case m.DISCOVER:ca=u._("DISCOVER");break;case m.AMERICANEXPRESS:ca=u._("AMEX");break;case m.JCB:ca=u._("JCB");break;case m.DINERSCLUB:ca=u._("DINERSCLUB");break;default:ca=u._("Credit Card");}if(ba)ca=ca.toString()+' *'+ba;return ca;},getPaypalString:function(aa){if(!aa)return u._("PayPal Account");return u._("PayPal ({email})",[u.param('email',aa)]);},isCreditCardExpired:function(aa){var ba=new Date(),ca=new Date(aa[l.EXP_YEAR],aa[l.EXP_MONTH]);return Boolean(ba>ca);},getCreditCardExpiryText:function(aa){var ba=new Date(aa[l.EXP_YEAR],aa[l.EXP_MONTH]-1);if(this.isCreditCardExpired(aa)){return u._("Expired on {expiry date}",[u.param('expiry date',t(ba,'m/y',{skipPatternLocalization:true}))]);}else return u._("Expires on {expiry date}",[u.param('expiry date',t(ba,'m/y',{skipPatternLocalization:true}))]);}};f.exports=z;},null);
__d('BoostedComponentPaymentMethodItem.react',['Image.react','React','ReactComponentWithPureRenderMixin','XUIText.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'BoostedComponentPaymentMethodItem',mixins:[j],propTypes:{brandName:m.string,image:h.validateImageSrcPropType,isBrandOwned:m.bool.isRequired,onClick:m.func,size:m.oneOf(['small','medium','large','xlarge','xxlarge']),title:m.string.isRequired},getDefaultProps:function(){return {size:'medium'};},_getTitleText:function(){return (i.createElement('span',null,this.props.title,this.props.isBrandOwned?i.createElement('span',null,' — '):null,this.props.isBrandOwned?this.props.brandName:null));},render:function(){return (i.createElement('div',{className:"_4i6_",onClick:this.props.onClick},i.createElement(h,{className:"_4t-n",src:this.props.image,width:'36'}),i.createElement(k,this.props,this._getTitleText())));}});f.exports=n;},null);
__d('PaymentMethodIcons',['CreditCardTypeEnum','FundingSourceType'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={_baseURI:'/images/payments/icons/',_mapCreditCardName:function(k){switch(k){case h.VISA:return 'visa';case h.MASTERCARD:return 'mc';case h.DISCOVER:return 'disc';case h.AMERICANEXPRESS:return 'amex';case h.JCB:return 'jcb';default:return null;}},_mapPaymentMethodName:function(k,l){switch(k){case i.FUNDING_TYPE_CREDIT_CARD:return this._mapCreditCardName(l);case i.FUNDING_TYPE_PAYPAL_TOKEN:case i.FUNDING_TYPE_PAYPAL_BILLING_AGREEMENT:return 'paypal';default:return null;}},getIconFilePath:function(k,l){var m=this._mapPaymentMethodName(k,l);if(m===null)return '';return this._baseURI+m+'.png';}};f.exports=j;},null);
__d('AdsPaymentsPaymentMethodSelector.react',['AdsPayAPICreditCardAddressFields','AdsAltpayPaymentMetadataKeys','AdsCurrencyFormatter','AdsLoadState','AdsPaymentsPaymentMethodUtils','AdsPayAPIPaymentMethodAltpayFields','BoostedComponentPaymentMethodItem.react','AdsPayAPIPaymentMethodCreditCardFields','AdsPayAPIPaymentMethodDirectDebitFields','AdsAPIExtendedCreditInfoFields','FundingSourceType','Link.react','PaymentMethodIcons','AdsPayAPIAllPaymentMethodsFields','AdsPayAPIPaymentMethodPaypalFields','PopupWindow','React','ReactComponentWithPureRenderMixin','Image.react','XUISelector.react','AdsPayAPIPaymentMethodTokenFields','XUIButton.react','XUIGrayText.react','XUINotice.react','XUIText.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){'use strict';if(c.__markCompiled)c.__markCompiled();var ja=x.PropTypes,ka='pm_add_new',la=aa.Option,ma=j.formatCurrencyWithNumberDelimiters,na=x.createClass({displayName:'AdsPaymentsPaymentMethodSelector',mixins:[y],propTypes:{accountID:ja.string.isRequired,allPaymentMethods:ja.object.isRequired,altpayPendingPayments:ja.object,businessInfo:ja.object.isRequired,currency:ja.string.isRequired,extendedCreditInfo:ja.object.isRequired,extendedCreditStatus:ja.number.isRequired,hasBillingWritePermission:ja.bool.isRequired,hasCreatedAdsBefore:ja.bool.isRequired,hasExtendedCredit:ja.bool.isRequired,hasFundingSource:ja.bool.isRequired,isCorporate:ja.bool.isRequired,isPrepayAccount:ja.bool.isRequired,maxWidth:ja.number.isRequired,onChangePrimaryPaymentMethod:ja.func.isRequired,onPaymentMethodButtonClick:ja.func.isRequired,paymentMethodLoadingStatus:ja.string.isRequired,prepayBalance:ja.object,primaryPMDisplayString:ja.string.isRequired,primaryPaymentMethod:ja.object,errors:ja.array.isRequired,successes:ja.array.isRequired},getDefaultProps:function(){return {primaryPaymentMethod:{},prepayBalance:{}};},getInitialState:function(){return {selectedValue:this._getPrimaryPMDropdownValue()};},_getAddPaymentMethodButton:function(){return (x.createElement(ca,{imageRight:x.createElement(z,{src:ia('/images/ui/xhp/image/glyph/create.png')}),label:ha._("Add New Payment Method"),size:'xlarge',onClick:this.props.onPaymentMethodButtonClick}));},_getExtendedCreditMethod:function(oa){var pa=ma(this.props.currency,parseInt(this.props.extendedCreditInfo[q.CREDIT_LEFT],10));return (x.createElement('div',{className:"_4i70"},x.createElement('div',{className:"_3n8l"},x.createElement(n,{businessName:this.props.businessInfo.name,image:ia('/images/cc_logos/adcoupon.png'),isBrandOwned:oa,title:ha._("Account Credit ({credit left})",[ha.param('credit left',pa)]),weight:'bold'}))));},_hasValidCoupon:function(){if(!this.props.allPaymentMethods[u.TOKENS])return false;var oa=this.props.allPaymentMethods[u.TOKENS].data;return oa.some(function(pa){if(l.isCouponValid(pa))return true;return false;});},_getCouponTitle:function(oa){return ha._("Facebook Advert Coupon: {current balance}",[ha.param('current balance',l.getAmountString(oa[ba.CURRENT_BALANCE].amount,oa[ba.CURRENT_BALANCE].currency,false,false))]);},_getValidCoupon:function(){var oa=this.props.allPaymentMethods[u.TOKENS].data;for(var pa=0;pa<oa.length;pa++)if(l.isCouponValid(oa[pa]))return (x.createElement('div',{className:"_4i70"},x.createElement('div',{className:"_3n8l"},x.createElement(n,{image:ia('/images/cc_logos/adcoupon.png'),isBrandOwned:false,title:this._getCouponTitle(oa[pa]),weight:'bold'}))));return null;},_getSelectorOption:function(oa,pa,qa,ra,sa){return (x.createElement(la,{className:"_3-8n",key:oa,value:oa},x.createElement(n,{brandName:sa,image:pa,isBrandOwned:ra,size:'small',title:qa})));},_loadMethodsToRender:function(oa,pa,qa,ra,sa,ta,ua){if(this.props.primaryPaymentMethod&&qa==this.props.primaryPaymentMethod.id){var va=false,wa=null;if(this.props.businessInfo!==null||this.props.businessInfo!==undefined){va=l.isBrandOwnedPaymentMethod(this.props.businessInfo.paymentAccountID,ta);wa=va?this.props.businessInfo.name:null;}pa.primaryPaymentMethod=this._getSelectorOption(oa,ra,sa,va,wa);}else if(ua)pa.backupPaymentMethods.push(this._getSelectorOption(oa,ra,sa,false,''));},_loadCreditcardsToRender:function(oa){if(!this.props.allPaymentMethods[u.CREDIT_CARDS])return;var pa=this.props.allPaymentMethods[u.CREDIT_CARDS].data;pa.forEach(function(qa){var ra=this._getMethodKey(qa[o.CREDENTIAL_ID],r.FUNDING_TYPE_CREDIT_CARD),sa=t.getIconFilePath(r.FUNDING_TYPE_CREDIT_CARD,qa[o.CREDIT_CARD_TYPE]),ta=l.getCCTitle(qa[o.DISPLAY_STRING],qa[o.CREDIT_CARD_TYPE]);this._loadMethodsToRender(ra,oa,qa[o.CREDENTIAL_ID],sa,ta,qa[o.ACCOUNT_ID],qa[o.IS_VERIFIED]);},this);},_loadPaypalsToRender:function(oa){if(!this.props.allPaymentMethods[u.PAYPALS])return;var pa=this.props.allPaymentMethods[u.PAYPALS].data;pa.forEach(function(qa){var ra=this._getMethodKey(qa[v.CREDENTIAL_ID],r.FUNDING_TYPE_PAYPAL_BILLING_AGREEMENT),sa=ha._("PayPal ({email})",[ha.param('email',qa[v.EMAIL_ADDRESS])]),ta=t.getIconFilePath(r.FUNDING_TYPE_PAYPAL_BILLING_AGREEMENT);this._loadMethodsToRender(ra,oa,qa[v.CREDENTIAL_ID],ta,sa,qa[v.ACCOUNT_ID],true);},this);},_loadDirectDebitToRender:function(oa){if(!this.props.allPaymentMethods[u.DIRECT_DEBITS])return;var pa=this.props.allPaymentMethods[u.DIRECT_DEBITS].data;pa.forEach(function(qa){var ra=this._getMethodKey(qa[p.CREDENTIAL_ID],r.FUNDING_TYPE_DIRECT_DEBIT),sa=qa[p.ADDRESS],ta=l.getDirectDebitTitle(qa[p.DISPLAY_STRING],sa[h.COUNTRY_CODE]),ua=sa[h.COUNTRY_CODE]==='GB'?ia('/images/payments/icons/bacs-sq.png'):ia('/images/cc_logos/direct_debit.png');this._loadMethodsToRender(ra,oa,qa[p.CREDENTIAL_ID],ua,ta,qa[p.ACCOUNT_ID],!qa[p.IS_PENDING]);},this);},_getMethodKey:function(oa,pa){return oa+'.'+pa;},_getPrimaryPMDropdownValue:function(){if(!this.props.primaryPaymentMethod||!this.props.primaryPaymentMethod.hasOwnProperty('id'))return '';return this._getMethodKey(''+this.props.primaryPaymentMethod.id,this.props.primaryPaymentMethod.type);},_getAddBalanceButton:function(){return (x.createElement(ca,{className:"_4i6_",label:ha._("Add to Balance"),size:'xlarge',onClick:this.props.onPaymentMethodButtonClick}));},_getLatestPendingPayment:function(oa){var pa={},qa=0;for(var ra in oa){if(!oa.hasOwnProperty(ra))continue;var sa=oa[ra];for(var ta=0;ta<sa.length;ta++){if(sa[ta][i.TIME_CREATED]<qa)continue;qa=sa[ta][i.TIME_CREATED];pa=sa[ta];}}return pa;},_getLatestAltpayPendingPaymentToRender:function(){if(this.props.altpayPendingPayments===null||this.props.altpayPendingPayments===undefined||!this.props.allPaymentMethods[u.ALTPAYS])return null;var oa=this.props.allPaymentMethods[u.ALTPAYS].data,pa=this._getLatestPendingPayment(this.props.altpayPendingPayments);if(!pa)return null;var qa=oa.filter(function(sa){return sa[m.CREDENTIAL_ID]===pa[i.CREDENTIAL_ID];})[0],ra=l.getAltpayMethodTitle(qa[m.INSTRUMENT_TYPE],qa[m.TITLE]);return (x.createElement('div',{className:"_3-8z"},x.createElement(da,{display:'inline',size:'medium',weight:'bold'},ra,": "),x.createElement(fa,{display:'inline',size:'medium',weight:'bold'},pa[i.AMOUNT]),x.createElement(s,{className:"_3-9a",onClick:this._openPopup.bind(this,pa[i.DOWNLOAD_LINK])},ha._("View Boleto"))));},_openPopup:function(oa){w.open(oa,500,500);},_renderPrepay:function(){if(this.props.prepayBalance===null||this.props.prepayBalance===undefined)return null;var oa=this.props.prepayBalance.currency,pa=j.parseCurrency(oa,this.props.prepayBalance.amount);return (x.createElement('div',null,x.createElement('div',{className:"inlineBlock"},x.createElement('div',{className:"_4i70"},x.createElement(fa,{className:"_3-8i",display:'block',size:'medium',weight:'bold'},j.formatCurrencyWithISO(oa,pa))),this._getAddBalanceButton()),this._getLatestAltpayPendingPaymentToRender()));},_getAddPaymentMethodOption:function(){return (x.createElement(la,{className:"_4i71",key:ka,value:ka,onClick:this.props.onPaymentMethodButtonClick},x.createElement(fa,{size:'small'},ha._("Add New Payment Method"))));},_onPaymentMethodChange:function(oa){var pa=oa.value;if(pa===this._getDefaultDropdownOptionValue())return;var qa=pa.split('.'),ra=qa[0],sa=parseInt(qa[1],10);if(pa==ka){this.props.onPaymentMethodButtonClick();return;}this.props.onChangePrimaryPaymentMethod(this.props.accountID,ra,sa);},_getPrimaryPMDisplayString:function(){return (x.createElement('div',{className:"_4i70"},x.createElement(fa,{className:"_3-8i",display:'block',size:'small',weight:'bold'},this.props.primaryPMDisplayString)));},_getMessagesToShow:function(){var oa=[];this.props.errors.forEach(function(pa){oa.push(x.createElement(ea,{className:"_3-8w",size:'small',use:'warn'},pa));});this.props.successes.forEach(function(pa){oa.push(x.createElement(ea,{className:"_3-8w",size:'small',use:'notify'},pa));});return oa;},_getDefaultDropdownOptionValue:function(){return 'pm_select_one';},_getDefaultDropdownOption:function(){var oa=this._getDefaultDropdownOptionValue();return (x.createElement(la,{className:"_3-8n",key:oa,value:oa},ha._("Select one")));},renderData:function(){if(this.props.paymentMethodLoadingStatus===k.LOADING||this.props.paymentMethodLoadingStatus===k.NOT_LOADED)return null;if(!this.props.hasBillingWritePermission||this.props.paymentMethodLoadingStatus===k.ERROR)return this._getPrimaryPMDisplayString();if(this.props.isPrepayAccount===true)return this._renderPrepay();if(!this.props.hasFundingSource)return this._getAddPaymentMethodButton();if(this._hasValidCoupon())return this._getValidCoupon();var oa=l.initializeExtendedCredit(this.props.allPaymentMethods,this.props.primaryPaymentMethod,this.props.accountID,this.props.businessInfo.paymentAccountID,this.props.extendedCreditStatus);if(this.props.hasExtendedCredit===true&&oa.isExtendedCreditPrimary===true)return this._getExtendedCreditMethod(oa.isBrandOwnedxtendedCredit);var pa={defaultOption:null,primaryPaymentMethod:null,backupPaymentMethods:[]};this._loadCreditcardsToRender(pa);this._loadPaypalsToRender(pa);this._loadDirectDebitToRender(pa);if(pa.primaryPaymentMethod===null&&pa.backupPaymentMethods.length===0)return this._getPrimaryPMDisplayString();var qa=this._getPrimaryPMDropdownValue();if(pa.primaryPaymentMethod===null){pa.defaultOption=this._getDefaultDropdownOption();qa=this._getDefaultDropdownOptionValue();}var ra=this._getAddPaymentMethodOption();return (x.createElement(aa,{maxwidth:this.props.maxWidth,name:'payment method selector',size:'xlarge',value:qa,onChange:this._onPaymentMethodChange},[pa.defaultOption,pa.primaryPaymentMethod,pa.backupPaymentMethods,ra]));},render:function(){return (x.createElement('div',null,this.renderData(),this._getMessagesToShow()));}});f.exports=na;},null);
__d('AdsImageCropperWindow.react',['CenteredContainer.react','Image.react','React','ReactDOM','cx','fbt','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=j.PropTypes,q=j.createClass({displayName:'AdsImageCropperWindow',propTypes:{height:p.number,isCropping:p.bool,isResizable:p.bool,isResizing:p.bool,width:p.number},getInitialState:function(){return {ctaFullWidth:null};},getDefaultProps:function(){return {isResizable:false};},componentDidUpdate:function(r){this._reflowCTA();},shouldComponentUpdate:function(r){return (!this.state.ctaFullWidth||this.props.width!==r.width||this.props.height!==r.height||this.props.isCropping!==r.isCropping);},_reflowCTA:function(){if(!this.state.ctaFullWidth){var r=this.refs&&this.refs.cta,s=r&&k.findDOMNode(r);if(s&&s.offsetWidth)this.setState({ctaFullWidth:s.offsetWidth});}},render:function(){return (j.createElement(h,babelHelpers._extends({},this.props,{className:o(this.props.className,"_5tw4 lfloat"),style:babelHelpers._extends({},this.props.style||{},{width:this.props.width,height:this.props.height}),vertical:true}),j.createElement('div',{className:"_5tw5"}),this._renderCTA()));},_renderCTA:function(){var r=this.state.ctaFullWidth,s=!r||this.props.width&&this.props.width>r,t=this.props.isResizable?m._("Crop Image"):m._("Drag to Reposition Image");return (j.createElement('div',{className:"_5tw6"+(this.props.isCropping?' '+"_5tw7":'')+(!r?' '+"_5tw8":''),ref:'cta'},j.createElement(i,{src:n('images/ads/cropper/drag.png')}),j.createElement('div',{className:(!s&&this.props.isResizing?"hidden_elem":'')+(' '+"_5tw9")},t)));}});f.exports=q;},null);
__d('AdsImageCropSelector.react',['AdsImageLegacy','AdsImageCropperWindow.react','BackgroundImage.react','Event','Image.react','React','ReactDOM','cx','invariant','isEmpty','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=m.PropTypes,u=function(x){return x*x;},v=function(x,y,z){return Math.min(Math.max(x,y),z);},w=m.createClass({displayName:'AdsImageCropSelector',_dragging:false,_dragEvent:null,_handler:null,_node:null,_origin:{},_releaseEvent:null,propTypes:{disableResizer:t.bool.isRequired,height:t.number.isRequired,image:t.instanceOf(h).isRequired,imageSpec:t.object.isRequired,isDisabled:t.bool.isRequired,isError:t.bool.isRequired,isReady:t.bool.isRequired,width:t.number.isRequired,onCropUpdate:t.func.isRequired},getInitialState:function(){return {coordinates:{},imageDimensions:{},isCropping:false,isResizing:false,min:{},max:{},scale:1,screenX:0,screenY:0};},componentWillMount:function(){this._calculateState(this.props);},componentWillUnmount:function(){if(this._dragEvent)this._dragEvent.remove();if(this._releaseEvent)this._releaseEvent.remove();},componentWillReceiveProps:function(x){this._calculateState(x);},render:function(){var x=this._isCroppingAllowed();return (m.createElement('div',{className:s(this.props.className,"_5tv-"),style:babelHelpers._extends({},this.props.style||{},{width:this.props.width}),onContextMenu:this._onContextMenu},m.createElement(j,{backgroundSize:x?'contain':'containinside',className:"_537t",height:this.props.height,loadingIndicatorStyle:'large',src:this._getImageUrl(),width:this.props.width}),this._renderCropperMask(),this._renderFooter()));},_getImageUrl:function(){var x=this.props.image;return x.isStockImage()?x.getFullSizeUrl():x.getUrl();},_drawCropperGrid:function(){var x=m.createElement('td',{className:"_35i_"}),y=m.createElement('tr',null,x,x,x);return (m.createElement('table',{className:"_35j0"},m.createElement('tbody',null,y,y,y)));},_renderCropperMask:function(){if(!this._isCroppingAllowed())return null;var x=this._getFillStyle(this.state.coordinates),y=this.state.coordinates.width+'px',z=this.state.coordinates.height+'px',aa=this.props.disableResizer?'none':'block';return (m.createElement('div',{className:"_537t _4jo2"},m.createElement('div',{className:"_537t _537u",ref:'selector',style:{borderWidth:x,width:y,height:z,display:aa}},this._drawCropperGrid(),this._getResizeHandles(),m.createElement(i,{className:"_537t",height:this.state.isResizing?undefined:this.state.coordinates.height,isCropping:this.state.isCropping&&this._dragging,isResizable:true,isResizing:this.state.isResizing,width:this.state.isResizing?undefined:this.state.coordinates.width,onMouseDown:this._onCropMoveStart}))));},_isCroppingAllowed:function(){return (!this.props.isDisabled&&!this.props.isError&&this.props.isReady);},_renderFooter:function(){if(!this.props.isReady)return null;var x=this.props.image,y=this.props.imageSpec,z=y.placement,aa=x.getValidation(z),ba=aa.errorMessage||aa.warningMessage||aa.successMessage,ca=r('/images/ads/createflow/creative/image_check.png');if(aa.errorMessage||aa.warningMessage)ca=r('/images/ads/createflow/creative/image_error.png');return (m.createElement('div',{className:"_5tw0"},m.createElement('div',{className:(!ba?"hidden_elem":'')+(' '+"lfloat")},m.createElement(l,{className:"_5tw1",src:ca}),m.createElement('span',{className:"_5tw2"},ba&&ba.split('\n')[0]))));},_getResizeHandles:function(){return (m.createElement('div',{className:"_u4e",ref:'handles'},m.createElement('div',{className:"_u49 _u4a",key:'top_left',onMouseDown:this._onCropResizeStart}),m.createElement('div',{className:"_u49 _u4b",key:'top_right',onMouseDown:this._onCropResizeStart}),m.createElement('div',{className:"_u49 _u4c",key:'bottom_right',onMouseDown:this._onCropResizeStart}),m.createElement('div',{className:"_u49 _u4d",key:'bottom_left',onMouseDown:this._onCropResizeStart})));},_getFillStyle:function(x){var y=Math.floor(x.top),z=Math.floor(x.left),aa=Math.ceil(x.right),ba=Math.ceil(x.bottom);return y+'px '+aa+'px '+ba+'px '+z+'px';},_updateFormats:function(){var x=this.props.image,y=this.props.imageSpec,z=y.cropKey,aa=y.placement,ba=this.getOffset(),ca=this.getCoordinates(ba);this.props.onCropUpdate(x,z,aa,ca);},getOffset:function(){return {left:this.state.coordinates.left-this.state.min.x,right:this.state.coordinates.right-this.state.min.x,top:this.state.coordinates.top-this.state.min.y,bottom:this.state.coordinates.bottom-this.state.min.y};},getCoordinates:function(x){var y=this.state.imageDimensions,z={bottom:0,left:Math.round(x.left/this.state.scale),right:Math.round(y.width-x.right/this.state.scale),top:Math.round(x.top/this.state.scale)},aa=this.props.imageSpec;if(aa.aspectRatio){z.bottom=Math.round(z.top+(z.right-z.left)/aa.aspectRatio);}else z.bottom=Math.round(y.height-x.bottom/this.state.scale);return [[z.left,z.top],[z.right,z.bottom]];},_onCropResizeStart:function(event){this._onCropChangeStart(event,true);},_onCropMoveStart:function(event){this._onCropChangeStart(event,false);},_onCropChangeStart:function(event,x){event.preventDefault();this._setSelectorNodeToRendered();if(!this._dragging){this._handler=this._getHandler(x);var y=n.findDOMNode(this.refs.handles);!y?p(0):undefined;var z=y.getBoundingClientRect(),aa=z.left,ba=z.top,ca=z.width,da=z.height;this._origin={x:aa+ca/2,y:ba+da/2};this._dragEvent=k.listen(window,'mousemove',this._cropMove);this._releaseEvent=k.listen(window,'mouseup',this._cropEnd);this.setState({isCropping:true,isResizing:x,screenX:event.pageX,screenY:event.pageY});this._dragging=true;this._place(this.state.coordinates.left,this.state.coordinates.top,this.state.coordinates.width,this.state.coordinates.height);}},_setSelectorNodeToRendered:function(){!!this._node?p(0):undefined;this._node=n.findDOMNode(this.refs.selector);!this._node?p(0):undefined;},_cropMove:function(event){if(this._dragging){event.prevent();!this._handler?p(0):undefined;this._handler(event.pageX-this.state.screenX,event.pageY-this.state.screenY);}},_cropEnd:function(event){if(this._dragging){this._dragging=false;this.setState({isCropping:false,isResizing:false});!this._handler?p(0):undefined;this._handler(event.pageX-this.state.screenX,event.pageY-this.state.screenY);this._dragEvent&&this._dragEvent.remove();this._dragEvent=null;this._releaseEvent&&this._releaseEvent.remove();this._releaseEvent=null;this._handler=null;}this._resetSelectorNode();},_resetSelectorNode:function(){delete this._node;},_resize:function(x,y){var z=Math.sqrt(u(this.state.screenX-this._origin.x)+u(this.state.screenY-this._origin.y)),aa={x:x/2+this.state.screenX,y:y/2+this.state.screenY},ba=Math.sqrt(u(this._origin.x-aa.x)+u(this._origin.y-aa.y)),ca=v(ba/z,this.state.min.scale,this.state.max.scale),da=Math.round(this.state.coordinates.width*ca),ea=Math.round(this.state.coordinates.height*ca),fa=this.state.screenX<this._origin.x?this.state.coordinates.width-da:0,ga=this.state.screenY<this._origin.y?this.state.coordinates.height-ea:0,ha=v(this.state.coordinates.left+fa,this.state.min.x,this.state.max.x-da),ia=v(this.state.coordinates.top+ga,this.state.min.y,this.state.max.y-ea);this._place(ha,ia,da,ea);},_move:function(x,y){var z=this.state.coordinates.width,aa=this.state.coordinates.height,ba=v(this.state.coordinates.left+x,this.state.min.x,this.state.max.x-z),ca=v(this.state.coordinates.top+y,this.state.min.y,this.state.max.y-aa);this._place(ba,ca,z,aa);},_place:function(x,y,z,aa){var ba=this.props.height-y-aa,ca=this.props.width-x-z,da=this._getFillStyle({top:y,left:x,bottom:ba,right:ca});!this._node?p(0):undefined;this._node.style.borderWidth=da;this._node.style.width=z+'px';this._node.style.height=aa+'px';if(!this._dragging)this.setState({coordinates:{top:y,left:x,bottom:ba,right:ca,width:z,height:aa}},(function(){this._updateFormats();}).bind(this));},_getHandler:function(x){return x?this._resize:this._move;},_calculateState:function(x){if(!x.isReady)return;var y=x.image.getCrop(x.imageSpec.cropKey),z=Math.min(x.width/x.image.getWidth(),x.height/x.image.getHeight()),aa={height:x.image.getHeight(),scaledWidth:Math.round(x.image.getWidth()*z),scaledHeight:Math.round(x.image.getHeight()*z),width:x.image.getWidth()},ba={scale:1,x:(x.width-aa.scaledWidth)/2,y:(x.height-aa.scaledHeight)/2},ca={scale:1,x:ba.x+aa.scaledWidth,y:ba.y+aa.scaledHeight},da={};if(y&&y.length){da.top=ba.y+y[0][1]*z;da.left=ba.x+y[0][0]*z;da.bottom=ba.y+(aa.height-y[1][1])*z;da.right=ba.x+(aa.width-y[1][0])*z;da.width=x.width-da.right-da.left;da.height=x.height-da.bottom-da.top;}if(q(da)||Object.keys(da).some(function(ea){return da[ea]<0;})){if(aa.width/x.imageSpec.aspectRatio>aa.height){da.height=aa.scaledHeight;da.width=da.height*x.imageSpec.aspectRatio;}else{da.width=aa.scaledWidth;da.height=da.width/x.imageSpec.aspectRatio;}da.top=ba.y+(aa.scaledHeight-da.height)/2;da.left=ba.x+(aa.scaledWidth-da.width)/2;da.bottom=x.height-da.top-da.height;da.right=x.width-da.left-da.width;}ba.scale=Math.min(x.imageSpec.minWarningWidth*z/da.width,x.imageSpec.minWarningHeight*z/da.height);ca.scale=Math.min(aa.scaledWidth/da.width,aa.scaledHeight/da.height);this.setState({max:ca,min:ba,imageDimensions:aa,scale:z,coordinates:da});},_onContextMenu:function(event){this.props.onContextMenu(this.props.image,event);}});f.exports=w;},null);
__d('AdsImageCropperEditorItem.react',['AdsImageLegacy','AdsImageUtils','BackgroundImage.react','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'AdsImageCropperEditorItem',propTypes:{height:n.number.isRequired,image:n.object.isRequired,imageSpec:n.object.isRequired,isDisabled:n.bool.isRequired,isError:n.bool.isRequired,isReady:n.bool.isRequired,isSelected:n.bool,width:n.number.isRequired,onCropUpdate:n.func.isRequired},componentDidMount:function(){this._initImageCrops();},componentDidUpdate:function(){this._initImageCrops();},shouldComponentUpdate:function(p){return (this.props.image.getCrops()!==p.image.getCrops()||this.props.isDisabled!==p.isDisabled||this.props.isError!==p.isError||this.props.isReady!==p.isReady||this.props.isSelected!==p.isSelected||this.props.imageSpec.aspectRatio!==p.imageSpec.aspectRatio||this.props.height!==p.height);},render:function(){var p=this.props.image,q=this.props.imageSpec,r=this._getImageURL(),s=this._isCroppingAllowed(),t=s&&this._getBackgroundPosition(p,q),u=s?this._getScale(p,q):1,v;if(r)v={backgroundImage:'url('+r+')',backgroundSize:Math.round(u*100)+'%',backgroundPosition:t,backgroundRepeat:'no-repeat'};var w=k.createElement('div',{style:babelHelpers._extends({},v,{height:this.props.height,width:this.props.width}),onContextMenu:this._onContextMenu});return (k.createElement('div',{className:m(this.props.className,"_5twa"+(this.props.isSelected?' '+"_5twb":'')),onClick:this._onClick},w));},_initImageCrops:function(){var p=this.props.image,q=this.props.imageSpec,r=q.placement,s=q.cropKey,t=i.calculateDefaultCoordinates(p.getWidth(),p.getHeight(),q.aspectRatio);if(!p.getCrop(s)&&this._isCroppingAllowed())this.props.onCropUpdate(p,s,r,t);},_getImageURL:function(){var p=this.props.image;return p.isStockImage()?p.getFullSizeUrl():p.getUrl();},_isCroppingAllowed:function(){var p=this.props.isDisabled,q=this.props.isError,r=this.props.isReady;return !p&&!q&&r;},_getBackgroundPosition:function(p,q){var r=p.getCrop(q.cropKey)||[],s='50% 50%';if(r.length){var t=p.getWidth(),u=p.getHeight(),v=this.props.width,w=this.props.height;s=i.calculateCroppedPosition(t,u,v,w,r);}return s;},_getScale:function(p,q){var r=1,s=p.getCrop(q.cropKey)||[];if(s.length)r=i.calculateBackgroundScale(p.getWidth(),p.getHeight(),s);return r;},_onClick:function(){this.props.onClick(this.props.imageSpec.placement);},_onContextMenu:function(event){this.props.onContextMenu(this.props.image,event);}});f.exports=o;},null);
__d('AdsImageCropperImageSpecSelector.react',['AdImageSpecCropKeys','React','XUIButton.react','XUIButtonGroup.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o={SQUARE:m._("Square"),NO_CROP:m._("Original")},p=i.createClass({displayName:'AdsImageCropperImageSpecSelector',propTypes:{hideSingleOption:n.bool,imageSpecs:n.arrayOf(n.object).isRequired,orderByAspectRatio:n.bool,selectedSpec:n.object,onUpdateImageSpec:n.func.isRequired},getInitialState:function(){return {selectedSpec:this.props.selectedSpec};},componentWillReceiveProps:function(q){this.setState({selectedSpec:q.selectedSpec});},render:function(){var q=this.props.imageSpecs;if(!q||q.length===0||q.length===1&&this.props.hideSingleOption)return null;if(this.props.orderByAspectRatio)q.sort(function(t,u){return t.aspectRatio-u.aspectRatio;});var r=this.state.selectedSpec,s=q.map((function(t){return (i.createElement(j,{className:"_5qc-"+(!r||r.aspectRatio!==t.aspectRatio||r.placement!==t.placement?' '+"_5qc_":'')+(' '+"_5bv8"),key:t.placement+t.cropKey,label:this._getLabelForImageSpec(t),size:'large',onClick:(function(){return this._onClickSpecItem(t);}).bind(this)}));}).bind(this));return (i.createElement(k,null,s));},_onClickSpecItem:function(q){this.setState({selectedSpec:q});this.props.onUpdateImageSpec(q);},_getLabelForImageSpec:function(q){if(q.aspectRatio===1)return o.SQUARE;if(q.cropKey===h.NO_CROP)return o.NO_CROP;return q.aspectRatio;}});f.exports=p;},null);
__d('AdsImageCropperEditor.react',['AdImageSpecsUtils','AdsImageCropperEditorItem.react','AdsImageCropperImageSpecSelector.react','AdsImageCropSelector.react','AdsImageDialog.react','AdsImageLegacy','AdsImagePanelNote.react','ApiAdPageTypeToPlatformMap','CenteredContainer.react','Event','InputLabel.react','Link.react','React','ReactLayeredComponentMixin','XUIButton.react','XUICheckboxInput.react','XUICloseButton.react','XUIText.react','arrayContains','cssVar','cx','debounce','emptyFunction','fbt','getViewportDimensions','mapObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){'use strict';if(c.__markCompiled)c.__markCompiled();var ha=t.PropTypes,ia="684",ja="584",ka=40,la=50,ma="880",na=2,oa=12,pa=16,qa=32,ra=20,sa=12,ta=70,ua=186,va=100,wa=12,xa=28,ya=t.createClass({displayName:'AdsImageCropperEditor',mixins:[u],propTypes:{accountID:ha.string,enablePlatformCustomizations:ha.bool,header:ha.string.isRequired,image:ha.instanceOf(m).isRequired,imageSpecs:ha.array.isRequired,libraryImages:ha.arrayOf(ha.shape({url:ha.string.isRequired,hash:ha.string.isRequired})),platformCustomizations:ha.objectOf(ha.instanceOf(m).isRequired),selectedPlacement:ha.string,showSpecSelector:ha.bool,suppressValidationError:ha.bool,onClose:ha.func,onImageUpdate:ha.func.isRequired},_resizeHandlerRef:null,getDefaultProps:function(){return {onClose:da,onImageUpdate:da};},getInitialState:function(){return {placementImageSpecs:this._getImageSpecsForPlacements(this.props.image,this.props.platformCustomizations,this._groupImageSpecsByPlacement(this.props.imageSpecs)),selectedPlacement:this.props.selectedPlacement||this.props.imageSpecs[0].placement};},componentWillMount:function(){var za=ca((function(){return this.forceUpdate();}).bind(this));this._resizeHandlerRef=q.listen(window,'resize',za);},componentWillUnmount:function(){if(this._resizeHandlerRef&&this._resizeHandlerRef.remove)this._resizeHandlerRef.remove();this._resizeHandlerRef=null;},componentWillReceiveProps:function(za){var ab=za.imageSpecs;if(ab.length===0)return;var bb=za.image,cb=this.state.selectedPlacement,db=za.platformCustomizations,eb=this.state.placementImageSpecs[cb],fb=ab.every(function(gb){return eb!==gb;});if(!eb||fb)this.setState({selectedPlacement:ab[0].placement});this.setState({placementImageSpecs:this._getImageSpecsForPlacements(bb,db,this._groupImageSpecsByPlacement(ab))});},renderLayers:function(){var za;if(this.state.showImageLibrary)za=t.createElement(l,{accountID:this.props.accountID,libraryImages:this.props.libraryImages,maxSelectedImages:1,selectedImages:[this._getImageForPlacement(this.state.selectedPlacement).toJSON()],specs:this._getSpecsForCustomImage(),onCancel:this._hideCustomImageDialog,onSelect:this._selectCustomImage});return {dialog:za};},render:function(){var za=this.state.selectedPlacement,ab=this._getImageForPlacement(za),bb=this.state.placementImageSpecs[za];if(this.props.imageSpecs.length===0||!bb)return null;var cb=this._getTabContentHeight()-la-2*wa-(this.props.showSpecSelector?xa:0),db=t.createElement(k,{disableResizer:bb.aspectRatio<=0,height:cb,image:ab,imageSpec:bb,isDisabled:false,isError:this._isImageError(ab,bb),isReady:this._isImageReady(ab,bb),suppressValidationError:this.props.suppressValidationError,width:ma-this._getEditorWidth()-2*wa,onContextMenu:this._onImageContextMenu,onCropUpdate:this.props.onImageUpdate}),eb=this.props.showSpecSelector?this._renderCropSpecSelector():null,fb=t.createElement('div',{className:"_5twc",style:{width:this._getEditorWidth()}},this._renderEditorHeader(),this._renderEditorRows(),this._renderEditorFooter());return (t.createElement('div',{className:"_5twd",style:{height:this._getTabContentHeight()}},t.createElement('div',{className:"_5oh2"},db,eb),fb));},_renderEditorHeader:function(){return (t.createElement('div',{className:"_5twe"},this.props.header,t.createElement(x,{className:"_5twf rfloat",onClick:this.props.onClose})));},_renderEditorFooter:function(){return (t.createElement('div',{className:"_5twg"},t.createElement(v,{className:'rfloat',label:ea._("Done"),use:'confirm',onClick:this.props.onClose})));},_renderEditorRows:function(){var za=this.state.selectedPlacement,ab=this._groupImageSpecsByPlacement(this.props.imageSpecs),bb=Object.keys(ab).length,cb=bb>1,db=this._getEditorWidth()-(bb-1)*sa-bb*na*2-2*(cb?oa:qa),eb=this._getTabContentHeight()-ka-la-2*(cb?pa:ra),fb=Math.min(eb-na*2,cb?ta:ua),gb=this._calculateRowHeightColumnWidth(ab,db,fb),hb=this.state.placementImageSpecs,ib=Object.keys(hb).map(function(kb){return hb[kb];}),jb=ib.map((function(kb){var lb=this._getImageForPlacement(kb.placement),mb=kb.aspectRatio>0?kb.aspectRatio:lb.width/lb.height,nb=gb[kb.placement].width,ob=nb/mb;if(cb){ob=gb[kb.placement].height;nb=gb[kb.placement].height*mb;}if(ob>fb){ob=fb;nb=ob*mb;}var pb=za===kb.placement;if(!pb){nb+=na;ob+=na;}if(kb.aspectRatio<=0)kb=babelHelpers._extends({},kb,{height:lb.height,width:lb.width,aspectRatio:lb.width/lb.height});return (t.createElement('div',{className:"_145i",key:lb.getUniqueIdentifier()+kb.placement+kb.cropKey,style:{width:gb[kb.placement].width}},t.createElement(i,{height:Math.floor(ob),image:lb,imageSpec:kb,isDisabled:false,isError:this._isImageError(lb,kb),isReady:this._isImageReady(lb),isSelected:pb,width:Math.floor(nb),onClick:this._setCropperItem,onContextMenu:this._onImageContextMenu,onCropUpdate:this.props.onImageUpdate})));}).bind(this));return (t.createElement('div',null,this._renderEditorHelpText(cb),this._renderEditorRowHeader(ab,gb),t.createElement('div',{className:"_5twi"},jb),this._renderCustomImagePanel()));},_renderCustomImagePanel:function(){if(!this.props.enablePlatformCustomizations)return null;var za=this.state.selectedPlacement;if(!o[za])return null;var ab=this.props.image,bb=this._getImageForPlacement(za),cb=this.state.showCustomImagePanel||!ab.equals(bb),db=t.createElement(r,null,t.createElement(w,{checked:cb,onClick:cb?this._removeCustomImage:this._showCustomImagePanel}),t.createElement('label',null,ea._("Select a separate image for this placement"))),eb;if(cb)eb=t.createElement('div',null,t.createElement(v,{className:"_3-8y",label:ea._("Change Image"),onClick:this._showCustomImageDialog}),t.createElement(n,{imageSpec:this._getSpecsForCustomImage()[0]}));return (t.createElement('div',{className:"_2ph_"},db,eb));},_renderCropSpecSelector:function(){if(!this.props.showSpecSelector)return null;var za=this.state.selectedPlacement,ab=this._groupImageSpecsByPlacement(this.props.imageSpecs),bb=this.state.placementImageSpecs[za];return (t.createElement('div',{className:"_23et"},t.createElement(j,{hideSingleOption:true,imageSpecs:ab[za],orderByAspectRatio:true,selectedSpec:bb,onUpdateImageSpec:this._updateImageCrops})));},_renderEditorRowHeader:function(za,ab){if(Object.keys(ab).length<=1)return null;var bb=Object.keys(za).map(function(cb){return (t.createElement('div',{className:"_qmy",key:'header title'+cb,style:{width:ab[cb].width}},h.getImageSpecPlacementPlatform(za[cb][0])));});return (t.createElement(p,{className:"_qmz",horizontal:true,vertical:false},t.createElement('div',null,bb)));},_renderEditorHelpText:function(za){if(!za)return null;return (t.createElement(y,{className:"_3-8z _3-8t _3-96",display:'block',size:'small'},ea._("Select the image to edit how it is cropped. {=Learn about ad placements} on Facebook and Instagram.",[ea.param('=Learn about ad placements',t.createElement(s,{href:'/business/help/274759766036201',target:'_blank'},ea._("Learn about advert placements")))])));},_getTabContentHeight:function(){var za=fa().height,ab=za-va;return Math.max(ja,Math.min(ia,ab));},_setCropperItem:function(za){this.setState({selectedPlacement:za});},_isImageError:function(za,ab){if(this.props.suppressValidationError)return false;return za.hasValidationError(ab.placement);},_isImageReady:function(za){return (za.isStockImage()?za.hasFullSizeDimensions():za.hasDimensions());},_getEditorWidth:function(){var za="250";return parseInt(za,10);},_onImageContextMenu:function(za,event){if(za.isStockImage())event.preventDefault();},_getImageSpecsForPlacements:function(za,ab,bb){return ga(bb,function(cb,db){var eb=o[db],fb=eb&&ab&&ab[eb];if(!fb)fb=za;var gb=Object.keys(fb.crops),hb=cb[cb.length-1];cb.forEach(function(ib){if(z(gb,ib.cropKey)&&fb.crops[ib.cropKey])hb=ib;});return hb;});},_updateImageCrops:function(za){var ab=this._getImageForPlacement(this.state.selectedPlacement),bb=this.state.placementImageSpecs,cb=bb[this.state.selectedPlacement];if(cb!==za){bb[this.state.selectedPlacement]=za;this.setState({placementImageSpecs:bb});this.props.onImageUpdate(ab,za.cropKey,this.state.selectedPlacement,ab.crops[za.cropKey],cb.cropKey);}},_groupImageSpecsByPlacement:function(za){var ab={};za.forEach(function(bb){ab[bb.placement]=ab[bb.placement]||[];ab[bb.placement].push(bb);});return ab;},_calculateRowHeightColumnWidth:function(za,ab,bb){var cb=0,db={};Object.keys(za).map((function(fb){var gb=this._getImageForPlacement(fb),hb=gb.width/gb.height;db[fb]=za[fb].map(function(ib){return ib.aspectRatio>0?ib.aspectRatio:hb;}).reduce(function(ib,jb){return Math.max(ib,jb);});cb+=db[fb];}).bind(this));var eb={};Object.keys(db).forEach(function(fb){var gb=db[fb],hb=gb/cb*ab,ib=hb/gb;if(ib>bb){ib=bb;hb=ib*gb;}eb[fb]={height:ib,width:hb};});return eb;},_getImageForPlacement:function(za){var ab,bb=o[za],cb=this.props.platformCustomizations;if(cb&&bb)ab=cb[bb];return ab||this.props.image;},_showCustomImagePanel:function(){this.setState({showCustomImagePanel:true});},_showCustomImageDialog:function(){this.setState({showImageLibrary:true});},_hideCustomImageDialog:function(){this.setState({showImageLibrary:false});},_selectCustomImage:function(za){if(za[0]){this.props.onImageUpdate(this.props.image,this.state.placementImageSpecs[this.state.selectedPlacement].cropKey,this.state.selectedPlacement,null,null);this.props.onImageUpdate(new m(babelHelpers._extends({},za[0])),null,this.state.selectedPlacement,null,null);}this._hideCustomImageDialog();},_removeCustomImage:function(){this.props.onImageUpdate(null,null,this.state.selectedPlacement,null,null);this.setState({showCustomImagePanel:false});},_getSpecsForCustomImage:function(){var za=this.props.imageSpecs.filter((function(ab){return (o[ab.placement]===o[this.state.selectedPlacement]);}).bind(this));return h.filterCropImageSpecs(za);}});f.exports=ya;},null);
__d('AdsImageCropperEditorDialogMixins',['AdsImageCropperEditor.react','AdsImageLegacy','LayerFadeOnHide','React','ReactLayeredComponentMixin','XUIDialog.react','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=880,q={propTypes:{header:o.string.isRequired,image:o.instanceOf(i),imageSpecs:o.array.isRequired,onCropUpdate:o.func,onShow:o.func},getDefaultProps:function(){return {onCropUpdate:n,onShow:n};},getInitialState:function(){return {dialogShown:false};},renderLayers:function(){if(!this.state.dialogShown||!this.props.image)return {};return {dialog:k.createElement(m,{behaviors:{LayerFadeOnHide:j},shown:this.state.dialogShown,width:p,onToggle:this._onToggle},k.createElement(h,{header:this.props.header,image:this.props.image,imageSpecs:this.props.imageSpecs,onClose:this.hideCropper,onImageUpdate:this.props.onCropUpdate}))};},showCropper:function(){this.props.onShow();this.setState({dialogShown:true});},hideCropper:function(){this.setState({dialogShown:false});},_onToggle:function(s){if(!s)setTimeout((function(){return this.setState({dialogShown:false});}).bind(this),0);}},r=[q,l];f.exports=r;},null);
__d('AdsLocationValidationDialog.react',['React','ReactDOM','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react','LayerAutoFocus','LayerFadeOnHide','LayerHideOnEscape','fbt','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=h.PropTypes;function u(w){return w.split(',')[0];}var v=h.createClass({displayName:'AdsLocationValidationDialog',propTypes:{entriesRadius:t.object.isRequired,exclusionEntries:t.object.isRequired,updateRadius:t.func.isRequired,updateExclusion:t.func.isRequired,addEntry:t.func.isRequired,removeEntry:t.func.isRequired,currentEntries:t.array},mixins:[j],getInitialState:function(){return {dialogShown:false,invalidEntries:[]};},show:function(event){this.setState({dialogShown:true});},_onToggle:function(w){if(w!==this.state.dialogShown)setTimeout(this.setState.bind(this,{dialogShown:w},null),0);},renderLayers:function(){var w=this.state.newEntry,x=this.state.invalidEntries,y;if(x.length===1){var z=x[0];if(z.exclusionEntries&&z.exclusionEntries.length>0){var aa=x[0].exclusionEntries.map(function(fa){return u(fa.getTitle());});y=h.createElement('span',{className:"_5dj8"},r._("{location} Excluding {excluded locations}",[r.param('location',u(z.getTitle())),r.param('excluded locations',aa.join(', '))]));}else y=h.createElement('span',{className:"_5dj8"},u(z.getTitle()));}else if(x.length>1){var ba=x.map(function(fa){return u(fa.getTitle());});y=h.createElement('span',{className:"_5dj8"},ba.join(', '));}else return {};var ca=this.state.errorDescription?h.createElement('span',null,' ',this.state.errorDescription,' '):'',da=w?u(w.getTitle()):'',ea=r._("Your audience location is currently set to {old location}. Do you want to change it to {new location}?",[r.param('old location',y),r.param('new location',h.createElement('span',{className:"_5dj8"},da))]);return {dialog:h.createElement(k,{behaviors:{LayerAutoFocus:o,LayerFadeOnHide:p,LayerHideOnEscape:q},shown:this.state.dialogShown,width:445,onToggle:this._onToggle},h.createElement(l,null,h.createElement('div',null,ca,ea)),h.createElement(m,null,h.createElement(n,{action:'cancel',label:r._("Cancel"),use:'default'}),h.createElement(n,{action:'cancel',className:'autofocus',label:r._("Okay"),ref:'confirmButton',use:'confirm',onClick:this._onConfirmClick})))};},render:function(){return (h.createElement('div',null));},componentDidUpdate:function(){j.componentDidUpdate.call(this);this.refs&&this.refs.confirmButton&&i.findDOMNode(this.refs.confirmButton).focus();},_onConfirmClick:function(){var w=this.props.currentEntries?this.props.currentEntries.slice():[],x={},y=this.props.entriesRadius,z=this.props.exclusionEntries;w.push(this.state.newEntry);y[this.state.newEntry.getUniqueID()]=0;z[this.state.newEntry.getUniqueID()]=[];this.state.invalidEntries.map(function(aa){x[aa.getUniqueID()]=true;});w.forEach(function(aa){if(x[aa.getUniqueID()])this.props.removeEntry(aa);},this);this.props.updateRadius(y);this.props.updateExclusion(z);this.props.addEntry(this.state.newEntry);},setInfo:function(w,x,y){this.setState({newEntry:w,invalidEntries:x,errorDescription:y});}});f.exports=v;},null);
__d('AdsTargetingLocationLoggingEvents',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={GEO_LOCATION_SELECT:'select_geo_location',GEO_LOCATION_SELECT_EXCLUDE:'select_exclude_geo_location',GEO_LOCATION_START_TYPING:'geo_location_start_typing',GEO_LOCATION_CLICK_INCLUDE:'geo_location_click_include',GEO_LOCATION_CLICK_EXCLUDE:'geo_location_click_exclude',GEO_LOCATION_USE_EXCLUDE:'geo_location_use_exclude',GEO_LOCATION_CHANGE_RADIUS:'geo_location_change_radius',GEO_LOCATION_CLICK_XOUT:'geo_location_click_xout',GEO_LOCATION_NO_MATCH:'geo_location_no_match',GEO_LOCATION_UNSUPPORTED:'geo_location_unsupported',GEO_LOCATION_EXPLORE_TARGETING_TYPE:'geo_location_explore_targeting_type',GEO_LOCATION_CHANGE_TARGETING_TYPE:'geo_location_change_targeting_type',GEO_LOCATION_COPY_PASTE:'geo_location_copy_paste',GEO_LOCATION_ABANDONED_SEARCH:'abandoned_search',GEO_LOCATION_GEOCODE_FAIL:'geo_location_geocode_fail',GEO_LOCATION_CLOSE_NUX:'geo_location_close_nux',GEO_LOCATION_CLICK_RADIUS_EDITOR:'geo_location_click_radius_editor',GEO_LOCATION_COMPONENT_LOADING_TIME:'geo_location_component_loading_time',GEO_LOCATION_TYPEAHEAD_NO_INTERACTION:'geo_location_typeahead_no_interaction',GEO_LOCATION_MAP_ADD_LOCATION:'geo_location_map_add_location',GEO_LOCATION_MAP_ZOOM_IN:'geo_location_map_zoom_in',GEO_LOCATION_MAP_ZOOM_OUT:'geo_location_map_zoom_out',GEO_LOCATION_MAP_ZOOM_TO_FIT:'geo_location_map_zoom_to_fit',GEO_LOCATION_MAP_COLLAPSE:'geo_location_map_collapse',GEO_LOCATION_MAP_EXPAND:'geo_location_map_expand',GEO_LOCATION_MAP_INCLUDE:'geo_location_map_include',GEO_LOCATION_MAP_EXCLUDE:'geo_location_map_exclude',GEO_LOCATION_MAP_DELETE:'geo_location_map_delete',GEO_LOCATION_MAP_MOUNTING_TIME:'geo_location_map_mounting_time',GEO_LOCATION_MAP_DATA_LOADING_TIME:'geo_location_map_data_loading_time',GEO_LOCATION_MAP_REPORT_ISSUE:'geo_location_map_report_issue',GEO_BLIMP_UPDATE_LOCATION:'geo_blimp_update_location'};f.exports=h;},null);
__d('AdsPixelConversionDetailUtil',['AdsAccountStoreWrapper_DEPRECATED','AdsConversionPixelStatusUI','AdsPixelConversionTypes','AdsPixelStatus','AdsPixelStatusEnum','AdsPixelStore','getByPath'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o={getFiredConversions:function(p){return Object.keys(p).filter((function(q){return (this._getPixelStatus(p[q]).getStatus()!==l.NEVER_ACTIVE);}).bind(this)).reduce(function(q,r){q[r]=p[r];return q;},{});},getActiveConversions:function(p){return Object.keys(p).filter((function(q){return (this._getPixelStatus(p[q]).getStatus()===l.ACTIVE);}).bind(this)).reduce(function(q,r){q[r]=p[r];return q;},{});},hasTraffic:function(p){return Object.keys(p).some(function(q){var r=p[q],s=r.lastFiredTime,t=r.last_firing_time,u=r.last_fired_time;return !!s||!!t||!!u;});},getConversionDetails:function(p){if(p.type===j.NEW){var q=m.getPixelInfo(p.pixelID),r=n(q,['owner_ad_account','account_id']),s=h.getAccountID();return {businessID:n(q,['owner_business','id']),businessName:n(q,['owner_business','name']),isPixelOwner:r===s,pixelID:p.pixelID,pixelName:n(q,['name'])};}else return {pixelID:p.pixelID,pixelName:p.name};},getConversionStatusDescription:function(p){if(p.type===j.NEW){var q=new k(p.lastFiredTime);return q.getUserFacingStatus();}else return i.getStatusUI(p).text;},_getPixelStatus:function(p){var q=p.lastFiredTime,r=p.last_firing_time,s=p.last_fired_time,t=q||r||s||'';return new k(String(t));}};f.exports=o;},null);
__d("XAdsManagerConversionTrackingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/manage\/convtrack\/",{act:{type:"Int"},adaccount_id:{type:"Int"},page:{type:"Int",defaultValue:1}});},null);
__d('AdsPixelConversionItemFlyoutDetail.react',['AdsAccountStoreWrapper_DEPRECATED','AdsCurrencyFormatter','AdsCustomConversionRuleInfo.react','AdsCustomConversionsUtil','AdsPixelConversionStatusUtils','Layout.react','Link.react','React','WebsiteCustomAudienceModel','WebsiteCustomAudienceOperators','XAdsManagerConversionTrackingController','XAdsManagerPixelsController','XUIGrayText.react','cx','dotAccess','fbt','getByPath','intlList'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';if(c.__markCompiled)c.__markCompiled();var z=p.Operations,aa=q.URLOperators,ba=m.Column,ca=o.PropTypes,da=o.createClass({displayName:'AdsPixelConversionItemFlyoutDetail',propTypes:{conversion:ca.object.isRequired,eventName:ca.string.isRequired,isFacebookPixel:ca.bool.isRequired,conversionDetails:ca.shape({businessID:ca.string,businessName:ca.string,isPixelOwner:ca.bool,pixelName:ca.string}),statusIcon:ca.object,statusDescription:ca.string.isRequired},render:function(){return (o.createElement('div',null,o.createElement(t,{size:'medium',weight:'bold'},this.props.eventName),this._getDetails(),this._getRules(),this._getSources()));},_getDetails:function(){var ea;if(this._shouldDisplayEventDescription()){ea=this.props.conversion.description;}else ea=o.createElement('div',null,this._getEventStatus(),this._getLastReceivedEvent(),this._getCategory(),this._getConversionValue());return (o.createElement('div',{className:"_64l"},o.createElement(t,{className:"_2pie",display:'block',size:'small',weight:'bold'},w._("Details")),ea));},_getRules:function(){if(!this._getIsCustomConversion())return null;return (o.createElement('div',{className:"_64l"},o.createElement(t,{className:"_2pie",display:'block',size:'small',weight:'bold'},w._("Rules")),this._getRuleInfo()));},_getRuleInfo:function(){var ea=this.props.conversion.pixel_rule;if(k.isEventBased(ea))return o.createElement(j,{pixelRule:ea});var fa=this._getRuleValues();return (o.createElement('div',null,o.createElement(t,{shade:'light',weight:'normal'},w._("Include traffic that meets the following conditions:")),o.createElement('div',null,o.createElement(t,{display:'block',shade:'medium',weight:'bold'},w._("{rule type}",[w.param('rule type',fa.ruleLabel)])),this._getTokenList(fa.ruleTokens))));},_getTokenList:function(ea){if(!ea)return null;return y(ea,y.CONJUNCTIONS.OR);},_getRuleValues:function(){var ea=null,fa=null,ga=this.props.conversion.pixel_rule,ha=z.deserializeRule(ga)||{},ia=v(ha,'clauses')||[],ja=ia[0]||{};ea=z.getOperatorLabel(aa,v(ja,'filter'));fa=v(ja,'tokens');return {ruleLabel:ea,ruleTokens:fa};},_getSources:function(){var ea=x(this.props.conversionDetails,['pixelName']),fa=this.props.conversion.pixelID||this.props.conversion.id;return (o.createElement('div',null,o.createElement(t,{className:"_2pie",display:'block',size:'small',weight:'bold'},w._("Sources")),o.createElement(m,null,o.createElement(t,{shade:'light',size:'small'},w._("Pixel:")),o.createElement(t,{className:"_2pir",size:'small'},w._("{pixel name} ({pixel ID})",[w.param('pixel name',this._getPixelDetailLink(ea)),w.param('pixel ID',fa)]))),this._getSharedSource()));},_getSharedSource:function(){if(!this._isPixelShared())return null;return (o.createElement(m,null,o.createElement(t,{shade:'light',size:'small'},w._("Shared by:")),o.createElement(t,{className:"_2pir",size:'small'},w._("{pixel's business name} ({pixel's business ID})",[w.param('pixel\'s business name',x(this.props.conversionDetails,['businessName'])),w.param('pixel\'s business ID',x(this.props.conversionDetails,['businessID']))]))));},_isPixelShared:function(){return (this.props.isFacebookPixel&&!x(this.props.conversionDetails,['isPixelOwner']));},_getIsCustomConversion:function(){return (k.getIsCustomConversion(this.props.conversion));},_getEventStatus:function(){return (o.createElement(m,null,o.createElement(ba,null,o.createElement(t,{shade:'light',size:'small'},w._("Status:"))),o.createElement(ba,{className:"_5tzo"},this.props.statusIcon,o.createElement(t,{shade:'light',size:'small'},this.props.statusDescription))));},_getPixelDetailLink:function(ea){var fa=this._getPixelLinkURI();return (o.createElement(n,{href:fa,target:'_blank',onMouseDown:function(event){return event.preventDefault();}},ea));},_getPixelLinkURI:function(){if(this.props.isFacebookPixel)return s.getURIBuilder().setInt('act',h.getAccountID()).setInt('pixel_id',this.props.conversion.pixelID).getURI();return r.getURIBuilder().setInt('act',h.getAccountID()).getURI();},_getLastReceivedEvent:function(){var ea=this._getLastReceivedSentence();if(!ea)return null;return (o.createElement(m,null,o.createElement(t,{shade:'light',size:'small'},w._("Last Event:")),o.createElement(t,{className:"_2pir",shade:'light',size:'small'},ea)));},_getCategory:function(){if(this.props.isFacebookPixel&&!this._getIsCustomConversion())return null;var ea=this._getIsCustomConversion()?this.props.conversion.category:this.props.conversion.value;return (o.createElement(m,null,o.createElement(t,{shade:'light',size:'small'},w._("Category:")),o.createElement(t,{className:"_2pir",shade:'light',size:'small'},ea)));},_getConversionValue:function(){if(!this._getIsCustomConversion())return null;return (o.createElement(m,null,o.createElement(t,{shade:'light',size:'small'},w._("Conversion Value")),o.createElement(t,{className:"_2pir",shade:'light',size:'small'},this._getConversionCurrencyValue())));},_getConversionCurrencyValue:function(){return i.formatCurrencyWithISO(h.getCurrency(),this.props.conversion.default_conversion_value);},_getLastReceivedSentence:function(){return (l.getStatusObjectFromConversion(this.props.conversion).getLastReceivedSentence());},_shouldDisplayEventDescription:function(){return !!(!this._getIsCustomConversion()&&this.props.conversion.description&&!this.props.conversion.lastFiredTime);}});f.exports=da;},null);
__d('AdsPixelSelector.react',['AdsPixelConversionStatusUtils','AdsPixelSelectorOption.react','AdsPixelSelectorStoreWrapper','AdsPixelStatusUtils','AdsRichSelector.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=m.PropTypes,q=l.Option,r=l.Separator,s=m.createClass({displayName:'AdsPixelSelector',propTypes:{conversionPixels:p.object.isRequired,maxheight:p.number.isRequired,maxwidth:p.number.isRequired,onChange:p.func,selectedValue:p.string,size:p.string,unifiedPixels:p.object.isRequired},render:function(){if(!this._getShouldDisplaySelector())return null;var t=m.createElement('div',null);if(this._getHasPixel(this.props.unifiedPixels))t=this._getUnifiedPixelSelectorOptions().props.children;var u=m.createElement('div',null);if(this._getHasPixel(this.props.conversionPixels))u=this._getConversionPixelSelectorOptions().props.children;return (m.createElement(l,{defaultValue:this.props.selectedValue||'',key:'pixel_'+this.props.selectedValue,maxheight:this.props.maxheight,maxwidth:this.props.maxwidth,size:this.props.size,onChange:this._handleChange},this._getNoPixelOption(),t,u));},_getShouldDisplaySelector:function(){return j.getShouldDisplaySelector(this.props.unifiedPixels,this.props.conversionPixels);},_getHasPixel:function(t){return j.getHasPixel(t);},_getUnifiedPixelSelectorOptions:function(){var t=o._("Facebook Pixel"),u=this._getPixelSelectorOptionsForType(true,this.props.unifiedPixels);return (m.createElement('div',null,this._getPixelSeparator(t),u));},_getConversionPixelSelectorOptions:function(){var t=o._("Conversion-tracking Pixel"),u=this._getPixelSelectorOptionsForType(false,this.props.conversionPixels);return (m.createElement('div',null,this._getPixelSeparator(t),u));},_getPixelSelectorOptionsForType:function(t,u){var v=[];Object.keys(u).forEach(function(w){var x=u[w],y=h.getStatusFromConversion(x),z=k.getUserFacingStatus(y),aa=k.getIcon(y);v.push(m.createElement(i,{icon:aa,isFacebookPixel:t,key:x.id,label:x.name,pixel:x,statusDescription:z,value:x.id},m.createElement('div',{className:"_31wu"},m.createElement('div',{className:"_31wv ellipsis"},x.name),m.createElement('div',{className:"_31ww"},o._("ID: {Conversion tracking pixel ID}",[o.param('Conversion tracking pixel ID',x.id)])))));});return v;},_getPixelSeparator:function(t){return (m.createElement(r,{key:t,label:t}));},_getNoPixelOption:function(){var t;if(this.props.selectedValue){t=o._("No pixel selected");}else t=o._("Choose a pixel (optional)");return (m.createElement(q,{key:'default',label:t,value:''},t));},_handleChange:function(t){this.props.onChange&&this.props.onChange(t.value);}});f.exports=s;},null);
__d('AdsPixelCreateButton.react',['AdInterfacesUiLogger','AdsPixelDialogLazy.react','AdsPixelDialogTypes','AdsPixelStore','AdsPixelViewActions','FluxMixinLegacy','PixelCreationUIConstants','React','ReactComponentWithPureRenderMixin','ReactLayeredComponentMixin','XUIButton.react','XUIDialog.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=o.PropTypes,v=o.createClass({displayName:'AdsPixelCreateButton',contextTypes:{componentEnvironment:u.string.isRequired},mixins:[m([k]),p,q],propTypes:{className:u.string,label:u.string,size:u.string.isRequired,use:u.string.isRequired},statics:{calculateState:function(){return {hasPixels:k.hasPixels()};}},render:function(){return (o.createElement(r,{className:this.props.className,label:this._getButtonLabel(),size:this.props.size,use:this.props.use,onClick:this._onCreatePixel}));},renderLayers:function(){return {dialog:o.createElement(s,{layerHideOnBlur:false,width:n.DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},this._getDialogBody())};},_getButtonLabel:function(){return (this.props.label?this.props.label:t._("Create a Pixel"));},_getDialogBody:function(){return o.createElement(i,null);},_onCreatePixel:function(){h.log('ads_pixel_pixel_creation_dialog_open',{componentEnvironment:this.context.componentEnvironment});l.startPixelCreate();l.dialogTypeChange(j.CREATE_PIXEL);},_onToggle:function(w){if(!w)this._onClose();},_onClose:function(){if(this.state.hasPixels)l.endPixelNUX();l.endPixelCreate();l.dialogTypeChange(j.NO_DIALOG);}});f.exports=v;},null);
__d('AdsPixelCreationCard.react',['AdsPixelCreateButton.react','AdsPixelHelpCenter','Image.react','ImageBlock.react','React','ReactComponentWithPureRenderMixin','XUIGrayText.react','XUIText.react','cx','fbt','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=l.PropTypes,u=l.createClass({displayName:'AdsPixelCreationCard',contextTypes:{getHelpLink:t.func.isRequired,isCampaignManager:t.func.isRequired},mixins:[m],propTypes:{className:t.string},render:function(){return (l.createElement('div',{className:"_2pie",horizontal:true},this._getPixelCreateDialog()));},_getPixelCreateDialog:function(){var v=s("_23ne",this.props.className);return (l.createElement('div',{className:v},l.createElement(k,{className:"_23nf"},l.createElement(j,{src:r('/images/ads/pixel/icons/UP_Pixel_60.png')}),l.createElement('div',null,l.createElement(n,{className:"_3-8m",display:'block',shade:'medium',size:'medium',weight:'bold'},q._("Facebook Pixel")),l.createElement(n,{shade:'medium',size:'medium'},q._("You can now create one pixel for tracking, optimisation and remarketing."),l.createElement('span',{className:"_3-99"},this._getHelpLink())),this._getPixelCreateButton()))));},_getHelpLink:function(){return this.context.getHelpLink(i.GENERAL,this.context.isCampaignManager(),l.createElement(o,{size:'medium'},q._("Learn More")));},_getPixelCreateButton:function(){return (l.createElement('div',{className:"_3-8x"},l.createElement(h,{className:"_23ng",size:'large',use:'confirm'})));}});f.exports=u;},null);
__d('AdsPixelHelpCenterLinkUtil',['AdsHelpTrayUIActions','Link.react','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={getHelpLink:function(l,m,n){if(m)return (j.createElement(i,{onClick:function(event){return (h.pushCMSIDToHistory(l.cmsID));}},n));return (j.createElement(i,{href:l.uri,target:'_blank'},n));}};f.exports=k;},null);
__d('AdsPixelTrackingContextUtils',['AdsOffsiteConversionConstants','AdsPixelHelpCenterLinkUtil','React','getOwnObjectValues'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m={getContextTypes:function(){return {componentEnvironment:l.string,conversionPixelSelector:l.any.isRequired,getConversionInfoBoxContentForActivePixel:l.func,getHelpLink:l.func.isRequired,isCampaignManager:l.func.isRequired,legacyPixelSelectType:l.string.isRequired,maxheight:l.number,updateTrackingSpec:l.func.isRequired,onCreateConversionPixel:l.func,conversionPixelEmailSource:l.oneOf(k(h.emailSources))};},getDefaultContext:function(){return {getHelpLink:function(n,o,p){return (i.getHelpLink(n,o,p));}};}};f.exports=m;},null);
__d('AdsPixelSelectorLoggerConstants',['ImmutableObject','keyMirror'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i({BOOSTED_POST:null,BOOSTED_WEBSITE:null,CONVERSION_TRACKING_PIXEL:null,CUSTOM_AUDIENCE_PIXEL:null,DEFAULT_PIXEL_LOADED:null,NO_CONTEXT:null,PIXEL_SELECTION_CHANGED:null});f.exports=new h(j);},null);
__d('AdsPixelSelectorLoggerContext',['AdsAPIObjectives','AdsPixelSelectorLoggerConstants','AdsPixelUIEnvironments','BoostedComponentAppID'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();function l(m,n){this.$AdsPixelSelectorLoggerContext1=m;this.$AdsPixelSelectorLoggerContext2=n;this.$AdsPixelSelectorLoggerContext3();}l.prototype.getEnvironment=function(){return this.$AdsPixelSelectorLoggerContext1;};l.prototype.getPixelContext=function(){return this.$AdsPixelSelectorLoggerContext2;};l.prototype.$AdsPixelSelectorLoggerContext3=function(){switch(this.$AdsPixelSelectorLoggerContext1){case j.CF:if(!(this.$AdsPixelSelectorLoggerContext2 in h))this.$AdsPixelSelectorLoggerContext2=i.NO_CONTEXT;break;case j.LWI:this.$AdsPixelSelectorLoggerContext4();break;default:this.$AdsPixelSelectorLoggerContext2=i.NO_CONTEXT;}};l.prototype.$AdsPixelSelectorLoggerContext4=function(){switch(this.$AdsPixelSelectorLoggerContext2){case k.BOOSTED_POST:this.$AdsPixelSelectorLoggerContext2=i.BOOSTED_POST;break;case k.BOOSTED_WEBSITE:this.$AdsPixelSelectorLoggerContext2=i.BOOSTED_WEBSITE;break;default:this.$AdsPixelSelectorLoggerContext2=i.NO_CONTEXT;}};f.exports=l;},null);
__d("XAdsConversionPixelSendingEmailDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/manage\/convtrack\/send_email\/",{pixel_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}});},null);
__d("XAdsConversionPixelViewingCodeDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/manage\/convtrack\/view_code\/",{pixel_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}});},null);
__d('AdsPixelTrackingInfoBox.react',['AdsPixelConversionStore','AdsPixelDialogTypes','AdsPixelHelpCenter','AdsPixelStatusEnum','AdsPixelStore','AdsPixelTrackingContextUtils','AdsPixelUtil','AdsPixelViewActions','FluxMixinLegacy','Link.react','React','ReactComponentWithPureRenderMixin','XAdsConversionPixelSendingEmailDialogController','XAdsConversionPixelViewingCodeDialogController','XUINotice.react','XUISpinner.react','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){'use strict';if(c.__markCompiled)c.__markCompiled();var aa=r.PropTypes,ba=r.createClass({displayName:'AdsPixelTrackingInfoBox',contextTypes:m.getContextTypes(),mixins:[p([h,l],{withProps:true}),s],propTypes:{className:aa.string,pixelID:aa.string.isRequired},statics:{calculateState:function(ca,da){var ea=n.isUnifiedPixel(da.pixelID),fa=!l.isListLoaded(),ga=n.getStatusObject(da.pixelID);return {isLoading:fa,isUnified:ea,status:ga};}},render:function(){if(this.state.isLoading)return r.createElement(w,null);var ca=this.state.status&&this.state.status.getStatus();if(ca===k.ACTIVE)return null;var da=this.state.isUnified?this._getUnifiedInfoBoxContent(ca):this._getConversionInfoBoxContent(ca);return (r.createElement('div',{className:this._getClassName()},r.createElement(v,{className:"_1bji",size:'small'},da)));},_getClassName:function(){return z(this.props.className,"_2e6y");},_renderPixelEmailDialog:function(){o.dialogTypeChange(i.EMAIL_CODE);},_renderSetupConversionsDialog:function(){o.dialogTypeChange(i.SETUP_CONVERSION);},_getUnifiedInfoBoxContent:function(ca){switch(ca){case k.NEVER_ACTIVE:return y._("You don't have any conversions set up from your Facebook pixel yet. Once you've set them up, all conversions from the pixel will be tracked by default. {Email} or {Set up Conversions} now.",[y.param('Email',this._getEmailLink()),y.param('Set up Conversions',this._getSetupConversionsLink())]);case k.INACTIVE:return y._("We haven't received any events from this pixel in more than 7 days. Make sure that the pixel is properly configured. {Get help}.",[y.param('Get help',this._getUnifiedHelpLink())]);default:return null;}},_getConversionInfoBoxContent:function(ca){switch(ca){case k.NEVER_ACTIVE:return y._("Your conversion-tracking pixel is not set up currently. When you've set it up, conversions will be tracked from this pixel by default. {Email} or {View Pixel Code} now.",[y.param('Email',this._getEmailPixelCode()),y.param('View Pixel Code',this._getViewPixelCode())]);case k.INACTIVE:return y._("We haven't received any activity from this pixel in more than 7 days. Make sure that the pixel is properly configured. {Get help}.",[y.param('Get help',this._getConversionHelpLink())]);default:return null;}},_getUnifiedHelpLink:function(){return this.context.getHelpLink(j.INSTALL,this.context.isCampaignManager(),y._("Get help"));},_getConversionHelpLink:function(){return this.context.getHelpLink(j.INSTALL_CONVERSION_PIXEL,this.context.isCampaignManager(),y._("Get help"));},_getEmailLink:function(){return (r.createElement(q,{onClick:this._renderPixelEmailDialog},y._("Email")));},_getSetupConversionsLink:function(){return (r.createElement(q,{onClick:this._renderSetupConversionsDialog},y._("set up conversions")));},_getEmailPixelCode:function(){var ca=t.getURIBuilder().setInt('pixel_id',this.props.pixelID).getURI();return (r.createElement(q,{className:"_4w_a",href:ca,rel:'dialog'},y._("Email")));},_getViewPixelCode:function(){var ca=u.getURIBuilder().setInt('pixel_id',this.props.pixelID).getURI();return (r.createElement(q,{className:"_4w_a",href:ca,rel:'dialog'},y._("View Pixel Code")));}});f.exports=ba;},null);
__d('AdsPixelSelectorContainer.react',['AdInterfacesUiLogger','AdsAccountStoreWrapper_DEPRECATED','AdsPixelNudgeConversionsInfoBox.react','AdsConversionPixelStore','AdsCreationExperimentStore','AdsGoalStore','AdsPixelConversionDetailUtil','AdsPixelConversionStore','AdsPixelTrackingContextUtils','AdsPixelTrackingSpecActionDispatcher','AdsPixelCreationCard.react','AdsPixelDefaultPixelStore','AdsPixelDialogLazy.react','AdsPixelSelector.react','AdsPixelSelectorLoggerConstants','AdsPixelSelectorLoggerContext','AdsPixelSelectorStoreWrapper','AdsPixelStore','AdsPixelTrackingInfoBox.react','AdsPixelTrackingStore','AdsPixelUIEnvironments','AdsPixelUtil','AdsTrackingPixelUtils','FluxMixinLegacy','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){'use strict';if(c.__markCompiled)c.__markCompiled();var ia=fa.PropTypes,ja=fa.createClass({displayName:'AdsPixelSelectorContainer',contextTypes:p.getContextTypes(),propTypes:{defaultPixelDomains:ia.array,logContext:ia.instanceOf(w).isRequired,onChange:ia.func},mixins:[ea([k,m,o,s,y,aa],{withProps:true})],getDefaultProps:function(){return {defaultPixelDomains:null};},statics:{calculateState:function(ka,la){var ma=k.getKeyedPixels(),na=y.getPixels(),oa=s.getDefaultPixelID(la.defaultPixelDomains),pa=s.hasDefaultPixelLoaded(),qa=da.getTrackingPixelIDsFromSpecs([aa.getTrackingSpec()]),ra=k.isListLoaded(),sa=y.isListLoaded(),ta=o.isAllConversionStatsReceived(),ua=m.isGoalListLoaded(),va=m.getGoals(),wa=false,xa={};if(qa){wa=ca.isUnifiedPixel(qa);xa=wa?o.getConversionsByPixelID(qa):k.getPixel(qa);}var ya=l.getExperiment('pixel_optimization_upsell_dbp'),za=ya&&ya.getParamBool('is_pixel_upsell');return {conversionPixels:ma,conversionValues:xa,customConversions:va,defaultPixelID:oa,defaultPixelLoaded:pa,environment:i.getEnvironment(),isConversionPixelStoreLoaded:ra,isGoalStoreLoaded:ua,isInPixelUpsellExperiment:za,isPixelStoreLoaded:sa,isPixelConversionStoreLoaded:ta,isUnified:wa,selectedValue:qa,unifiedPixels:na};}},componentDidMount:function(){s.resetDefaultPixelState();},render:function(){if(!this._getIsLoaded())return null;var ka=this._renderPixelDialog();return (fa.createElement('div',null,fa.createElement(u,{conversionPixels:this.state.conversionPixels,maxheight:300,maxwidth:0,selectedValue:this._getSelectedPixelID()||undefined,size:'xlarge',unifiedPixels:this.state.unifiedPixels,onChange:this._handlePixelSelectionChange}),this._renderTrackingInfoBox(),this._renderActivePixelUpsellTrackingInfoBox(),this._renderPixelCreationCard(),ka));},_renderPixelCreationCard:function(){if(this.props.logContext.getEnvironment()!==ba.CF||x.getHasPixel(this.state.unifiedPixels))return null;return fa.createElement(r,null);},_renderTrackingInfoBox:function(){var ka=this.state.selectedValue;if(!ka)return null;return (fa.createElement(z,{className:ha("_3awi","_3-8y"),pixelID:ka}));},_renderActivePixelUpsellTrackingInfoBox:function(){if(!this._shouldRenderActivePixelUpsell())return null;return (fa.createElement(j,{className:ha("_3awi","_3-8y"),pixelID:this.state.selectedValue}));},_renderPixelDialog:function(){return fa.createElement(t,{pixelID:this.state.selectedValue});},_getSelectedPixelID:function(){if(this._getShouldSetDefaultPixelID()){this._logPixelSelectionChange(v.DEFAULT_PIXEL_LOADED,this.state.defaultPixelID);this._handlePixelSelectionChange(this.state.defaultPixelID);}return this.state.selectedValue;},_getShouldSetDefaultPixelID:function(){return (this.state.defaultPixelID!==null&&this.state.selectedValue===null);},_handlePixelSelectionChange:function(ka){this._logPixelSelectionChange(v.PIXEL_SELECTION_CHANGED,ka);if(this.props.onChange)this.props.onChange(ka);q.dispatchTrackingPixelUpdateAction(ka,this.state.unifiedPixels,this.state.conversionPixels);},_logPixelSelectionChange:function(ka,la){var ma=this.props.logContext;if(!ma)return;h.log('AdsPixelSelector',{event:ka,pixel_selector_context:ma.getPixelContext(),'interface':ma.getEnvironment(),pixel_id:la,pixel_type:this._getPixelTypeForLogging(la)});},_getPixelTypeForLogging:function(ka){return (ka in this.state.unifiedPixels?v.CUSTOM_AUDIENCE_PIXEL:v.CONVERSION_TRACKING_PIXEL);},_getIsLoaded:function(){return (this.state.defaultPixelLoaded&&this.state.isPixelConversionStoreLoaded&&this.state.isPixelStoreLoaded&&this.state.isConversionPixelStoreLoaded&&this.state.isGoalStoreLoaded);},_hasActiveConversions:function(ka){if(!ka)return false;var la={};if(this.state.isUnified){var ma=Object.keys(this.state.customConversions).filter((function(oa){return this.state.customConversions[oa].pixelID===ka;}).bind(this)).reduce((function(oa,pa){oa[pa]=this.state.customConversions[pa];return oa;}).bind(this),{});la=Object.assign({},this.state.conversionValues,ma);}else if(this.state.conversionValues)la[ka]=this.state.conversionValues;var na=n.getActiveConversions(la);return Object.keys(na).length>0;},_shouldRenderActivePixelUpsell:function(){return (this.state.isInPixelUpsellExperiment&&this.context.isCampaignManager()&&!!this.state.selectedValue&&this._hasActiveConversions(this.state.selectedValue));}});f.exports=ja;},null);
__d('AdsAudienceSizeDisplay.react',['React','XUIText.react','cx','fbt','joinClasses','ads-lib-formatters'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=c('ads-lib-formatters').createLimitedSigFigNumberFormatter(0,2),n=h.PropTypes,o=100,p=h.createClass({displayName:'AdsAudienceSizeDisplay',propTypes:{audienceSize:n.number.isRequired,className:n.string,size:n.oneOf(['medium','xlarge'])},getDefaultProps:function(){return {size:'xlarge'};},render:function(){return this.props.audienceSize>=o?this._renderAudienceSize():this._renderSmallAudience();},_renderAudienceSize:function(){return (h.createElement('div',{className:l("_16qo",this.props.className)},k._({"*":"{estimated number of people, usually in the thousands} People"},[k.param('estimated number of people, usually in the thousands',h.createElement(i,{className:"_16qp"+(this.props.size==='xlarge'?' '+"_16qq":''),weight:'bold'},m(this.props.audienceSize)),[0,this.props.audienceSize])])));},_renderSmallAudience:function(){return (h.createElement('div',{className:l("_16qr",this.props.className)},k._({"*":"Fewer than {a round number (currently 100)} people"},[k.param('a round number (currently 100)',m(o),[0,o])])));}});f.exports=p;},null);
__d('AdsReachEstimatePlatformConstant',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={NONE:0,FACEBOOK:1,INSTAGRAM:2};f.exports=h;},null);
__d('AdsReachEstimateBar.react',['ix','AdsHelpLink.react','AdsEstimatesValidator','AdsReachEstimatePlatformConstant','Image.react','LeftRight.react','React','XUINotice.react','cx','fbglyph','fbt','ads-lib-formatters'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=n.PropTypes,u=s.createLimitedSigFigNumberFormatter(0,2),v=100,w=n.createClass({displayName:'AdsReachEstimateBar',propTypes:{estimateDAU:t.number.isRequired,explanationMessage:t.string,fillStyle:t.oneOf(['fixed','stretch']),glyphName:t.string,platform:t.number,reachBounds:t.shape({max:t.number.isRequired,min:t.number.isRequired}).isRequired},getDefaultProps:function(){return {fillStyle:'fixed',platform:k.FACEBOOK};},render:function(){if(!j.areEstimatesAndDAUValid(this.props.reachBounds.min,this.props.reachBounds.max,this.props.estimateDAU))return this._renderErrorMsg();return (n.createElement('div',null,n.createElement('div',{className:'clearfix'},n.createElement(m,null,this.renderReachEstimate(),this.props.platform===k.NONE?this._renderAudienceSize():n.createElement('div',null))),this.renderBar(),this.renderFooter()));},renderBar:function(){var x=(this.props.fillStyle==='fixed'?"_3o8h":'')+(this.props.fillStyle==='stretch'?' '+"_26hs":'')+(' '+"clearfix"),y=(this.props.fillStyle==='fixed'?"_3o8i":'')+(this.props.fillStyle==='stretch'?' '+"_26ht":''),z={};if(this.props.fillStyle==='stretch'){z.width=10+this.getCenterPercent()+'%';}else z.marginLeft=this.getCenterPercent()+'%';return (n.createElement('div',{className:x},n.createElement('div',{className:y,style:z})));},getCenterPercent:function(){var x=(this.props.reachBounds.min+this.props.reachBounds.max)/2;if(x>0)x=Math.sqrt(x)*Math.log(x);var y=this.props.estimateDAU;if(y>0)y=Math.sqrt(y)*Math.log(y);var z=10,aa=Math.min(x/y*100,98-z*.5);aa-=z*.5;if(aa<0)aa=0;return Math.round(aa);},getReachEstimateRangeString:function(x,y){return r._({"*":{"*":"{min reach}-{max reach} people {on platform}"}},[r.param('min reach',u(x),[0,x]),r.param('max reach',u(y),[0,y]),r.param('on platform',this._renderPlatformString())]);},renderReachEstimate:function(){if(this.props.estimateDAU<v)return (n.createElement('span',{className:"_kn_"},this.renderPlatformGlyph(),r._({"*":"Fewer than {a round number (currently 100)} people {on platform}"},[r.param('a round number (currently 100)',u(v),[0,v]),r.param('on platform',this._renderPlatformString())])));return (n.createElement('span',{className:"_kn_"},this.renderPlatformGlyph(),this.getReachEstimateRangeString(this.props.reachBounds.min,this.props.reachBounds.max)));},renderPlatformGlyph:function(){switch(this.props.platform){case k.FACEBOOK:return (n.createElement(l,{className:"_3-90 _5lhp",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/app-facebook_16_bluegray-40.png")}));case k.INSTAGRAM:return (n.createElement(l,{className:"_3-90 _5lhp",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/app-instagram_16_bluegray-40.png")}));default:return null;}},renderFooter:function(){if(this.props.platform===k.NONE)return n.createElement('div',null);return (n.createElement(m,null,n.createElement('span',{className:"_3o8k"},r._("0")),this._renderAudienceSize()));},_renderAudienceSize:function(){var x=this.props.explanationMessage,y;if(x)y=n.createElement(i,{position:'left',width:300},x);return (n.createElement('span',{className:"_3o8l"},r._("of {audience size}",[r.param('audience size',u(Math.max(this.props.estimateDAU,v)))]),y));},_renderPlatformString:function(){switch(this.props.platform){case k.FACEBOOK:return r._("on Facebook");case k.INSTAGRAM:return r._("on Instagram");case k.NONE:default:return null;}},_renderErrorMsg:function(){return (n.createElement(o,{use:'notify'},r._("Estimated reach is unavailable.")));}});f.exports=w;},null);
__d('AdsReachEstimateStrings',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={ESTIMATE_FACEBOOK_DAU_EXPLANATION:h._("This is the total number of people in your selected audience who are active on Facebook each day."),ESTIMATE_INSTAGRAM_DAU_EXPLANATION:h._("The potential reach is an estimation based on an approximation of the audience eligible to see your adverts on Instagram and several other factors.")};f.exports=i;},null);
__d('AdsLocationSearchSource',['Promise','AbstractSearchSource','AdsCreationConfig','AdsDaoGraph','AdInterfacesUiLogger','AdsTargetingLocationDataTransformer','AdsTargetingLocationLoggingEvents','AdsTargetingLocationUtils','CurrentLocale','LocationConstants','SearchableEntry','Set','debounce','nullthrows','uki-fb-view-typeahead-util'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w;'use strict';var x=c('uki-fb-view-typeahead-util').Util,y=200,z=j.geoLocationTypeaheadMinLength,aa=10,ba=50,ca,da=[],ea=[],fa=[];function ga(na,oa){var pa=[],qa=na.slice();while(qa.length>0)pa.push(qa.splice(0,oa));return pa;}var ha=t(function(na,oa){var pa=k.primedForLocale(p.get());pa.fetch.geolocation.one(oa,na);},y);function ia(na,oa){na=x.tokenize(na).join(' ');for(var pa=0;pa<oa.length;pa++)if(x.tokenize(oa[pa].text||oa[pa].name).join(' ')==na)return oa[pa];return oa[0];}function ja(na,oa){var pa=oa.allowedCountryList,qa=oa.disallowedCountryList,ra=oa.disallowedLocationTypes,sa=babelHelpers._extends({q:na,limit:aa,place_fallback:true},{});if(pa&&pa.length>0)sa.allowed_countries=pa;if(qa&&qa.length>0)sa.disallowed_countries=qa;if(ra&&ra.size>0)sa.location_types=q.locationTypes.filter(function(ta){return !u(ra).has(ta);}).map(q.getSingularLocationType);return sa;}function ka(na,oa,pa,qa){var ra=k.primedForLocale(p.get()),sa=ja(na,pa);ra.fetch.geolocation.one(function(ta){if(ta&&ta.length){var ua=ia(na,ta);ua.type=oa;da.push(ua);}else ea.push(na);qa();},babelHelpers._extends({},sa,{location_types:[q.getSingularLocationType(oa)],handleError:function(){ea.push(na);qa();}}));}function la(na,oa){var pa=na.map(function(qa){var ra=qa.indexOf(':');if(ra===-1){return 'US:'+qa;}else return qa.substring(0,ra).toUpperCase()+qa.substring(ra);});k.fetch.adGeoLocationMetaInfo.one(function(qa){var ra=qa.zips||[];pa.forEach(function(sa,ta){if(sa in ra){var ua=ra[sa];ua.name=ua.name.split(', ')[0];ua.type=q.ZIPS;da.push(ua);}else ea.push(na[ta]);});oa();},{zips:pa,locale:p.get(),handleError:function(){ea=na;oa();}});}v=babelHelpers.inherits(ma,i);w=v&&v.prototype;ma.getInstance=function(){if(!ca)ca=new ma();return ca;};function ma(){w.constructor.call(this);if(ca)return ca;}ma.prototype.onValidateProgress=function(na){this.$AdsLocationSearchSource1=na;};ma.prototype.reportProgress=function(na){this.$AdsLocationSearchSource1&&this.$AdsLocationSearchSource1(na);};ma.prototype.validate=function(na,oa,pa,qa){var ra=function(){var xa=da.map(function(ya){return m.searchDataToDataStore(ya,!!qa.countryAsObject);});pa(xa,ea);};da=[];ea=[];var sa=q.BULK_INUT_GEO_MARKET_INPUT_FORMAT;if(oa===q.ZIPS){la(na,ra);}else if(oa===q.CUSTOM_LOCATIONS){this.validateCustomLocations(na,ra);}else if(oa===q.GEO_MARKETS&&qa.geoMarketInputFormat===sa.CODE){this.$AdsLocationSearchSource2(na,ra);}else{da=[];ea=[];var ta=ga(na,ba),ua=ta.length,va=0,wa=(function(){this.reportProgress(va/ua);var xa=ta.shift();if(xa){this.validateChunk(xa,oa,wa,qa);va++;}else ra();}).bind(this);wa();}};ma.prototype.validateChunk=function(na,oa,pa,qa){var ra=na.map(function(sa){return new h(function(ta,ua){ka(sa,oa,qa,ta);});});h.all(ra).done(pa);};ma.prototype.$AdsLocationSearchSource2=function(na,oa){k.fetch.adGeoLocationMetaInfo.one(function(pa){var qa=pa[q.GEO_MARKETS]||{};na.forEach(function(ra){if(ra in qa){var sa=qa[ra];sa.type=q.GEO_MARKETS;da.push(sa);}else ea.push(ra);});oa();},{geo_markets:na,locale:p.get(),handleError:function(){ea=na;oa();}});};ma.prototype.validateCustomLocations=function(na,oa){var pa=na.map((function(qa){return new h((function(ra,sa){this.validateAddress(qa,function(ta,ua,va){if(ta||!ua){ea.push(qa);}else da.push(m.geoCoderDataToSearchData(va));ra();});}).bind(this));}).bind(this));h.all(pa).done(function(){return oa(da,ea);});};ma.prototype.validateAddress=function(na,oa){k.fetch.geocoder.one(function(pa){var qa=pa[0];if(!qa||qa&&qa.confirmed===false){oa(null,false);}else oa(null,true,qa);},{locale:p.get(),address:na,confirm:1,handleError:function(pa,qa){var ra=qa&&qa.error?qa.error:new Error('unknown error');oa(ra,false);}});};ma.prototype.searchImpl=function(na,oa,pa){if(na.length<=z)oa([],na);pa=pa||{};ha(ja(na,pa),this.$AdsLocationSearchSource3.bind(this,na,oa,pa));};ma.prototype.$AdsLocationSearchSource3=function(na,oa,pa,qa){if(na.length<=z)return;qa.forEach(function(va){va.type=q.getPluralLocationType(va.type);});var ra=[];if(!qa||!qa.length)l.log(n.GEO_LOCATION_NO_MATCH,{query:na});var sa=pa.disallowedLocationTypes||new s(),ta={};qa.map(function(va,wa){if(!ta[va.key]){ta[va.key]=true;var xa=sa.has(va.type);if(xa)return;var ya=pa.bulkInputEntry?o.getLocationFullName(va):va.name,za=new r({uniqueID:va.key,title:ya,type:va.type,order:wa,auxiliaryData:babelHelpers._extends({matchedText:na},va)});ra.push(za);}});fa=qa;if(ra.length===0&&!sa.has(q.CUSTOM_LOCATIONS)){var ua=new r({uniqueID:na,title:na,type:q.CUSTOM_LOCATIONS,auxiliaryData:{matchedText:na,type:q.CUSTOM_LOCATIONS,showSearchLabel:true,key:na,name:na}});ra.push(ua);}oa(ra,na);};ma.prototype.getCurrentRawResult=function(){return fa;};f.exports=ma;},null);
__d('AdsLocationTypeTranslationHelper',['LocationConstants','fbt'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(k){switch(k){case h.COUNTRIES:return i._("Country");case h.REGIONS:return i._("County");case h.GEO_MARKETS:return i._("Market");case h.CITIES:return i._("City");case h.ELECTORAL_DISTRICTS:return i._("Congressional district");case h.ZIPS:return i._("Zip\/Postal Code");case h.CUSTOM_LOCATIONS:return i._("Address");case h.PLACES:return i._("Place");}}g.translatedLocationType=j;},null);
__d('AdsLocationValidationHelpers',['LocationConstants'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=/^\d+(-\d+)?\s+\d*\D/i;function j(n){return i.test(n);}function k(n,o){var p=n.getAuxiliaryData(),q=p&&p.type;if(q===h.GEO_MARKETS&&o){return false;}else return true;}function l(n,o){return n.map(function(p){var q=p.getType(),r=p.getTitle(),s=p.getAuxiliaryData(),t={};switch(q){case h.COUNTRIES:t={zipcode:'',city:'',region:'',country:r,country_code:s.key};break;case h.REGIONS:t={zipcode:'',city:'',region:r,region_id:s.key,country:o[s.country_code]};break;case h.CITIES:var u=r.split(',');t={zipcode:'',city:u[0],region:s.region||'',region_id:s.region_id,country:o[s.country_code]};break;case h.CUSTOM_LOCATIONS:t={zipcode:'',city:'',region:'',country:o[s.country_code]};break;case h.GEO_MARKETS:t={zipcode:'',city:'',region:'',country:o[s.country_code]};break;case h.ZIPS:var v=s.key.split(':');t={zipcode:v[v.length-1],city:s.primary_city||'',region:s.region||'',region_id:s.region_id,country:o[s.country_code]};break;}t.country_code=t.country_code||s.country_code;t.category=q;t.entry=p;return t;});}function m(n,o){var p=l(n,o),q={},r={};p.map(function(z){var aa=z.category,ba=z.entry;switch(aa){case h.COUNTRIES:q[z.country_code]=ba;break;case h.REGIONS:r[z.region_id]=ba;}});var s,t=[];for(var u=0;u<p.length;u++){var v=p[u],w=v.entry,x=q[v.country_code],y=r[v.region_id];if(x&&x!==w){s=s?s:x;t.push(w);}else if(y&&y!==w){s=s?s:y;t.push(w);}}return {invalidEntry:s,subsetEntries:t};}g.isValidEntry=k;g.looksLikeAddress=j;g.normalizeEntriesAsLocationInfo=l;g.determineInvalidEntry=m;},null);
__d('AdsLocationTypeaheadEntriesView.react',['AdInterfacesUiLogger','AdsTargetingLocationLoggingEvents','AdsLocationValidationHelpers','AdsLocationTypeTranslationHelper','Grid.react','LocationConstants','React','ScrollableArea.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=n.PropTypes,s=l.GridItem,t=10,u=250,v=467,w=[],x=n.createClass({displayName:'AdsLocationTypeaheadEntriesView',propTypes:{highlightedEntry:r.object,entries:r.array.isRequired,onSelect:r.func.isRequired,onHighlight:r.func,width:r.number},getDefaultProps:function(){return {width:v};},render:function(){var aa=this.props.entries,ba=[],ca=[];aa.forEach(function(fa){if(j.isValidEntry(fa,true)){ba.push(fa);}else ca.push(fa);},this);if(aa&&aa.length){var da=ba.map(this._renderRow,this),ea=aa.length>t?u:null;return (n.createElement('div',null,n.createElement('ul',{className:"_5gs5",style:{width:this.props.width}},n.createElement(o,{height:ea},da,n.createElement(y,{countries:this.props.countries,invalidEntries:ca,validEntries:ba})))));}return n.createElement('ul',{className:"_5d5w"});},_renderRow:function(aa){if(aa.getUniqueID()==='-1')return (n.createElement('li',{className:"_5d5x",key:'no_match_found'},n.createElement('div',{className:"fwb"},q._("No Matches Found")),n.createElement('div',{className:"_5lp8"},q._("Check your spelling, formatting or enter another location"))));return (n.createElement(z,{countries:this.props.countries,entry:aa,highlighted:aa===this.props.highlightedEntry&&aa.getAuxiliaryData()!==null,key:aa.getUniqueID(),onHighlight:this.props.onHighlight,onSelect:this.props.onSelect}));}}),y=n.createClass({displayName:'InvalidEntriesView',render:function(){var aa=this.props.invalidEntries.map(this._renderRow,this);if(aa.length){var ba=this.props.invalidEntries.map(function(ca){return ca.getTitle();});if(ba.sort().join()!==w.sort().join()){h.log(i.GEO_LOCATION_UNSUPPORTED,{unsupported_locations:ba});w=ba;}if(aa.length===1){return (n.createElement('div',{className:"_59fy"},n.createElement('div',{className:"_5i39"},n.createElement('div',{className:"_5i3a"},q._("Cannot Target The Following Location")),q._("This location isn't available to target. Try choosing another location.")),aa));}else return (n.createElement('div',{className:"_59fy"},n.createElement('div',{className:"_5i39"},n.createElement('div',{className:"_5i3a"},q._("Cannot Target The Following Locations")),q._("These locations aren't available to target. Try choosing another location.")),aa));}return n.createElement('div',null);},_renderRow:function(aa){return (n.createElement(z,{countries:this.props.countries,entry:aa,highlighted:aa===this.props.highlightedEntry&&aa.getAuxiliaryData()!==null,key:aa.getUniqueID(),onHighlight:this.props.onHighlight,onSelect:this.props.onSelect}));}}),z=n.createClass({displayName:'EntryRowView',render:function(){var aa="_5d5x"+(this.props.highlighted?' '+"_2avc":'');return (n.createElement('li',{className:aa,key:this.props.entry.getUniqueID(),onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter},this._getTypeaheadText(this.props.entry)));},_getTypeaheadText:function(aa){var ba=this._getText(aa),ca=!j.isValidEntry(aa,true)?"_5ibt":'',da=0,ea=0,fa=ba.toLowerCase().indexOf(aa.getAuxiliaryData().matchedText.toLowerCase());if(fa>=0){da=fa;ea=fa+aa.getAuxiliaryData().matchedText.length;}var ga=ba.substring(0,da),ha=ba.substring(da,ea),ia=ba.substring(ea);return (n.createElement(l,{className:ca,cols:2,fixed:true},n.createElement(s,{className:"_4ou2"},ga,n.createElement('span',{className:"_5d5z"},ha),ia),n.createElement(s,{className:"_5wup"},k.translatedLocationType(aa.getType()))));},_getText:function(aa){var ba=aa.getTitle(),ca=aa.getAuxiliaryData(),da=this.props.countries;switch(aa.getType()){case m.REGIONS:ba+=', '+da[ca.country_code];return ba;case m.CITIES:ba+=ca.region?', '+ca.region:'';ba+=', '+da[ca.country_code];return ba;case m.ZIPS:if(ca.primary_city)ba+=', '+ca.primary_city;if(ca.region)ba+=', '+ca.region;ba+=', '+da[ca.country_code];return ba;default:return ba;}},_onMouseDown:function(aa){if(this.props.entry.getUniqueID()!=='-1')this.props.onSelect&&this.props.onSelect(this.props.entry,aa);},_onMouseEnter:function(){if(this.props.entry.getUniqueID()!=='-1')this.props.onHighlight&&this.props.onHighlight(this.props.entry);}});f.exports=x;},null);
__d('AdsLocationTypeaheadPresenter',['XUITokenizerToken.react','AdsLocationTypeaheadEntriesView.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=50,k={ViewRenderer:i,TokenRenderer:h,useLayer:true,maxEntries:j};f.exports=k;},null);
__d('AdsLocationTokenizer.react',['cx','emptyFunction','React','AbstractTokenizer.react','AdsLocationSearchSource','AdsLocationTypeaheadPresenter','AdsLocationValidationDialog.react','AdsLocationValidationHelpers'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=j.PropTypes,q=j.createClass({displayName:'AdsLocationTokenizer',propTypes:{entries:p.array.isRequired,countries:p.object.isRequired,onChange:p.func,searchSource:p.object,searchSourceOptions:p.object},getInitialState:function(){return {entries:this.props.entries};},render:function(){var r=this.props.searchSource;if(!r)r=l.getInstance();var s={},t={},u="_59_m"+(' '+"_557c")+(this.props.smallInput?' '+"_p63":''),v=m;v.extraRendererProps={countries:this.props.countries};return (j.createElement('div',{className:u},j.createElement(n,{addEntry:this.onAddEntryAttempt,currentEntries:this.state.entries,entriesRadius:s,exclusionEntries:t,ref:'validationDialog',removeEntry:this.onRemoveEntryAttempt,updateExclusion:i,updateRadius:i}),j.createElement(k,{className:"_59_n",countries:this.props.countries,entries:this.props.entries,presenter:v,ref:'tokenizer',searchSource:r,searchSourceOptions:this.props.searchSourceOptions,onAddEntryAttempt:this.onAddEntryAttempt,onRemoveEntryAttempt:this.onRemoveEntryAttempt})));},onAddEntryAttempt:function(r){if(!r||!o.isValidEntry(r,true))return;var s=r.getUniqueID(),t=this.state.entries,u=t.some(function(z){return z.getUniqueID()===s;});if(u)return;var v=t.slice();v.push(r);var w=o.determineInvalidEntry(v,this.props.countries),x=w.invalidEntry;if(x){var y=this.refs.validationDialog;if(x===r){y.setInfo(r,w.subsetEntries);y.show();}else{y.setInfo(r,[x]);y.show();}return;}t.push(r);this.setState({entries:t});this.refs.tokenizer.setState({queryString:''});this.notifyChange();},onRemoveEntryAttempt:function(r){var s=this.state.entries,t=s.indexOf(r);if(t==-1)return;s.splice(t,1);this.setState({entries:s});this.notifyChange();},notifyChange:function(){if(this.props.onChange)this.props.onChange(this.state.entries.slice());}});f.exports=q;},null);
__d('MultiImageSelectorConstants',['AdsCreationExperimentStore'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.getExperiment('ads_creation_image_panel_new_design_experiment'),j=parseInt(i.getParam('num_images')||6,10),k={MAX_NUMBER_OF_IMAGES:j,SHOW_BUDGET_RECOMMENDATION:j>6,SHOW_BUDGET_RECOMMENDATION_THRESHOLD:9};f.exports=k;},null);
__d('AdsCFCreativeImagePanelAction.react',['React','XUIButton.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'AdsCFCreativeImagePanelAction',propTypes:{label:l.oneOfType([l.string,l.object]).isRequired,className:l.string,disabled:l.bool,fileInputNodeID:l.string,hide:l.bool,iconHeight:l.number,iconWidth:l.number,iconSrc:l.object,onClick:l.func,onUploadEnd:l.func,onUploadStart:l.func,size:l.oneOf(['small','medium','large','xlarge','xxlarge'])},getDefaultProps:function(){return {disabled:false,size:'xlarge'};},render:function(){var n=this.props.label,o=this.props.disabled,p=o?null:this.props.onClick,q=this.props.fileInputNodeID||'',r=k(this.props.className,"_5y_t"+(o?' '+"_5y_u":'')),s=this.props['aria-label'],t='tooltip',u,v,w;if(q){u=h.createElement('span',{'aria-label':s,className:"_5y_v",'data-hover':t,onClick:p});p=null;}else{v=s;w=t;}if(this.props.hide)return (h.createElement('label',{className:r,htmlFor:o?'':q},u,this.props.children));return (h.createElement('label',{className:r,htmlFor:o?'':q},u,this.props.children,h.createElement(i,{'aria-label':v,'data-hover':w,disabled:o,label:n,size:this.props.size,onClick:p})));}});f.exports=m;},null);
__d('AdsCFCreativeImagePanelUploaderAction.react',['AdsCFCreativeImagePanelAction.react','DOM','MultiImageSelectorConstants','React','ReactDOM','SubscriptionsHandler','cx','emptyFunction','fbt','ix','AdsImageUploader'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=c('AdsImageUploader').AdsImageUploader,s=c('AdsImageUploader').AdsImageUploaderConstants,t=k.PropTypes,u=j.MAX_NUMBER_OF_IMAGES,v=k.createClass({displayName:'AdsCFCreativeImagePanelUploaderAction',propTypes:{accountID:t.string.isRequired,multiple:t.bool,hide:t.bool,imageSpec:t.shape({minWarningWidth:t.number.isRequired,minWarningHeight:t.number.isRequired}),onUploadClick:t.func,onUploadEnd:t.func,onUploadStart:t.func,postponeDestroyUploader:t.bool,validateImageFormat:t.bool,validateImageSize:t.bool},getDefaultProps:function(){return {hide:false,onUploadClick:o,onUploadStart:o,onUploadEnd:o,postponeDestroyUploader:false};},componentDidMount:function(){this._uploaderDataList=[this._createUploaderData()];},componentWillUnmount:function(){this._uploaderDataList.forEach(this._cleanUploaderData,this);delete this._uploaderDataList;},render:function(){var w=q('/images/ads/createflow/creative/icon-upload.png'),x=this.props.disabled,y,z=p._("Upload");if(this.props.multiple){y=x?p._({"*":"You've selected the maximum of {max_count} images. You can remove some images if you want to upload more."},[p.param('max_count',u,[0])]):p._("Upload new images for your adverts.");}else y=p._("Upload a new image for your adverts.");var aa="_5yya"+(x?' '+"hidden_elem":'');return (k.createElement(h,babelHelpers._extends({},this.props,{'aria-label':y,hide:this.props.hide,iconSrc:w,label:z,offset:this.props.offset,size:this.props.size,onClick:this.props.onUploadClick}),k.createElement('div',{className:aa,ref:'uploaders'})));},_onUploadStart:function(w,x,y){w.input.removeAttribute('id');w.element.className='hidden_elem';w.filesCount=y.length;this._uploaderDataList.push(this._createUploaderData());this.props.onUploadStart(y);},_onUploadEnd:function(w,x,y){this.props.onUploadEnd(y);this._destroyUploaderData(w);},_createUploaderData:function(){var w={},x=i.create('span',{className:s.UPLOAD_ELEMENT});l.findDOMNode(this.refs.uploaders).appendChild(x);var y=new r(x,{accountId:this.props.accountID,imageSpec:this.props.imageSpec,multiple:this.props.multiple,validateImageSize:this.props.validateImageSize,validateImageFormat:this.props.validateImageFormat}),z=x.getElementsByTagName('input')[0];z.id=this.props.fileInputNodeID;var aa=new m();aa.addSubscriptions(y.subscribe('onUploadStarted',this._onUploadStart.bind(this,w)),y.subscribe('onUploadEnded',this._onUploadEnd.bind(this,w)));w.filesCount=0;w.uploader=y;w.input=z;w.element=x;w.subscriptions=aa;return w;},_cleanUploaderData:function(w){if(this.props.postponeDestroyUploader)return;this._destroyUploaderData(w);},_destroyUploaderData:function(w){if(w.uploader){delete w.uploader;w.subscriptions.release();delete w.subscriptions;i.remove(w.element);delete w.input;delete w.element;}}});f.exports=v;},null);
__d('AdsInstagramMediaActions',['AdsActionTypes','AdsDispatcher','Map'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={mediaLoaded:function(l){i.handleUpdateFromServerResponse({specs:l,type:h.INSTAGRAM_MEDIA.LOADED});},mediaLoadError:function(l){i.handleUpdateFromServerResponse({errors:l,type:h.INSTAGRAM_MEDIA.LOAD_ERROR});}};f.exports=k;},null);
__d('PageImageListActions',['AdsActionTypes','AdsDispatcher'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={imageListLoaded:function(k,l,m){i.handleUpdateFromServerResponse({data:{pageID:k,imageList:l,loadNextPage:m},type:h.PAGE_IMAGE_LIST.IMAGES_LOADED});},imagesEndReached:function(k){i.handleUpdateFromViewAction({data:{pageID:k},type:h.PAGE_IMAGE_LIST.IMAGES_END_REACHED});}};f.exports=j;},null);
__d('AdsInstagramMediaDataManager',['AdsBaseDataManager','AdsGraphAPI','AdsInstagramMediaActions','Map'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,h);m=l&&l.prototype;n.prototype.loadAll=function(o){o.forEach((function(p){return this.load(p);}).bind(this));};n.prototype.load=function(o){i.get().object('instagram_object',o).batched().get({fields:['content_type','display_url','owner_instagram_user','video_url']}).done((function(p){return this.__handleSuccess(['load'],o,null,p);}).bind(this),(function(p){return this.__handleError(['load'],o,null,p);}).bind(this));};n.prototype.__onBatchLoaded=function(o){j.mediaLoaded(o);};n.prototype.__onBatchLoadError=function(o){j.mediaLoadError(o);};function n(){l.apply(this,arguments);}f.exports=new n();},null);
__d('PageImageListDataManager',['AdsGraphAPI','AdsImageLegacy','PageImageListActions'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();k.prototype.load=function(l){var m={fields:['height','width','source','picture'],type:'uploaded'};h.get().object('page',l).edge('photos').get(m).done((function(n){var o=n.next?n.next.bind(n):null;j.imageListLoaded(l,this.$PageImageListDataManager1(n.data),o);}).bind(this));};k.prototype.loadNextPage=function(l,m){m().done((function(n){var o=n.next?n.next.bind(n):null;j.imageListLoaded(l,this.$PageImageListDataManager1(n.data),o);}).bind(this));};k.prototype.$PageImageListDataManager1=function(l){return l.map(function(m){return new i({height:m.height,url:m.source,url_128:m.picture,width:m.width});});};function k(){}f.exports=new k();},null);
__d('AdsInstagramMediaStore',['AdsActionTypes','AdsBaseDataStore','AdsInstagramMediaDataManager','AdsLoadState'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,i);m=l&&l.prototype;n.prototype.getDataManager=function(){return j;};n.prototype.__onDispatch=function(o){var p=o.action;switch(p.type){case h.INSTAGRAM_MEDIA.LOADED:this.__handleData(p.specs,k.LOADED);break;case h.INSTAGRAM_MEDIA.LOAD_ERROR:this.__handleData(p.errors,k.ERROR);break;}};function n(){l.apply(this,arguments);}f.exports=new n();},null);
__d('FluxDerivedStore',['FluxStore','immutable','Set','abstractMethod'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,h);m=l&&l.prototype;function n(o){m.constructor.call(this,o);this.$FluxDerivedStore1=i.Map();this.$FluxDerivedStore2=this.__getStores();this.$FluxDerivedStore3=this.$FluxDerivedStore2.map(function(p){return p.getDispatchToken();});}n.prototype.__onDispatch=function(o){this.getDispatcher().waitFor(this.$FluxDerivedStore3);if(this.$FluxDerivedStore2.some(function(p){return p.hasChanged();}))this.__emitChange();};n.prototype.__getStores=function(){return k('FluxDerivedStore','__getStores');};n.prototype.__getData=function(o,p){return k('FluxDerivedStore','__getData');};n.prototype.__computeResult=function(o,p){return k('FluxDerivedStore','__computeResult');};n.prototype.__areEqual=function(o,p){return o===p;};n.prototype.get=function(o){var p=this.$FluxDerivedStore1.getIn([o,'data']),q=this.__getData(o,p);if(!p||!this.__areEqual(p,q)){var r=this.__computeResult(o,q);this.$FluxDerivedStore1=this.$FluxDerivedStore1.withMutations(function(s){s.setIn([o,'data'],q);s.setIn([o,'result'],r);});}return this.$FluxDerivedStore1.getIn([o,'result']);};n.prototype.getAll=function(o,p){var q=new j(o),r=p||i.Map();return r.withMutations((function(s){r.forEach(function(t,u){if(!q.has(u))s['delete'](u);});q.forEach((function(t){s.set(t,this.get(t));}).bind(this));}).bind(this));};f.exports=n;},null);
__d('PageImageListStore',['AdsActionTypes','AdsDispatcher','FluxLoadObjectStore','immutable','LoadObject','PageImageListDataManager'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;'use strict';n=babelHelpers.inherits(p,j);o=n&&n.prototype;p.prototype.reduce=function(q,r){var s=r.action;switch(s.type){case h.PAGE_IMAGE_LIST.IMAGES_LOADED:return this.$PageImageListStore1(q,s.data);case h.PAGE_IMAGE_LIST.IMAGES_END_REACHED:return this.$PageImageListStore2(q,s.data);default:return q;}};p.prototype.$PageImageListStore3=function(q,r){var s=q.get(r)||l.empty(),t=s.getValue()||{},u=t.imageList||[],v=t.loadNextPage;return {imageList:u,loadNextPage:v};};p.prototype.$PageImageListStore2=function(q,r){var s=r.pageID,t=this.$PageImageListStore3(q,s),u=t.imageList,v=t.loadNextPage;if(v){var w=l.empty();w=w.setValue({imageList:u,loadNextPage:undefined}).updating();q=q.set(s,w);this.$PageImageListStore4(s,v);}return q;};p.prototype.$PageImageListStore1=function(q,r){var s=r.pageID,t=r.imageList,u=r.loadNextPage,v=this.$PageImageListStore3(q,s).imageList;t=v.concat(t);var w=l.empty();w=w.setValue({imageList:t,loadNextPage:u}).done();q=q.set(s,w);return q;};p.prototype.$PageImageListStore4=function(q,r){m.loadNextPage(q,r);};p.prototype.__load=function(q){m.load(q);};function p(){n.apply(this,arguments);}f.exports=new p(i);},null);
__d('PageImageListPagingStore',['AdsDispatcher','FluxDerivedStore','LoadObject','PageImageListActions','PageImageListStore'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n;'use strict';m=babelHelpers.inherits(o,i);n=m&&m.prototype;o.prototype.__getData=function(p){return l.get(p);};o.prototype.__computeResult=function(p,q){var r=q.getValue()||{},s=r.imageList||[],t=q.hasValue(),u=q.isUpdating();return {fetchingNextPage:u,imagesLoaded:t,imageList:s,onEndReached:this.$PageImageListPagingStore1(p)};};o.prototype.__getStores=function(){return [l];};o.prototype.$PageImageListPagingStore1=function(p){return function(){k.imagesEndReached(p);};};function o(){m.apply(this,arguments);}f.exports=new o(h);},null);
__d('AdsPixelComponentEnvironments',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={tracking:null,optimization:null,pixelInsights:null},i={};Object.keys(h).forEach(function(j){return i[j]=j;});f.exports=i;},null);
__d('AdsQEActionTypes',['keyMirrorRecursive'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h({LOADED:'',LOAD_ERROR:'',LOG_EXPOSURE:''},'AdsQE');f.exports=i;},null);
__d('AdsQEActions',['AdsDispatcher','AdsQEActionTypes'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={loaded:function(k,l,m){h.handleUpdateFromUnknownSource({id:l,name:k,response:m,type:i.LOADED});},loadError:function(k,l){h.handleUpdateFromUnknownSource({id:l,name:k,type:i.LOAD_ERROR});},logExposure:function(k,l){h.handleUpdateFromUnknownSource({id:l,name:k,type:i.LOG_EXPOSURE});}};f.exports=j;},null);
__d("XAdsQEController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/qe\/",{id:{type:"String",required:true},name:{type:"String",required:true}});},null);
__d("XAdsQEExposureController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/qe\/expose\/",{id:{type:"String",required:true},name:{type:"String",required:true}});},null);
__d('AdsQEDataManager',['AdsQEActions','AsyncRequest','XAdsQEController','XAdsQEExposureController'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();l.prototype.load=function(m,n){var o=j.getURIBuilder().setString('name',m).setString('id',n);new i().setURI(o.getURI()).setHandler(function(p){var q=p.payload;return h.loaded(m,n,q);}).setErrorHandler(function(p){return h.loadError(m,n);}).send();};l.prototype.logExposure=function(m,n){var o=k.getURIBuilder().setString('name',m).setString('id',n);new i().setURI(o.getURI()).setMethod('POST').send();};function l(){}f.exports=new l();},null);
__d('BoostedActionInsightsNumUtil',['InsightsNumUtils'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={percent:function(j){return h.prettyFloat(Math.round(j*1000)/10)+'%';},getSortedIndices:function(j){var k=[],l;for(l=0;l<j.length;++l)k[l]={value:j[l],index:l};k.sort(function(m,n){return n.value-m.value;});for(l=0;l<k.length;++l)k[l]=k[l].index;return k;}};f.exports=i;},null);
__d('BoostedActionInsightsButterflyChart.react',['React','SpectrumStyle','BoostedActionInsightsNumUtil','BoostedActionInsightsLegend.react','InsightsGenderAgeButterflyChart.react','d3/scale/ordinal','SpectrumIntegerScale','sumOfArray'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p={columns:{colors:m().range([i.LIGHT_BLUE3,i.BLUE4])},xAxis:{labelColor:"#000000",lineColor:null}},q=h.createClass({displayName:'BoostedActionInsightsButterflyChart',render:function(){var r=this.props,s=r.top,t=r.bottom,u=o(s.values[0]),v=o(t.values[0]),w=u+v,x,y;if(w===0){x=0;y=0;}else{x=u/w;y=v/w;}var z=j.percent(x),aa=j.percent(y),ba=z+' '+s.label,ca=aa+' '+t.label,da=h.createElement(k,{color:i.BLUE2,value:ba}),ea=h.createElement(k,{color:i.BLUE4,value:ca});return (h.createElement('div',null,h.createElement('div',null,da),h.createElement(l,{bottom:r.bottom,domain:r.domain,height:r.height,scaleY:n(),theme:p,titles:r.titles,top:r.top,width:r.width}),h.createElement('div',null,ea)));}});f.exports=q;},null);
__d('BoostedActionInsightsConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={TAB_ENGAGEMENT:'tabEngagement',TAB_AGE_GENDER:'tabAgeGender',TAB_COUNTRY:'tabCountry',ENGAGEMENT_BARS_SHOWN:3,AGE_GENDER_CHART_HEIGHT:92,AGE_GENDER_CHART_WIDTH:320};f.exports=h;},null);
__d('BoostedActionInsightsAgeGender.react',['BoostedActionInsightsButterflyChart.react','BoostedActionInsightsConstants','React','fbt','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.createClass({displayName:'BoostedActionInsightsAgeGender',statics:{getName:function(){return i.TAB_AGE_GENDER;},getTitle:function(){return k._("People");}},render:function(){var n={"13-17":0,"18-24":1,"25-34":2,"35-44":3,"45-54":4,"55-64":5,"65+":6},o=Object.keys(n),p=this.props.values,q={label:k._("Men"),values:[[]]},r={label:k._("Women"),values:[[]]};for(var s=0;s<o.length;s++){q.values[0].push(0);r.values[0].push(0);}var t=0,u=0;for(var v in p){var w=p[v];for(var x in w){var y=n[x],z=w[x];if(v==="male"){q.values[0][y]=z;t+=z;}else if(v==='female'){r.values[0][y]=z;u+=z;}}}var aa=null;if(!t&&!u)aa=k._("No age\/gender data to display.");var ba=[""];if(t||u)var ca=j.createElement(h,{bottom:q,domain:o,height:i.AGE_GENDER_CHART_HEIGHT,titles:ba,top:r,width:i.AGE_GENDER_CHART_WIDTH});return (j.createElement('div',{className:"_203o"},j.createElement('div',{className:"_203p"},aa),ca,j.createElement('div',{className:"_203q"})));}});f.exports=m;},null);
__d('BoostedActionInsightsBar.react',['XUIBackgroundBar.react','React','ReactDOM','Tooltip','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=i.createClass({displayName:'BoostedActionInsightsBar',_setTooltip:function(){k.set(j.findDOMNode(this.refs.tooltip),'above','left');},componentDidMount:function(){this._setTooltip();},render:function(){return (i.createElement('div',{className:"_jyf",ref:'root'},i.createElement('div',{className:"_jyg ellipsis"},this.props.label),i.createElement('div',{className:"_jyh"},i.createElement(h,{colors:[this.props.color],scale:this.props.scale,values:[this.props.value]}),i.createElement('div',{className:"_jyi"},this.props.inlineLabel)),i.createElement('div',{className:"_5j1h"},i.createElement('div',{className:"_5j1i",ref:'tooltip'},this.props.tooltip))));}});f.exports=m;},null);
__d('BoostedActionInsightsHiddenSection.react',['React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'BoostedActionInsightsHiddenSection',getInitialState:function(){return {hidden:true};},toggleHandler:function(){this.setState({hidden:!this.state.hidden});},render:function(){var l=this.state.hidden?"hidden_elem":'',m;if(this.state.hidden){m=j._("See More Details");}else m=j._("Hide details");return (h.createElement('div',{className:"_4fe0"},h.createElement('div',{className:l},this.props.children),h.createElement('div',{className:"_4fe1"},h.createElement('a',{href:'#',onClick:this.toggleHandler},m))));}});f.exports=k;},null);
__d('BoostedActionInsightsBarGroup.react',['BoostedActionInsightsBar.react','BoostedActionInsightsHiddenSection.react','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.createClass({displayName:'BoostedActionInsightsBarGroup',getColorAtIndex:function(l){return this.props.colors[l];},getLabelAtIndex:function(l){return this.props.labels[l];},getTooltipAtIndex:function(l){return this.props.tooltips[l];},getShowIfZeroAtIndex:function(l){var m=this.props.showifzero;if(!m)return false;return m[l];},getInlineLabelAtIndex:function(l){var m=this.props.inlineLabels;if(!m)return null;return m[l];},render:function(){var l=this.props.values;function m(u,v){if(u===0&&!this.getShowIfZeroAtIndex(v))return null;var w=this.getColorAtIndex(v),x=this.getLabelAtIndex(v),y=this.getTooltipAtIndex(v),z=this.getInlineLabelAtIndex(v);return (j.createElement(h,{color:w,inlineLabel:z,key:v,label:x,scale:this.props.scale,tooltip:y,value:u}));}var n=l.map(m,this),o=this.props.order;if(o){var p=[];for(var q=0;q<o.length;q++)p.push(n[o[q]]);n=p;}n=n.filter(function(u){return u;});var r=this.props.maxshown;if(r){var s=n.slice(r),t=null;if(s.length)t=j.createElement(i,null,s);n=j.createElement('div',null,n.slice(0,r),t);}return (j.createElement('div',null,n));}});f.exports=k;},null);
__d('BoostedActionInsightsCountry.react',['BoostedActionInsightsBarGroup.react','BoostedActionInsightsConstants','BoostedActionInsightsNumUtil','SpectrumIntegerScale','React','cx','fbt','sumOfArray'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=l.createClass({displayName:'BoostedActionInsightsCountry',statics:{getName:function(){return i.TAB_COUNTRY;},getTitle:function(){return n._("Countries");}},render:function(){var q=this.props.values,r=q.data,s=q.names,t=[];for(var u in r)if(r[u]>0)t.push({iso:u,data:r[u]});t.sort(function(ia,ja){return ia.data-ja.data;});var v=[],w=[],x=[],y=0;for(var z=0;z<t.length;z++){var aa=t[z].data,ba=t[z].iso;w.push(s[ba]);v.push(aa);x.push(n._("{country}: {number}",[n.param('country',s[ba]),n.param('number',aa)]));if(aa>y)y=aa;}var ca=k().domain([0,y]),da=o(v);function ea(ia,ja){return j.percent(ia/da);}var fa=v.map(ea),ga=[];for(z=0;z<fa.length;z++)ga.push("#B1BDD6");var ha=null;if(!t.length)ha=n._("No country data to display");return (l.createElement('div',{className:"_203o"},l.createElement('div',{className:"_203p"},ha),l.createElement(h,{colors:ga,inlineLabels:fa,labels:w,scale:ca,tooltips:x,values:v}),l.createElement('div',{className:"_203q"})));}});f.exports=p;},null);
__d('BoostedActionInsightsTabbedSections.react',['InsightsTabbedSectionsMixin','React','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.createClass({displayName:'BoostedActionInsightsTabbedSections',mixins:[h],theme:{activeNavLinkClass:"_1cqo",navClass:"_5cmi",navLinkClass:"_1cqp",nubClass:"_1cqq",nubSrc:k('/images/components/Insights/InsightsTabbedSections/nub.png')}});f.exports=l;},null);
__d('BoostedComponentAdStatusSelector.react',['BoostedActionStatus','Image.react','React','XUISelector.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=k.Option,o=j.createClass({displayName:'BoostedComponentAdStatusSelector',propTypes:{selectedAdStatus:m.string.isRequired,adStatusOptions:m.arrayOf(m.object).isRequired,onDataUpdate:m.func.isRequired},_onDataUpdate:function(p){this.props.onDataUpdate(p.value);},_getAdStatusOptions:function(){var p=[],q=this.props.adStatusOptions;for(var r=0;r<q.length;r++){var s=q[r],t=j.createElement(i,{src:s.icon});p.push(j.createElement(n,{icon:t,key:s.value,value:s.value},j.createElement('span',null,this._getAdStatusFBTString(s.value))));}return p;},_getAdStatusFBTString:function(p){switch(p){case h.ACTIVE:return l._("Active");case h.PAUSED:return l._("Paused");case h.INACTIVE:return l._("Deleted");default:return null;}},render:function(){return (j.createElement(k,{value:this.props.selectedAdStatus,onChange:this._onDataUpdate},this._getAdStatusOptions()));}});f.exports=o;},null);
__d('BoostedComponentLabeledEditor.react',['AdsLabeledField.react','LeftRight.react','LoadingIndicator.react','React','XUIGrayText.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.PropTypes,q=k.createClass({displayName:'BoostedComponentLabeledEditor',propTypes:{className:p.string,label:p.string.isRequired,showLoadingIndicator:p.bool,textLimits:p.number,tooltip:p.string},_getCharacterCounter:function(){return (k.createElement(l,{size:'small'},n._("{length of string}\/{maximum length allowed}",[n.param('length of string',this.props.children.props.value===null?0:this.props.children.props.value.length),n.param('maximum length allowed',this.props.textLimits)])));},_getLoadingIndicator:function(){var r=(!this.props.showLoadingIndicator?"hidden_elem":'')+(' '+"_3-9d");return (k.createElement(j,{className:r,color:'white',size:'small'}));},_renderCharacterCounterOrLoadingIndicator:function(){if(!this.props.showLoadingIndicator&&(this.props.label=='Text'||this.props.label=='Headline'))return this._getCharacterCounter();return this._getLoadingIndicator();},render:function(){return (k.createElement('div',{className:this.props.className},k.createElement(i,null,k.createElement(h,{className:"_2nvc",helpText:this.props.tooltip,imgHover:o('images/components/HelpLink/info-light-hover-2x.png'),imgNormal:o('images/components/HelpLink/info-light-2x.png'),label:this.props.label,labelSize:'small'}),this._renderCharacterCounterOrLoadingIndicator()),k.createElement('div',null,this.props.children)));}});f.exports=q;},null);
__d('BoostedComponentAddressEditor.react',['ActionList.react','BoostedComponentLabeledEditor.react','Link.react','React','XUIGrayText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=k.createClass({displayName:'BoostedComponentAddressEditor',propTypes:{address:o.string,defaultLabel:o.string,className:o.string,onRequestChange:o.func,onResetRequest:o.func},render:function(){return (k.createElement(i,{className:this.props.className,label:n._("Target Location")},this._renderAddress(),this._renderActions()));},_renderActions:function(){return (k.createElement(h,{className:"_3g78"},this._renderLocationResetLink(),this._renderLocationEditLink()));},_renderAddress:function(){if(this.props.address!=null)return (k.createElement(l,{display:'block',shade:'medium'},this.props.address));return (k.createElement(l,{display:'block',shade:'light'},this.props.defaultLabel));},_renderLocationEditLink:function(){if(this.props.onRequestChange==null)return;return (k.createElement(j,{onClick:this.props.onRequestChange},n._("Edit address")));},_renderLocationResetLink:function(){if(this.props.onResetRequest==null)return;return (k.createElement(j,{onClick:this.props.onResetRequest},n._("Use the Page Location")));}});f.exports=p;},null);
__d("XAudienceManagerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/audience_manager\/",{act:{type:"Int"},aln:{type:"String"},alc:{type:"String"},business_id:{type:"Int"}});},null);
__d('BoostedComponentAdsManagerDialog.react',['LayerFadeOnHide','React','ReactLayeredComponentMixin','XAudienceManagerController','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react','XUIDialogCancelButton.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=i.createClass({displayName:'BoostedComponentAdsManagerDialog',mixins:[j],getInitialState:function(){return {dialogShown:false};},_onLinkClick:function(){this.setState({dialogShown:true});},_onToggle:function(t){this.setState({dialogShown:t});},_onConfirm:function(){this.setState({dialogShown:false});return true;},renderLayers:function(){if(!this.state.dialogShown)return {};var t=r._("Edit Audience in Adverts Manager"),u=r._("See Adverts Manager"),v=k.getURIBuilder().setInt('act',this.props.adAccountID).getURI();return {dialog:i.createElement(l,{behaviors:{LayerFadeOnHide:h},shown:true,width:445,onToggle:this._onToggle},i.createElement(m,null,t),i.createElement(n,null,i.createElement('div',null,r._("This audience was created in Adverts Manager. To edit your audience, you'll need to return to it."))),i.createElement(o,null,i.createElement(q,{action:'cancel',use:'default'}),i.createElement(p,{action:'confirm',href:v,label:u,target:'_blank',use:'confirm',onClick:this._onConfirm})))};},render:function(){return (i.createElement('span',{onClick:this._onLinkClick},this.props.children));}});f.exports=s;},null);
__d('BoostedComponentCTAPlaceEditor.react',['ActionList.react','AdsCallToActionUtils','BoostedComponentConstants','BoostedComponentLabeledEditor.react','BoostedComponentStrings','BootloadedComponent.react','City','JSResource','Link.react','LoadingDialog.react','React','XUICard.react','XUIError.react','XUIGrayText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=r.PropTypes,y=r.createClass({displayName:'BoostedComponentCTAPlaceEditor',propTypes:{ctaLink:x.string,onCTALinkChange:x.func.isRequired,userID:x.string,pageID:x.string,pageAccessToken:x.string,isLoading:x.bool,defaultCity:x.instanceOf(n),onEditAddressClick:x.func},getInitialState:function(){return {dialogShown:false};},render:function(){return (r.createElement(k,{label:l.CALL_TO_ACTION_ADDRESS_LABEL,tooltip:l.CALL_TO_ACTION_ADDRESS_TOOLTIP},r.createElement(h,null,this._renderLabel(),r.createElement(p,{onClick:this._loadDialog},l.CALL_TO_ACTION_ADDRESS_EDIT)),this._renderDialog()));},_loadDialog:function(){if(this.props.onEditAddressClick)this.props.onEditAddressClick();this._onToggle(true);},_renderLabel:function(){var z=i.parseGeoLink(this.props.ctaLink||'');if(z)return (r.createElement(u,{shade:'dark'},z.toString()));return (r.createElement(t,{xuiError:l.CALL_TO_ACTION_ADDRESS_INVALID},r.createElement('span',null,w._("None"))));},_renderDialog:function(){if(!this.state.dialogShown)return null;return (r.createElement(m,{bootloadForcePlaceholder:this.props.isLoading,bootloadLoader:o('AdsPagePlaceDialogContainer.react'),bootloadPlaceholder:r.createElement(q,{behaviors:null,shown:true,width:j.LOADING_DIALOG_WIDTH,onToggle:this._onToggle}),defaultCity:this.props.defaultCity,pageAccessToken:this.props.pageAccessToken,pageID:this.props.pageID,shown:true,userID:this.props.userID,onSubmit:this._onSubmit,onToggle:this._onToggle}));},_onSubmit:function(z){this.setState({dialogShown:false});if(z.place)this.props.onCTALinkChange(i.makeGeoLink(z.place));},_onToggle:function(z){this.setState({dialogShown:z});}});f.exports=y;},null);
__d('BoostedComponentCallToActionSelector.react',['AdsAPIObjectives','AdsCallToActionTypes','AdsCreativeCallToActionField.react','BoostedComponentLabeledEditor.react','React','XUIText.react','adsGKCheck','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.PropTypes,r=l.createClass({displayName:'BoostedComponentCallToActionSelector',propTypes:{apiObjective:q.string.isRequired,hideSelector:q.bool,isDisabled:q.bool,isReadOnly:q.bool,isDefaultOptionRequired:q.bool,label:q.string.isRequired,noButtonLabel:q.string,onCallToActionChange:q.func.isRequired,selectedCallToActionType:q.string,tooltip:q.string},_getCreativeCallToActionSelector:function(){var s=this.props.apiObjective,t,u;switch(this.props.apiObjective){case h.LOCAL_AWARENESS:u=i.TYPES.LIKE_PAGE.text;t=[i.TYPES.CALL_NOW.name,i.TYPES.GET_DIRECTIONS.name,i.TYPES.LEARN_MORE.name];if(n('ads_local_awareness_message_page_cta_lwi'))t.push(i.TYPES.MESSAGE_PAGE.name);break;default:u=undefined;break;}return (l.createElement(k,{className:"_1doi",label:this.props.label,tooltip:this.props.tooltip},l.createElement(j,{apiObjective:s,availableTypes:t,disabledHintText:null,isDisabled:this.props.isDisabled,isReadOnly:this.props.isReadOnly,isRequired:this.props.isDefaultOptionRequired,noButtonLabel:this.props.noButtonLabel||u,selectedType:this.props.selectedCallToActionType,size:'xlarge',onChange:this.props.onCallToActionChange})));},render:function(){if(this.props.hideSelector){var s=i.TYPES,t=null;if(!(this.props.selectedCallToActionType in s)){t=p._("No Call to Action selected or available.");}else{var u=s[this.props.selectedCallToActionType].text;t=p._("Your {label} Call to Action will appear as a button in your advert. To edit your Call to Action, click the {button label} button on your Page.",[p.param('label',l.createElement(m,{weight:'bold'},u)),p.param('button label',u)]);}return (l.createElement(k,{label:this.props.label},t));}return (this._getCreativeCallToActionSelector());}});f.exports=r;},null);
__d('BoostedComponentContent.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'BoostedComponentContent',propTypes:{className:k.string},render:function(){var m=0,n=h.Children.map(this.props.children,function(o,p){if(o==undefined)return o;return (h.createElement('div',{className:++m!==1?"_2jlc":''},o));});return (h.createElement('div',{className:j(this.props.className,"_2jld")},n));}});f.exports=l;},null);
__d('BoostedComponentCreativeEditorMixin',['BoostedComponentAppID','BoostedComponentCreativeEditingConfig'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={getFieldBadTextRules:function(){return {BAD_CHAR:/[\^~_=\{\}\[\]\|<>]/g,PUNC_STREAK:/[\/!.\\?\-*,;:()]{2,}/g,START_CHAR:/^[\/!\.\\?\-\*,:;()]/};},_getConfigForAppID:function(k,l,m){var n;switch(k){case h.BOOSTED_CCTA:n=i.BOOSTED_CCTA;break;case h.BOOSTED_POST:n=i.BOOSTED_POST;break;case h.BOOSTED_PRODUCT:n=i.BOOSTED_PRODUCT;break;case h.BOOSTED_EVENT:n=i.BOOSTED_EVENT;break;case h.BOOSTED_PAGELIKE:n=i.BOOSTED_PAGELIKE;break;case h.BOOSTED_WEBSITE:if(!!m){n=i.BOOSTED_WEBSITE_MPA_VIEW;}else n=i.BOOSTED_WEBSITE;break;case h.BOOSTED_LOCAL_AWARENESS:if(l){n=m?i.BOOSTED_LOCAL_AWARENESS_MPA_VIEW:i.BOOSTED_LOCAL_AWARENESS_CAROUSEL;}else n=i.BOOSTED_LOCAL_AWARENESS;break;}return n;},shouldRenderCreativeElement:function(k,l,m,n){var o=j._getConfigForAppID(k,m,n);if(!o)return false;return o.indexOf(l)>-1;},reorderCreativeElements:function(k,l,m,n){var o=j._getConfigForAppID(k,m,n);if(!o)return [];var p=[];o.map(function(q){if(l.has(q))p.push(l.get(q));});return p;}};f.exports=j;},null);
__d('BoostedComponentCreativeBodyEditor.react',['AdsCreationConfig','AdsTextInput.react','BoostedComponentConstants','BoostedComponentCreativeEditorMixin','BoostedComponentCreativeEditingElement','BoostedComponentLabeledEditor.react','React','BoostedComponentStrings','getObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=n.createClass({displayName:'BoostedComponentCreativeBodyEditor',mixins:[k],propTypes:{appID:q.string.isRequired,supportCarouselInLA:q.bool.isRequired,onBodyChange:q.func.isRequired,body:q.string,validateBody:q.func},render:function(){if(!this.shouldRenderCreativeElement(this.props.appID,l.CREATIVE_BODY,this.props.supportCarouselInLA))return null;return (n.createElement(m,{label:o.CREATIVE_BODY_LABEL,textLimits:j.BODY_EDITOR_TEXT_LIMIT,tooltip:o.CREATIVE_BODY_TOOLTIP},n.createElement(i,{badTextRules:p(this.getFieldBadTextRules()),errors:this.props.validateBody(this.props.body),hideMaxLength:true,maxLength:h.maxBodyLength,multiline:true,placeholder:o.CREATIVE_BODY_PLACEHOLDER,value:this.props.body,onChange:this.props.onBodyChange})));}});f.exports=r;},null);
__d('BoostedComponentCreativeLinkDataEditor.react',['AdsCreationConfig','AdsTextInput.react','BoostedComponentAppID','BoostedComponentConstants','BoostedComponentContent.react','BoostedComponentCreativeEditorMixin','BoostedComponentCreativeEditingElement','BoostedComponentLabeledEditor.react','BoostedComponentStrings','Map','React','TooltipLink.react','getObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=r.PropTypes,v=r.createClass({displayName:'BoostedComponentCreativeLinkDataEditor',mixins:[m],propTypes:{appID:u.string.isRequired,headline:u.string,shouldEdit:u.bool.isRequired,supportCarouselInLA:u.bool.isRequired,text:u.string,url:u.string,useMultiAdsView:u.bool,validateLink:u.func,validateMessage:u.func,validateName:u.func,onLinkDataHeadlineChange:u.func,onLinkDataTextChange:u.func,onLinkDataURLChange:u.func},_getCreativeLinkDataURLInput:function(){if(!this.props.forceShow){if(!this.shouldRenderCreativeElement(this.props.appID,n.CREATIVE_LINK_DATA_URL,this.props.supportCarouselInLA,this.props.useMultiAdsView))return null;if(this.props.shouldEdit)return (r.createElement(o,{key:n.CREATIVE_LINK_DATA_URL,label:p.CREATIVE_LINK_DATA_URL_LABEL,tooltip:p.CREATIVE_LINK_DATA_URL_TOOLTIP},r.createElement(s,{tooltip:this.props.url},this.props.url)));}return (r.createElement(o,{key:n.CREATIVE_LINK_DATA_URL,label:p.CREATIVE_LINK_DATA_URL_LABEL,tooltip:p.CREATIVE_LINK_DATA_URL_TOOLTIP},r.createElement(i,{badTextRules:null,errors:this.props.validateLink(this.props.url),hideMaxLength:true,maxLength:h.maxURLLength,multiline:false,placeholder:p.CREATIVE_LINK_DATA_URL_PLACEHOLDER,value:this.props.url,onChange:this.props.onLinkDataURLChange})));},_getCreativeLinkDataHeadlineInput:function(){if(!this.props.forceShow)if(!this.shouldRenderCreativeElement(this.props.appID,n.CREATIVE_LINK_DATA_HEADLINE,this.props.supportCarouselInLA,this.props.useMultiAdsView))return null;return (r.createElement(o,{key:n.CREATIVE_LINK_DATA_HEADLINE,label:p.CREATIVE_LINK_DATA_HEADLINE_LABEL,textLimits:k.HEADLINE_EDITOR_TEXT_LIMIT,tooltip:p.CREATIVE_LINK_DATA_HEADLINE_TOOLTIP},r.createElement(i,{badTextRules:t(this.getFieldBadTextRules()),errors:this.props.validateName&&this.props.validateName(this.props.headline),hideMaxLength:true,maxLength:h.maxTitleLength,multiline:false,placeholder:p.CREATIVE_LINK_DATA_HEADLINE_PLACEHOLDER,value:this.props.headline,onChange:this.props.onLinkDataHeadlineChange})));},_getCreativeLinkDataTextInput:function(){if(!this.props.forceShow)if(!this.shouldRenderCreativeElement(this.props.appID,n.CREATIVE_LINK_DATA_TEXT,this.props.supportCarouselInLA,this.props.useMultiAdsView))return null;var w=p.CREATIVE_LINK_DATA_TEXT_TOOLTIP;if(this.props.appID===j.BOOSTED_LOCAL_AWARENESS){w=p.CREATIVE_LINK_DATA_TEXT_TOOLTIP_LA;}else if(this.props.appID===j.BOOSTED_EVENT)w=p.CREATIVE_LINK_DATA_TEXT_TOOLTIP_EVENT;return (r.createElement(o,{key:n.CREATIVE_LINK_DATA_TEXT,label:p.CREATIVE_LINK_DATA_TEXT_LABEL,textLimits:k.BODY_EDITOR_TEXT_LIMIT,tooltip:w},r.createElement(i,{badTextRules:t(this.getFieldBadTextRules()),errors:this.props.validateMessage(this.props.text),hideMaxLength:true,maxLength:h.maxBodyLength,multiline:true,placeholder:p.CREATIVE_LINK_DATA_TEXT_PLACEHOLDER,value:this.props.text,onChange:this.props.onLinkDataTextChange})));},render:function(){var w=new q();w.set(n.CREATIVE_LINK_DATA_URL,this._getCreativeLinkDataURLInput());w.set(n.CREATIVE_LINK_DATA_HEADLINE,this._getCreativeLinkDataHeadlineInput());w.set(n.CREATIVE_LINK_DATA_TEXT,this._getCreativeLinkDataTextInput());var x=this.reorderCreativeElements(this.props.appID,w,this.props.supportCarouselInLA,this.props.useMultiAdsView);return (r.createElement(l,null,x));}});f.exports=v;},null);
__d('BoostedComponentImageCropper.react',['AdsCFCreativeImagePanelCropperAction.react','AdsImageLegacy','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'BoostedComponentImageCropper',propTypes:{className:l.string,imageSpecs:l.array.isRequired,image:l.instanceOf(i),onCropClick:l.func.isRequired,disabled:l.bool},render:function(){var n=k._(["Reposition Image","f793047ff37401101ca886584644cfc6"]),o=k._("Reposition Image"),p=k._("Reposition the image to change how it appears in your advert.");return (j.createElement(h,{className:this.props.className,disabled:this.props.disabled||!this.props.image,header:o,image:this.props.image,imageSpecs:this.props.imageSpecs,label:n,size:'xlarge',tooltip:p,onCropUpdate:this._onCropUpdate}));},_onCropUpdate:function(n,o,p,q){this.props.onCropClick(o,q);}});f.exports=m;},null);
__d('BoostedComponentImageLibrarySelector.react',['AdsImageDialogContainer.react','AdsImageLegacy','AdsImageStore','AdsMediaPanelTabs','React','ReactComponentWithPureRenderMixin','ReactLayeredComponentMixin','SimpleNUXMessage','SimpleNUXMessageTypes','Tooltip.react','XUIAmbientNUX.react','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=l.PropTypes,v=l.createClass({displayName:'BoostedComponentImageLibrarySelector',mixins:[n,m],propTypes:{accountID:u.string.isRequired,className:u.string,clickableTrigger:u.element.isRequired,defaultStockSearchText:u.string,disabled:u.bool,enableStock:u.bool,image:u.instanceOf(i),imageHash:u.string,imageUrl:u.string,isBusinessOwnedAdAccount:u.bool,pageID:u.string,pageImages:u.arrayOf(u.instanceOf(i)),tooltipText:u.string,useInstagramImageCreative:u.bool,onDialogShown:u.func.isRequired,onImageSelected:u.func.isRequired},getInitialState:function(){return {showDialog:false,nuxShown:this.props.useInstagramImageCreative&&!o.hasUserSeenMessage(p.INSTAGRAM_LIBRARY_IN_LWI)};},getDefaultProps:function(){return {onDialogShown:s};},componentWillMount:function(){this.setState(w({accountID:this.props.accountID,url:this.props.imageUrl,hash:this.props.imageHash}));},componentWillReceiveProps:function(x){this.setState(w({accountID:x.accountID,url:x.imageUrl,hash:x.imageHash}));},renderLayers:function(){var x=null;if(this.state.showDialog){var y={url:this.props.imageUrl,hash:this.props.imageHash},z=[k.UPLOAD,k.LIBRARY],aa;if(this.props.enableStock){z.push(k.STOCK);aa=this.props.defaultStockSearchText;}var ba;if(this.props.image&&this.props.image.isStockImage()){var ca=this.props.image;y={crops:ca.getCrops(),fullSizeUrl:ca.getFullSizeUrl(),height:ca.getHeight(),previewHeight:ca.getPreviewHeight(),previewUrl:ca.getPreviewUrl(),previewWidth:ca.getPreviewWidth(),stockImageID:ca.getStockImageID(),thumbHeight:ca.getThumbnailHeight(),thumbWidth:ca.getThumbnailWidth(),url:ca.getThumbnailUrl(),width:ca.getWidth()};ba=k.STOCK;}x=l.createElement(h,{accountID:this.props.accountID,defaultStockSearchText:aa,initialTab:ba,isBusinessOwnedAdAccount:this.props.isBusinessOwnedAdAccount,libraryImages:this.state.libraryImages,pageID:this.props.pageID,pageImages:this.props.pageImages,selectedImages:[y],tabKeys:z,useInstagramImageCreative:this.props.useInstagramImageCreative,onCancel:this._onCancel,onSelect:this._onSelect});}return {dialog:x,nux_above:l.createElement(r,{contextRef:this._getButtonRef,position:'above',shown:this.state.nuxShown,onCloseButtonClick:this._onNUXCloseButtonClick},t._("New! Select images from your Instagram account to use in your adverts."))};},render:function(){var x=l.createElement('div',{ref:'button',onClick:this.props.disabled?null:this._onDialogShow},this.props.clickableTrigger);if(!this.props.tooltipText)return x;return (l.createElement(q,{alignH:'left',className:this.props.className,position:'above',tooltip:this.props.tooltipText},x));},_onDialogShow:function(event){event.preventDefault();this.setState({showDialog:true});this.props.onDialogShown();},_onSelect:function(x){this.setState({showDialog:false});this.props.onImageSelected(new i(x[0]));},_onCancel:function(){this.setState({showDialog:false});},_getButtonRef:function(){return this.refs.button;},_onNUXCloseButtonClick:function(){if(this.state.nuxShown){o.markMessageSeenByUser(p.INSTAGRAM_LIBRARY_IN_LWI);this.setState({nuxShown:false});}}});function w(x){var y=x.accountID,z=x.url,aa=x.hash,ba=aa?j.getImageByHash_DEPRECATED(y,aa):null,ca;if(ba){z=ba.url||ba.url_128||z;ca=z?j.getImageDimensionsByURL(z):null;}return {height:ca?ca.height:null,libraryImages:j.getImages_DEPRECATED(y),url:z,hash:aa,width:ca?ca.width:null};}f.exports=v;},null);
__d('BoostedComponentImageUploader.react',['AdsCFCreativeImagePanelUploaderAction.react','React','WebApiApplication','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'BoostedComponentImageUploader',propTypes:{accountID:l.string.isRequired,accessToken:l.string.isRequired,clientID:l.string.isRequired,onUploadClick:l.func.isRequired,className:l.string,disabled:l.bool,onUploadEnd:l.func,onUploadStart:l.func},render:function(){return (i.createElement(h,{accountID:this.props.accountID,className:this.props.className,disabled:this.props.disabled,fileInputNodeID:'BoostedComponentImageUploader'+this.props.clientID,multiple:false,size:'xlarge',onUploadClick:this._onClick,onUploadEnd:this._onUploadEnd,onUploadStart:this._onUploadStart}));},_onClick:function(n){j.init(this.props.accessToken,this.props.clientID);},_onUploadEnd:function(n){!(n.length===1)?k(0):undefined;this.props.onUploadEnd();this.props.onUploadClick(n[0]);},_onUploadStart:function(n){this.props.onUploadStart();}});f.exports=m;},null);
__d('BoostedComponentImageSelector.react',['AdsImageLegacy','BoostedComponentStrings','BoostedComponentImageCropper.react','BoostedComponentImageLibrarySelector.react','BoostedComponentImageUploader.react','React','XUIButton.react','XUISpinner.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r=m.createClass({displayName:'BoostedComponentImageSelector',propTypes:{accessToken:q.string.isRequired,accountID:q.string.isRequired,clientID:q.string.isRequired,defaultStockSearchText:q.string,enableStock:q.bool,image:q.instanceOf(h),imageHash:q.string,imageSpecs:q.array,imageUrl:q.string,isBusinessOwnedAdAccount:q.bool,pageID:q.string,pageImages:q.arrayOf(q.instanceOf(h)),useInstagramImageCreative:q.bool,onDialogShown:q.func,onImageCropClick:q.func.isRequired,onImageSelected:q.func.isRequired,onImageUploadClick:q.func.isRequired},getInitialState:function(){return {isUploadingImage:false};},render:function(){var s=(!this.state.isUploadingImage?"hidden_elem":'')+(' '+"_3-99"),t=m.createElement(n,{disabled:this.state.isUploadingImage,label:i.SELECT_IMAGE,size:'xlarge'});return (m.createElement('div',null,m.createElement(l,{accessToken:this.props.accessToken,accountID:this.props.accountID,clientID:this.props.clientID,disabled:this.state.isUploadingImage,onUploadClick:this.props.onImageUploadClick,onUploadEnd:this._onUploadEnd,onUploadStart:this._onUploadStart}),m.createElement(k,{accountID:this.props.accountID,className:"_3-9a _4nqt",clickableTrigger:t,defaultStockSearchText:this.props.defaultStockSearchText,disabled:this.state.isUploadingImage,enableStock:this.props.enableStock,image:this.props.image,imageHash:this.props.imageHash,imageUrl:this.props.imageUrl,instagramImages:this.props.instagramImages,isBusinessOwnedAdAccount:this.props.isBusinessOwnedAdAccount,pageID:this.props.pageID,pageImages:this.props.pageImages,tooltipText:i.IMAGE_SELECTOR_TOOLTIP_TEXT,useInstagramImageCreative:this.props.useInstagramImageCreative,onDialogShown:this.props.onDialogShown,onImageSelected:this.props.onImageSelected}),m.createElement(j,{className:"_3-9a",disabled:this.state.isUploadingImage,image:this.props.image,imageSpecs:this.props.imageSpecs,onCropClick:this.props.onImageCropClick}),m.createElement(o,{className:s})));},_onUploadEnd:function(){this.setState({isUploadingImage:false});},_onUploadStart:function(){this.setState({isUploadingImage:true});}});f.exports=r;},null);
__d('BoostedComponentCreativeMultiAdsEditor.react',['AdsImageLegacy','AdImageSpecs','AdsImageStore','AdsIndexedTabBar.react','BoostedComponentCreativeLinkDataEditor.react','BoostedComponentImageSelector.react','BoostedComponentLabeledEditor.react','BoostedComponentMultiAdsProductChangeTypes','BoostedComponentStrings','Grid.react','LeftRight.react','Link.react','React','Image.react','XUIButton.react','cx','fbt','isEmpty','mergeDeep','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){'use strict';if(c.__markCompiled)c.__markCompiled();var ba=q.GridItem,ca=t.PropTypes,da=t.createClass({displayName:'BoostedComponentCreativeMultiAdsEditor',propTypes:{accessToken:ca.string.isRequired,accountID:ca.string.isRequired,appID:ca.string.isRequired,clientID:ca.string.isRequired,defaultImageHash:ca.string,defaultImageUrl:ca.string,defaultLink:ca.string,defaultName:ca.string,defaultStockSearchText:ca.string,isBusinessOwnedAdAccount:ca.bool,maxProducts:ca.number.isRequired,minProducts:ca.number.isRequired,pageID:ca.string,pageImages:ca.arrayOf(ca.instanceOf(h)),products:ca.arrayOf(ca.object),selectedProductIndex:ca.number.isRequired,supportCarouselInLA:ca.bool.isRequired,useInstagramImageCreative:ca.bool,validateName:ca.func,onDialogShown:ca.func,onProductSelected:ca.func.isRequired,onProductsChange:ca.func.isRequired},render:function(){return (t.createElement('div',null,t.createElement(q,{cols:2},t.createElement(ba,{key:'left'},t.createElement(k,{numItems:this.props.products.length,selectedItem:this.props.selectedProductIndex,onItemAdded:this.props.onProductAdd,onItemSelected:this.props.onProductSelected})),t.createElement(ba,{key:'rigth'},this._getAddProductIcon())),this._getProductsCard()));},_getAddProductIcon:function(){if(this.props.products.length>=this.props.maxProducts)return null;return (t.createElement(v,{className:"_3-9a",image:t.createElement(u,{src:aa({name:'plus',shade:'dark',size:'small'})}),onClick:this._onProductAdd}));},_getProductsCard:function(){return (t.createElement('div',{background:'light-wash',className:"_1ev3"},t.createElement('div',null,this._getRemoveButton(),this._getCreativeLinkDataEditor(),this._getImageSelector())));},_getRemoveButton:function(){if(this.props.products.length<=this.props.minProducts)return null;return (t.createElement(r,{direction:'right'},t.createElement(s,{onClick:this._onProductRemove},x._("Remove"))));},_getCreativeLinkDataEditor:function(){var ea=null,fa=this.props.products[this.props.selectedProductIndex];if(!y(fa))ea=fa.name;return (t.createElement(l,{appID:this.props.appID,headline:ea,shouldEdit:false,supportCarouselInLA:this.props.supportCarouselInLA,useMultiAdsView:true,validateName:this.props.validateName,onLinkDataHeadlineChange:this._onProductNameChange}));},_getImageSelector:function(){var ea=null,fa=null,ga=null,ha=this.props.products[this.props.selectedProductIndex];if(!y(ha)){fa=ha.picture;ga=ha.image_hash;if(ga){ea=j.getOneFor(this.props.accountID,ga);if(ea&&ha.image_crops)ea=Object.assign({},ea,{crops:ha.image_crops});}if(!ea){ea={url:fa,crops:ha.image_crops};var ia=fa?j.getImageDimensionsByURL(fa):null;if(!ia){ea=null;}else Object.assign(ea,ia);}if(ea)ea=new h(ea);}var ja=[i.PAGE_POST_MULTI_PRODUCT];if(this.props.products&&this.props.products.length===1)ja=[i.PAGE_POST_DESKTOP_FEED];return (t.createElement(n,{label:p.CREATIVE_IMAGE,tooltip:p.CREATIVE_IMAGE_TOOLTIP},t.createElement(m,{accessToken:this.props.accessToken,accountID:this.props.accountID,clientID:this.props.clientID,defaultStockSearchText:this.props.defaultStockSearchText,image:ea,imageHash:ga,imageSpecs:ja,imageUrl:fa,isBusinessOwnedAdAccount:this.props.isBusinessOwnedAdAccount,pageID:this.props.pageID,pageImages:this.props.pageImages,useInstagramImageCreative:this.props.useInstagramImageCreative,onDialogShown:this.props.onDialogShown,onImageCropClick:this._onProductImageCropChange,onImageSelected:this._onProductImageChange,onImageUploadClick:this._onProductImageChange})));},_getProductsCopy:function(){return this.props.products.map(function(ea){return z(ea);});},_onProductAdd:function(){var ea=this._getProductsCopy();ea.push({link:this.props.defaultLink,name:this.props.defaultName,picture:this.props.defaultImageUrl,image_hash:this.props.defaultImageHash});this.props.onProductsChange(ea,o.ADD);var fa=ea.length-1;this.props.onProductSelected(fa);},_onProductRemove:function(){var ea=this._getProductsCopy(),fa=ea.length-1;if(this.props.selectedProductIndex===fa)this.props.onProductSelected(fa-1);ea.splice(this.props.selectedProductIndex,1);this.props.onProductsChange(ea,o.REMOVE);},_onProductNameChange:function(ea){var fa=this._getProductsCopy();fa[this.props.selectedProductIndex].name=ea;this.props.onProductsChange(fa,o.NAME_CHANGE);},_onProductImageChange:function(ea){var fa=this._getProductsCopy();if(ea.getUrl()){fa[this.props.selectedProductIndex].picture=ea.getUrl();delete fa[this.props.selectedProductIndex].image_hash;}else{fa[this.props.selectedProductIndex].image_hash=ea.getAdAccountHash();delete fa[this.props.selectedProductIndex].picture;}if(ea.crops){fa[this.props.selectedProductIndex].image_crops=ea.crops;}else delete fa[this.props.selectedProductIndex].image_crops;this.props.onProductsChange(fa,o.IMAGE_CHANGE);},_onProductImageCropChange:function(ea,fa){var ga=this._getProductsCopy(),ha={};ha[ea]=fa;ga[this.props.selectedProductIndex].image_crops=ha;this.props.onProductsChange(ga,o.IMAGE_CROP_CHANGE);}});f.exports=da;},null);
__d('BoostedComponentDialogActionMenuMixin',['BoostedComponentClientEvent','BoostedComponentStrings','BusinessConf','ContextualDialogArrow','ContextualLayerAutoFlip','DOM','Image.react','PopoverMenu.react','React','ReactDOM','URI','XUIButton.react','ReactXUIMenu','cx','emptyFunction','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';if(c.__markCompiled)c.__markCompiled();var y=t.Item,z={_getSeedFeedbackMenuItem:function(){var aa=this._config&&this._config.getURIStore()&&this._config.getURIStore().getSendFeedbackURI();if(!aa)return null;return (p.createElement(y,{href:aa,key:'sendFeedback',target:'_blank'},w._("Send Feedback")));},_getBillingInfoMenuItem:function(){if(!this._config){var aa=new r('/ads/manage/billing.php').addQueryData({act:this.props.accountID});return (p.createElement(y,{href:aa,key:'billingInfo',target:'_blank'},w._("Edit Billing Info")));}aa=new r(this._config.getURIStore().getBillingInfoURI()).addQueryData({act:this._config.getAdAccountStore().getSelectedAccountID()});return (p.createElement(y,{href:aa,key:'billingInfo',target:'_blank'},w._("Edit Billing Info")));},_getContactSupportMenuItem:function(){if(!this._config){if(!this.props.contactFormURI)return null;return (p.createElement(y,{className:j.WHITELISTED_URI_CLASS,href:new r(this.props.contactFormURI),key:'contactForm',target:'_blank'},w._("Contact Support")));}if(!this._config.getURIStore().getContactSupportURI())return null;return (p.createElement(y,{href:new r(this._config.getURIStore().getContactSupportURI()),key:'contactSupport',target:'_blank'},w._("Contact Support")));},_getReportBugMenuItem:function(){var aa=this._config&&this._config.getURIStore()&&this._config.getURIStore().getBugReportURI();if(!aa)return null;var ba=new r(aa).addQueryData({screenshot_container_id:this._config.getDialogUIStore().getDialogDivID()});return (p.createElement(y,{ajaxify:ba,href:'#',key:'reportBug',rel:'dialog'},w._("Report a problem")));},_getDeleteAdMenuItem:function(){return (p.createElement(y,{key:'deleteAd',onclick:this._onDeleteClick},w._("Delete Advert")));},_onDeleteClick:function(){this._config.getDispatcher().handleUpdateFromViewAction({actionType:h.DELETE_CLICK});},render:function(){this._config=this.props.config;var aa=p.createElement(t,{onItemClick:this._sendArbiterSignal},this.getMenuOptions());return (p.createElement(o,{layerBehaviors:[l,k],menu:aa},p.createElement(s,{className:"_2vy",image:p.createElement(n,{src:x('/images/ui/x/image/gear_large.png')}),size:'xlarge'})));}};f.exports=z;},null);
__d('BoostedComponentDialogActionMenu.react',['BoostedComponentConfig','BoostedComponentDialogActionMenuMixin','BoostedComponentExperiment','React','XUIMenuSeparator.react'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=k.createClass({displayName:'BoostedComponentDialogActionMenu',mixins:[i],propTypes:{config:m.instanceOf(h).isRequired},getMenuOptions:function(){var o=[];if(this.props.config.getAdStatusStore().getShouldEdit())o.push(this._getDeleteAdMenuItem(),k.createElement(l,{key:'separator'}));o.push(this._getSeedFeedbackMenuItem(),this._getContactSupportMenuItem(),this._getReportBugMenuItem());return o;}});f.exports=n;},null);
__d('BoostedComponentDialogTitle.react',['BoostedActionStatus','BoostedComponentAppID','BoostedComponentClientEvent','BoostedComponentConfig','BoostedComponentExperiment','BoostedComponentStrings','BoostedPostStrings','FBToggleSwitch.react','BoostedPostPlacementOptions','React','SubscriptionsHandler','XUIDialogTitle.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=q.PropTypes,v=q.createClass({displayName:'BoostedComponentDialogTitle',propTypes:{config:u.instanceOf(k).isRequired},componentWillMount:function(){this._subscriptions=new r();this._subscriptions.addSubscriptions(this.props.config.getAdStatusStore().subscribe('change',this._updateState));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},getInitialState:function(){return {adStatus:this.props.config.getAdStatusStore().getAdStatus()};},_onDataUpdate:function(w){if(w){this.props.config.getDispatcher().handleUpdateFromViewAction({actionType:j.RESUME_CLICK});}else this.props.config.getDispatcher().handleUpdateFromViewAction({actionType:j.PAUSE_CLICK});},_updateState:function(){this.setState({adStatus:this.props.config.getAdStatusStore().getAdStatus()});},_getAdStatusBar:function(){if(!this.props.config.getExperimentStore().getExperimentParamBool(l.BOOSTED_COMPONENT_AD_STATUS_BAR,'new_status_bar'))return null;switch(this.state.adStatus){case h.PENDING:case h.REJECTED:var w=this.state.adStatus===h.PENDING;return (q.createElement('span',{className:"_20fx"+(w?' '+"_20f_":'')+(!w?' '+"_20g0":'')},q.createElement('div',{className:"_20g1"}),q.createElement('span',{className:"_20g3"},w?m.AD_STATUS_PENDING:m.AD_STATUS_REJECTED)));case h.ACTIVE:case h.PAUSED:var x=this.state.adStatus===h.ACTIVE;return (q.createElement('span',{className:"_20fx"+(x?' '+"_20g8":'')+(!x?' '+"_40sc":'')},q.createElement(o,{animate:true,checked:x,onToggle:this._onDataUpdate}),q.createElement('span',{className:"_20g3"},x?m.AD_STATUS_ACTIVE:m.AD_STATUS_INACTIVE)));default:return null;}},_getTitleText:function(){var w=this.props.config.getContextStore().getAppID();switch(w){case i.BOOSTED_CCTA:return m.BOOSTED_CCTA_CREATE_DIALOG_TITLE;case i.BOOSTED_EVENT:return n.EVENT_BUTTON_LABEL;case i.BOOSTED_LOCAL_AWARENESS:return (m.BOOSTED_LOCAL_AWARENESS_CREATE_DIALOG_TITLE);case i.BOOSTED_PAGELIKE:if(this.props.config.getExperimentStore().getExperiment(l.BOOSTED_COMPONENT_LABEL))return (m.BOOSTED_PAGELIKE_CREATE_DIALOG_EXPERIMENT_TITLE);return m.BOOSTED_PAGELIKE_CREATE_DIALOG_TITLE;case i.BOOSTED_POST:if(this.props.config.getContextStore().getPlacement()===p.INSIGHTS_POST_SPONSORED_TABLE)return n.PROMOTE_POST_TITLE;return n.DEFAULT_BUTTON_LABEL;case i.BOOSTED_PRODUCT:return m.BOOSTED_PRODUCT_CREATE_DIALOG_TITLE;case i.BOOSTED_WEBSITE:if(this.props.config.getExperimentStore().getExperiment(l.BOOSTED_COMPONENT_LABEL))return (m.BOOSTED_WEBSITE_CREATE_DIALOG_EXPERIMENT_TITLE);return m.BOOSTED_WEBSITE_CREATE_DIALOG_TITLE;default:return m.BOOST;}},render:function(){return (q.createElement(s,{className:"_20ga"},q.createElement('div',null,this._getTitleText(),this._getAdStatusBar())));}});f.exports=v;},null);
__d('BoostedComponentDualCreativeContent.react',['AdsHelpLink.react','BoostedComponentStrings','Link.react','React','ix','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'BoostedComponentDualCreativeContent',propTypes:{isCreativeVideo:n.bool.isRequired,toggleCreativeCategory:n.func.isRequired,imageEditorLabel:n.string.isRequired,imageEditorTooltip:n.string.isRequired},render:function(){var p=this.props.isCreativeVideo?i.CREATIVE_VIDEO:this.props.imageEditorLabel,q=this.props.isCreativeVideo?i.CREATIVE_VIDEO_TOGGLE_TIP:i.CREATIVE_IMAGE_TOGGLE_TIP,r=this.props.isCreativeVideo?i.CREATIVE_VIDEO_TOOLTIP:this.props.imageEditorTooltip;return (k.createElement('div',null,k.createElement('div',{className:"_5alk"},k.createElement('label',{className:"_5all"},p),' ',k.createElement(h,{imgHover:l('images/components/HelpLink/info-light-hover-2x.png'),imgNormal:l('images/components/HelpLink/info-light-2x.png'),width:300},r)),k.createElement('div',{className:"_5alm"},k.createElement(j,{onClick:this.props.toggleCreativeCategory},q)),k.createElement('div',{className:"_3-8w"},this.props.children)));}});f.exports=o;},null);
__d('BoostedComponentEndDateSelector.react',['BoostedComponentStrings','DateConsts','FBDate','React','UTCUtils','XUIButton.react','XUICalendar.react','XUIDatePicker.react','XUIRadioButtonGroup.react','XUIText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=k.PropTypes,u=0,v=new j(l.dateToUTC(new Date()),u).startOfDay(),w=k.createClass({displayName:'BoostedComponentEndDateSelector',propTypes:{campaignLengthOptions:t.arrayOf(t.number),latestAllowedCampaignEndTimestampSeconds:t.number,maxAllowedCampaignLengthInDays:t.number,selectedCampaignLengthInDays:t.number.isRequired,onDataUpdate:t.func.isRequired},getInitialState:function(){return {selectedCampaignLength:this.props.selectedCampaignLengthInDays};},_onDateChange:function(x){var y=new j(n.normalizeDate(x),u).startOfDay();this._updateCampaignLength(v.secondsUntil(y)/i.SEC_PER_DAY);},_updateCampaignLength:function(x){this.setState({selectedCampaignLength:x});this.props.onDataUpdate(x);},_renderCampaignLengthButtons:function(){if(!this.props.campaignLengthOptions)return null;var x=this.props.campaignLengthOptions.map(function(y){var z;if(y===1){z=s._("1 day");}else if(y>1)z=s._({"*":"{number} days"},[s.param('number',y,[0])]);return (k.createElement(m,{key:y,label:z,size:'xlarge',type:'button',value:y}));});return (k.createElement(p,{className:"_3-96",selectedDepressed:true,selectedValue:this.state.selectedCampaignLength,onValueChange:this._updateCampaignLength},x));},render:function(){var x=this.props.maxAllowedCampaignLengthInDays?v.addDays(this.props.maxAllowedCampaignLengthInDays).getUnixTimestampSeconds():null;if(this.props.latestAllowedCampaignEndTimestampSeconds)x=x?Math.min(x,this.props.latestAllowedCampaignEndTimestampSeconds):this.props.latestAllowedCampaignEndTimestampSeconds;return (k.createElement('div',null,this._renderCampaignLengthButtons(),k.createElement('div',null,k.createElement(q,{size:'small'},h.DATE_PICKER_PREPEND_TEXT),k.createElement('span',{className:"plm"},k.createElement(o,{earliestTime:v.addDays(1).getUnixTimestampSeconds(),initialTime:v.addDays(this.state.selectedCampaignLength).getUnixTimestamp(),latestTime:x,onCalendarSelectDateChange:this._onDateChange})))));}});f.exports=w;},null);
__d('BoostedComponentDurationSelector.react',['BoostedComponentEndDateSelector.react','BoostedComponentStrings','InputLabel.react','React','XUIRadioInput.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'BoostedComponentDurationSelector',propTypes:{campaignLengthOptions:n.arrayOf(n.number),hideRunContinuously:n.bool.isRequired,latestAllowedCampaignEndTimestampSeconds:n.number,runContinuously:n.bool.isRequired,selectedCampaignLengthInDays:n.number,onDurationTypeUpdate:n.func.isRequired,onEndDateSelectorUpdate:n.func.isRequired},getDefaultProps:function(){return {selectedCampaignLengthInDays:1,runContinuously:false};},getInitialState:function(){return {selectedCampaignLength:this.props.selectedCampaignLengthInDays,runContinuously:this.props.runContinuously};},_onEndDateSelectorUpdate:function(p){this.setState({selectedCampaignLength:p});this.props.onEndDateSelectorUpdate(p);},_onDurationTypeUpdate:function(p){this.setState({runContinuously:p});this.props.onDurationTypeUpdate(p);},_renderRunWithEndDateSection:function(){return (k.createElement('div',{className:"_2pin"},k.createElement(j,null,k.createElement(l,{checked:!this.state.runContinuously,onChange:this._onDurationTypeUpdate.bind(this,false)}),k.createElement('label',{className:"_2pir"},i.RUN_WITH_END_DATE_LABEL)),this._renderEndDateSelector()));},_renderRunContinuouslySection:function(){return (k.createElement('div',{className:"_2pin"},k.createElement(j,null,k.createElement(l,{checked:this.state.runContinuously,onChange:this._onDurationTypeUpdate.bind(this,true)}),k.createElement('label',{className:"_2pir"},i.RUN_CONTINUOUSLY_LABEL)),this._renderRunContinuouslyDescription()));},render:function(){if(this.props.hideRunContinuously&&!this.state.runContinuously)return this._renderEndDateSelector();return (k.createElement('form',null,this._renderRunContinuouslySection(),this._renderRunWithEndDateSection()));},_renderRunContinuouslyDescription:function(){if(!this.state.runContinuously)return null;return (k.createElement('div',{className:"_2piv _3-8x _3-9a"},i.RUN_CONTINUOUSLY_DESCRIPTION));},_renderEndDateSelector:function(){if(this.state.runContinuously)return null;return (k.createElement('div',{className:(!this.props.hideRunContinuously?"_2piv":'')+(!this.props.hideRunContinuously?' '+"_3-9a":'')},k.createElement(h,{campaignLengthOptions:this.props.campaignLengthOptions,latestAllowedCampaignEndTimestampSeconds:this.props.latestAllowedCampaignEndTimestampSeconds,selectedCampaignLengthInDays:this.state.selectedCampaignLength,onDataUpdate:this._onEndDateSelectorUpdate})));}});f.exports=o;},null);
__d('BoostedComponentTerms.react',['BoostedComponentTestElement','LayerHideOnBlur','Link.react','React','ReactLayeredComponentMixin','URI','XUICloseButton.react','XUIContextualDialog.react','XUIText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=k.PropTypes,t=k.createClass({displayName:'BoostedComponentTerms',mixins:[l],propTypes:{buttonLabel:s.string.isRequired},getInitialState:function(){return {dialogShown:false};},_showDialog:function(){this.setState({dialogShown:true});},_hideDialog:function(){this.setState({dialogShown:false});},_onToggle:function(u){if(!u&&this.state.dialogShown)this._hideDialog();},renderLayers:function(){return {contextualDialog:k.createElement(o,{behaviors:{LayerHideOnBlur:i},contextRef:(function(){return this.refs.terms;}).bind(this),position:'above',shown:this.state.dialogShown,width:o.WIDTH.WIDE,onToggle:this._onToggle},k.createElement(n,{className:"rfloat mts mrs",'data-testid':h.TERMS_DIALOG_CLOSE_BUTTON,href:'#',onClick:this._hideDialog}),k.createElement('div',{className:"_53iv"},k.createElement('div',{className:'mbm'},k.createElement(p,{size:'medium',weight:'bold'},r._("Terms & Conditions"))),r._("By clicking \"{label}\", you agree to the {terms}, including your obligation to comply with the {self-serve terms} and the {ad_guidelines}. We do not use sensitive personal data for advert targeting. Topics that you choose for targeting your advert don't reflect the personal beliefs, characteristics or values of users. Failure to comply with the Terms and Conditions, the Self-serve Advert Terms and the Advertising Guidelines may result in a variety of consequences, including the cancellation of adverts that you have placed and the termination of your account. Please note that if you are a resident of or have your principal place of business in the US or Canada, you are contracting solely with Facebook, Inc. Otherwise, you are contracting solely with Facebook Ireland, Ltd. However, advertisers in some countries may under certain circumstances contract directly with Facebook affiliate companies solely for purposes of ordering adverts. {country specific ads terms}.",[r.param('label',this.props.buttonLabel),r.param('terms',k.createElement(j,{href:new m('/legal/terms'),target:'_blank'},r._("Facebook Statement of Rights and Responsibilities"))),r.param('self-serve terms',k.createElement(j,{href:'/legal/self_service_ads_terms',target:'_blank'},r._("Self-serve Advert Terms"))),r.param('ad_guidelines',k.createElement(j,{href:new m('/ad_guidelines.php'),target:'_blank'},r._("Facebook Advertising Guidelines"))),r.param('country specific ads terms',k.createElement(j,{href:'/legal/country_specific_ads_terms',target:'_blank'},r._("If applicable to you, you can find special provisions applicable to your Orders from the affiliates here")))])))};},render:function(){return (k.createElement(j,{className:"_3-9a",'data-testid':h.TERMS,ref:'terms',onClick:this._showDialog},r._("Terms & Conditions")));}});f.exports=t;},null);
__d('BoostedComponentFooter.react',['BoostedComponentConfig','BoostedComponentDialogActionMenu.react','BoostedComponentDialogSubmissionStates','BoostedComponentTerms.react','LeftRight.react','Link.react','LoadingIndicator.react','React','URI','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=o.PropTypes,u=o.createClass({displayName:'BoostedComponentFooter',propTypes:{buttonSpecs:t.array.isRequired,actionMenu:t.element,dialogState:t.number,config:t.instanceOf(h)},getDefaultProps:function(){return {dialogState:j.ENABLED};},_renderActionMenu:function(){if(this.props.config)return (o.createElement(i,{config:this.props.config}));return this.props.actionMenu;},_renderTermsConditionsLink:function(){var v=this.props.buttonSpecs.filter(function(x){return x.use==='confirm';}),w=v.length===1?v[0].label:s._(["Boost","b39b548ea2fdb4f5018d4ac20c7b219e"]);return o.createElement(k,{buttonLabel:w});},_renderLinkSeparator:function(){return (o.createElement('span',{className:"_3-8s"},'|'));},_renderHelpCenterLink:function(){var v=this.props.config&&this.props.config.getURIStore()&&this.props.config.getURIStore().getHelpCenterURI();if(!v)v=new p('/help/www/547448218658012/');return (o.createElement(m,{href:v,key:'helpCenter',target:'_blank'},s._("Help Centre")));},_renderLoadingIndicator:function(){if(this.props.config||this.props.dialogState!==j.SUBMITTING)return null;return (o.createElement(n,{className:"mrm _2ooe",color:'white',size:'small'}));},getModifiedButtonSpecs:function(v){if(v.use==='confirm'){v.disabled=v.disabled||this.props.dialogState!==j.ENABLED;}else v.disabled=v.disabled||this.props.dialogState===j.SUBMITTING;return v;},_renderButtons:function(){var v=[];for(var w=this.props.buttonSpecs.length-1;w>=0;w--){var x=this.getModifiedButtonSpecs(this.props.buttonSpecs[w]);v.push(o.createElement('span',{className:"_3-9a",key:w},o.createElement(q,babelHelpers._extends({},x,{className:"_2vy",size:'xlarge'}))));}return v;},render:function(){return (o.createElement(l,{className:"_2oof _2ph-"},o.createElement('div',null,this._renderActionMenu(),this._renderTermsConditionsLink(),this._renderLinkSeparator(),this._renderHelpCenterLink()),o.createElement('div',null,this._renderLoadingIndicator(),this._renderButtons())));}});f.exports=u;},null);
__d('BoostedComponentGeoLocationTypeSelector.react',['BoostedComponentClientEvent','BoostedComponentGeoLocationType','BoostedComponentStrings','React','XUIButton.react','XUIRadioButtonGroup.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'BoostedComponentGeoLocationTypeSelector',propTypes:{geoLocationType:n.string,onDataUpdate:n.func.isRequired},getDefaultProps:function(){return {geoLocationType:i.BROAD_GEO_LOCATION};},getInitialState:function(){return {selected:this.props.geoLocationType};},componentWillReceiveProps:function(p){this.setState({selected:p.geoLocationType});},_onDataUpdate:function(p){this.setState({selected:p});this.props.onDataUpdate(h.UPDATE_GEO_LOCATION_TYPE,p);},render:function(){var p='xlarge';return (k.createElement('div',null,k.createElement(m,{selectedDepressed:true,selectedValue:this.state.selected,onValueChange:this._onDataUpdate},k.createElement(l,{label:j.TARGET_AUDIENCE_BROAD,size:p,value:i.BROAD_GEO_LOCATION}),k.createElement(l,{label:j.TARGET_AUDIENCE_LOCAL,size:p,value:i.LOCAL_GEO_LOCATION}))));}});f.exports=o;},null);
__d('BoostedComponentInsightsHeadline.react',['BoostedComponentStrings','HelpLink.react','joinClasses','Number.react','React','XUIText.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes,p=l.createClass({displayName:'BoostedComponentInsightsHeadline',propTypes:{appID:o.string.isRequired,conversions:o.number,reach:o.number.isRequired,spend:o.string.isRequired},_formatNumber:function(q){return (l.createElement(k,{className:"_5v1f",value:q}));},_formatString:function(q){return (l.createElement(m,{className:"_5v1f"},q));},_getHeaderWithTooltip:function(q){var r=null;if(q.tooltip)r=l.createElement(i,{className:"_3-99",tooltip:q.tooltip});return (l.createElement('div',{className:j("_5v1g _2pi7 _2pi3",q.itemalign)},l.createElement('div',{className:"_5v1f"},q.value),l.createElement('div',{className:"_3yqt"},q.label,r)));},getConversionHeader:function(q,r){if(r===undefined||r===null)return null;return this._getHeaderWithTooltip({label:h.getConversionsLabel(q),tooltip:h.getConversionsTooltip(q),value:this._formatNumber(r),itemalign:"_3yqu"});},getReachHeader:function(q){return this._getHeaderWithTooltip({label:h.INSIGHTS_REACH_LABEL,tooltip:h.INSIGHTS_REACH_TOOLTIP,value:this._formatNumber(q),itemalign:"_3yqu"});},getSpendHeader:function(q){return this._getHeaderWithTooltip({label:h.INSIGHTS_SPEND_LABEL,tooltip:h.INSIGHTS_SPEND_TOOLTIP,value:this._formatString(q),itemalign:"_3yqv"});},render:function(){return (l.createElement('div',{className:"_5v28"},l.createElement('div',{className:"_5v2u"},this.getConversionHeader(this.props.appID,this.props.conversions),this.getReachHeader(this.props.reach),this.getSpendHeader(this.props.spend))));}});f.exports=p;},null);
__d('BoostedComponentLeftRightLabeledRow.react',['Grid.react','React','XUIGrayText.react','HelpLink.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=h.GridItem,o=i.PropTypes,p=i.createClass({displayName:'BoostedComponentLeftRightLabeledRow',propTypes:{label:o.string.isRequired,border:o.bool,alignv:o.oneOf(['top','middle','bottom']),shade:o.string,tooltip:o.string},getDefaultProps:function(){return {border:false,alignv:'top',shade:'dark'};},_renderHelpLink:function(){if(this.props.tooltip)return (i.createElement(k,{tooltip:this.props.tooltip}));return null;},render:function(){var q=m("_16uy"+(this.props.border?' '+"_16uz":''),this.props.className);return (i.createElement('div',{className:q},i.createElement(h,{alignv:this.props.alignv,cols:2,fixed:true,spacing:'pas'},i.createElement(n,{className:"_16u-"},i.createElement(j,{className:"_16u_",shade:this.props.shade,weight:'bold'},this.props.label),this._renderHelpLink()),i.createElement(n,{className:"_16v0"},this.props.children))));}});f.exports=p;},null);
__d('BoostedComponentPreviewPanel.react',['BoostedComponentContent.react','React','Image.react','XUIGrayText.react','cx','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=i.createClass({displayName:'BoostedComponentPreviewPanel',propTypes:{values:n.object,helpText:n.string},_renderRow:function(p,q){return (i.createElement('div',{className:"_56up",key:p},i.createElement(k,{className:"_56uq"},p),i.createElement('div',{className:"_56ur"},q)));},_getSection:function(){var p=[],q=this.props.values;if(q)for(var r in q)p.push(this._renderRow(r,q[r]));return p;},_renderHelpText:function(){if(!this.props.helpText)return null;return (i.createElement('div',{className:"_5su6"},i.createElement('div',{className:"_5su7"},i.createElement(j,{ref:'tipIcon',src:m('images/components/HelpLink/info.png')})),i.createElement(k,{className:"_5su8"},this.props.helpText)));},render:function(){return (i.createElement(h,null,i.createElement('div',null,this._getSection(),this._renderHelpText())));}});f.exports=o;},null);
__d('BoostedComponentRadiusEditor.react',['AdsRadiusSelector.react','BoostedComponentLabeledEditor.react','ImmutableObject','React','arrayContains','invariant','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=k.PropTypes,p=o.shape({unit:o.string.isRequired,value:o.number.isRequired}),q=k.createClass({displayName:'BoostedComponentRadiusEditor',propTypes:{className:o.string,radius:p.isRequired,onChange:o.func.isRequired},render:function(){!l(['mile','kilometer'],this.props.radius.unit)?m(0):undefined;return (k.createElement(i,{className:this.props.className,label:n._("Radius")},this._renderSelector()));},_onChange:function(r){this.props.onChange(new j({unit:r.unit,value:r.radius}));},_renderSelector:function(){var r=this.props.radius;return (k.createElement(h,{distanceUnit:r.unit,radius:r.value,size:'large',onRadiusChangeRequested:this._onChange}));}});q.RadiusShape=p;f.exports=q;},null);
__d('BoostedComponentSectionSubheader.react',['AYMTClientSideLogging','AYMTClientSideRenderingParam','AYMTTipSettings','DOMContainer.react','React','XUINotice.react','adsGKCheck','cx','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.PropTypes,r=l.createClass({displayName:'BoostedComponentSectionSubheader',propTypes:{bestTip:q.object,errors:q.array,link:q.object},getDefaultProps:function(){return {margin:"_3-8u"};},getInitialState:function(){return {showTip:true};},render:function(){if(this._hasErrors()){return (l.createElement(m,{className:"_2jld",size:'small',use:'warn'},this._getErrorMessages()));}else if(this.state.showTip&&this.props.bestTip&&(n('aymt_boosted_component_targeting_tips')||n('aymt_boosted_component_payments_section_tips'))){this._logImpression();var s=this.props.bestTip[i.CLIENT_SIDE_RENDERING_SPEC][i.TIP_BODY];return (l.createElement(m,{className:"_2jld",size:'small',onDismiss:this._dismissTip},l.createElement(k,null,s)));}return l.createElement('div',null);},_logImpression:function(){!this.props.bestTip?p(0):undefined;var s=this.props.bestTip[j.TIP_ID],t=this.props.bestTip[j.CHANNEL_ID];h.logImpression(s,t);},_dismissTip:function(){!this.props.bestTip?p(0):undefined;var s=this.props.bestTip[j.TIP_ID],t=this.props.bestTip[j.CHANNEL_ID];h.logXout(s,t);this.setState({showTip:false});},_hasErrors:function(){return !!(this.props.errors&&this.props.errors.length>0);},_getErrorMessages:function(){if(!this.props.errors)return [];var s=this.props.errors.map((function(t){if(this.props.link)return l.createElement('span',null,t,' ',this.props.link);return t;}).bind(this));if(s.length>1)return s.map(function(t,u){return l.createElement('li',{key:'error_'+u},t);});return s.map(function(t,u){return l.createElement('div',{key:'error_'+u},t);});}});f.exports=r;},null);
__d('AdsTargetingGenderSelector.react',['AdInterfacesUiLogger','BoostedComponentClientEvent','BoostedComponentTestElement','AdsTargetingConstants','XUIButton.react','XUIRadioButtonGroup.react','React','ReactComponentWithPureRenderMixin','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=n.PropTypes,s=n.createClass({displayName:'AdsTargetingGenderSelector',mixins:[o],propTypes:{cfSection:r.string,initialGender:r.number,selectedUse:r.string,onDataUpdate:r.func.isRequired},getDefaultProps:function(){return {initialGender:k.GENDERS.All,selectedUse:'confirm'};},_onClick:function(t){this.props.onDataUpdate(i.UPDATE_GENDER,t);h.log('gender_selector_active_state_change',{active_state:t,cf_section:this.props.cfSection});},render:function(){var t="_5v_d",u=q._("All"),v=q._("Men"),w=q._("Women");return (n.createElement('div',{className:t,'data-testid':j.GENDER_SELECTOR},n.createElement(m,{selectedDepressed:this.props.selectedDepressed,selectedUse:this.props.selectedUse,selectedValue:this.props.initialGender,onValueChange:this._onClick},n.createElement(l,{label:u,size:this.props.size,type:'button',value:k.GENDERS.All}),n.createElement(l,{label:v,size:this.props.size,type:'button',value:k.GENDERS.Men}),n.createElement(l,{label:w,size:this.props.size,type:'button',value:k.GENDERS.Women}))));}});f.exports=s;},null);
__d('AdsTargetingGeoLocationSelector.react',['AdsCountries','AdsLocationTokenizer.react','BoostedComponentClientEvent','React','SearchableEntry','XUIGrayText.react','cx','fbt','intlList'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=k.PropTypes,r=k.createClass({displayName:'AdsTargetingGeoLocationSelector',propTypes:{entries:q.arrayOf(q.instanceOf(l)).isRequired,onDataUpdate:q.func.isRequired,defaultLocations:q.arrayOf(q.instanceOf(l)),searchSourceOptions:q.object},getDefaultProps:function(){return {entries:[]};},getInitialState:function(){var s=this.props.defaultLocations,t=[];if(s)for(var u=0;u<s.length;++u)t.push(s[u].getTitle());return {hasTokens:!!this.props.entries.length,entries:this.props.entries,defaultLocationNames:t};},onDataUpdate:function(s){this.setState({hasTokens:!!s.length,entries:s});this.props.onDataUpdate(j.UPDATE_BROAD_GEO_LOCATIONS,s);},_getGeoLocationTokenizer:function(){return (k.createElement(i,{countries:h.countries,entries:this.state.entries,searchSourceOptions:this.props.searchSourceOptions,onChange:this.onDataUpdate}));},_getWarningMessage:function(){var s=null,t="mts"+(this.state.hasTokens?' '+"hidden_elem":'');if(!this.state.defaultLocationNames.length){s=o._("Add a country, county\/region, city.");}else s=o._("If left blank, your advert will be delivered to {list_of_countries}",[o.param('list_of_countries',p(this.state.defaultLocationNames,p.CONJUNCTIONS.AND))]);return (k.createElement('div',{className:t},k.createElement(m,null,s)));},render:function(){return (k.createElement('div',{className:this.props.className},k.createElement('div',{className:"_5tpn"},this._getGeoLocationTokenizer(),this._getWarningMessage())));}});f.exports=r;},null);
__d('AdsTargetingKeywordSuggestions.react',['React','XUIText.react','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'AdsTargetingKeywordSuggestions',propTypes:{suggestions:k.array.isRequired,onSuggestionClick:k.func},render:function(){var m=this.props.suggestions.map(function(n,o){return (h.createElement('li',{className:"_5c5m",key:o},h.createElement('a',{'data-testid':'interest_suggestion_'+o.toString(),href:'#',onClick:this.handleClick.bind(null,n)},h.createElement(i,{size:'small'},n.text))));},this);return (h.createElement('ul',null,m));},handleClick:function(m){if(!this.props.onSuggestionClick)return;this.props.onSuggestionClick(m);}});f.exports=l;},null);
__d('AdsTargetingKeywordTypeahead.react',['AdInterfacesUiLogger','AdsSBTokenizerConstants','AdsTargetingAdmarketKeywordCategory','AdsTargetingTokenizer.react','BoostedComponentClientEvent','AdsTargetingConstants','React','SearchableEntry','TypeaheadMetricReporter','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=n.PropTypes,s=n.createClass({displayName:'AdsTargetingKeywordTypeahead',propTypes:{accountID:r.string.isRequired,initialEntries:r.array,maxEntries:r.number,smallInput:r.bool,uniqueID:r.string.isRequired,onDataUpdate:r.func.isRequired},getDefaultProps:function(){return {maxEntries:m.MAX_KEYWORDS_ENTRIES};},componentWillMount:function(){var t={event_name:'ads_targeting',event_specific_data:{context:i.TOKENIZER_TYPES.INTERESTS+'_typeahead',ref:this.props.uniqueID,ad_account_id:this.props.accountID}};this._searchMetricReporter=new p(t);},componentWillUnmount:function(){delete this._searchMetricReporter;},_onDataUpdate:function(t,u){this.props.onDataUpdate(l.UPDATE_INTERESTS,t);},_onDataAdd:function(t){this._logUIEvent(t,this.props.uniqueID+'_select_from_typeahead');},_onDataRemove:function(t){this._logUIEvent(t,this.props.uniqueID+'_remove_from_typeahead');},_logUIEvent:function(t,u){var v={fbid:t.id||t.getUniqueID(),name:t.getTitle(),type:t.type||t.getType(),position:t.order||t.getOrder()};h.log(u,v);},render:function(){var t={kw_filter:[j.KEYWORD_CATEGORY_WIKI],max_results:this.props.maxEntries,show_coverage:false,kw_as_value:false,no_wiki_hashtag:true,use_unified_interests:true},u=q._("Add 4\u201310 interests...");return (n.createElement('div',null,n.createElement(k,{'data-testid':'interest_token',entries:this.props.initialEntries,metricReporter:this._searchMetricReporter,placeholder:u,queryData:t,smallInput:this.props.smallInput,uri:m.KEYWORD_URI,onDataAdd:this._onDataAdd,onDataRemove:this._onDataRemove,onDataUpdate:this._onDataUpdate})));}});f.exports=s;},null);
__d('AdsTargetingKeywordSelector.react',['AdsTargetingConstants','AdsTargetingKeywordSuggestions.react','AdsTargetingKeywordTypeahead.react','BoostedComponentClientEvent','CurrentLocale','React','SearchableEntry','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=m.PropTypes,q=m.createClass({displayName:'AdsTargetingKeywordSelector',_tokenizerEntries:[],propTypes:{accessToken:p.string.isRequired,accountID:p.string.isRequired,initialEntries:p.array,maxEntries:p.number,primedDao:p.object,smallInput:p.bool,uniqueID:p.string.isRequired,onDataUpdate:p.func.isRequired},getDefaultProps:function(){return {initialEntries:[]};},getInitialState:function(){return {suggestions:[],entries:this.props.initialEntries};},_initializeSelector:function(r){this._tokenizerEntries=r.initialEntries;this._fetchSuggestions(this._getKeywordTokens(r.initialEntries));},componentWillMount:function(){if(!this.props.initialEntries.length)return;this._initializeSelector(this.props);},componentWillReceiveProps:function(r){this._initializeSelector(r);if(r.initialEntries)this.setState({entries:r.initialEntries});},_updateSuggestions:function(r){this.setState({suggestions:r});},_onDataUpdate:function(r,s){this._fetchSuggestions(this._getKeywordTokens(s));this._tokenizerEntries=s;this.props.onDataUpdate(r,s);},_handleSuggestionClick:function(r){var s=r.id,t=new n({uniqueID:s,title:r.text});this._tokenizerEntries.push(t);this._onDataUpdate(k.UPDATE_INTERESTS,this._tokenizerEntries);},_fetchSuggestions:function(r){this._fetchInterestSuggestions(r);},_fetchInterestSuggestions:function(r){if(!this.props.primedDao||!r.length){this._updateSuggestions([]);return;}this.props.primedDao.fetch.adInterestSuggestion.one(this._renderKeywordSuggestions,{interest_list:r,offset:0,include_algorithm:false,limit:2*h.MAX_KEYWORDS_SUGGESTIONS,locale:l.get(),access_token:this.props.accessToken});},_getKeywordTokens:function(r){var s=[],t=r.length;for(var u=0;u<t;u++)s.push(r[u].getTitle());return s;},_renderKeywordSuggestions:function(r){if(!r||!r.length){r=[];}else r=r.filter(function(s){if(!s.name)return false;s.text=s.uid=s.name;if(s.text.charAt(0)=='#')s.text=s.text.slice(1);return true;}).slice(0,h.MAX_KEYWORDS_SUGGESTIONS);this._updateSuggestions(r);},render:function(){var r="mts"+(!this.state.suggestions?' '+"hidden_elem":'');return (m.createElement('div',null,m.createElement(j,{accountID:this.props.accountID,initialEntries:this.state.entries,maxEntries:this.props.maxEntries,smallInput:this.props.smallInput,uniqueID:this.props.uniqueID,onDataUpdate:this._onDataUpdate}),m.createElement('div',{className:r},m.createElement(i,{suggestions:this.state.suggestions,onSuggestionClick:this._handleSuggestionClick}))));}});f.exports=q;},null);
__d('BoostedComponentTargetingEditor.react',['AdsAgeSelector.react','AdsCallToActionUtils','AdsCountries','AdsLoadState','AdsTargetingAreaView','AdsTargetingGeoLocationSelector.react','AdsTargetingGenderSelector.react','AdsTargetingKeywordSelector.react','AdsUtils','ApiCallToActionFields','CallToActionValueFields','LocationConstants','Set','BoostedComponentAppID','BoostedComponentContent.react','BoostedComponentCustomLocationEditor.react','BoostedComponentGeoLocationType','BoostedComponentGeoLocationTypeSelector.react','BoostedComponentGeoTargetLevel','BoostedComponentLabeledEditor.react','BoostedComponentSectionSubheader.react','BoostedComponentStrings','BoostedComponentTargetingViewActions','BoostedPrimedDao','React','SearchableEntry','cx','getByPath','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){'use strict';if(c.__markCompiled)c.__markCompiled();var ka=fa.PropTypes,la=[q.VALUE,r.LINK];function ma(oa,pa){return l.updateFromCustomLocationSpec(undefined,oa,pa);}var na=fa.createClass({displayName:'BoostedComponentTargetingEditor',propTypes:{accessToken:ka.string.isRequired,accountID:ka.string.isRequired,allowLocalTargeting:ka.bool,appID:ka.string.isRequired,audienceSize:ka.number,blacklistCountries:ka.array,callToAction:ka.object,customLocation:ka.object,errors:ka.array,gender:ka.number.isRequired,geoLocationType:ka.string.isRequired,initialCustomLocation:ka.object,interests:ka.array,locations:ka.array,maxAge:ka.number.isRequired,maxReachPossible:ka.number.isRequired,maxSelectableAge:ka.number.isRequired,minAge:ka.number.isRequired,minSelectableAge:ka.number.isRequired,pageIconURL:ka.string,shouldEdit:ka.bool.isRequired,showLoadingIndicator:ka.bool.isRequired,showReachWarning:ka.bool,targetingViewActions:ka.instanceOf(da).isRequired,whitelistCountries:ka.array},getInitialState:function(){return {mapSize:undefined};},_getAgeSelector:function(){return (fa.createElement(aa,{className:"_3pci",label:ca.AGE},fa.createElement(h,{initialMaxAge:this.props.maxAge,initialMinAge:this.props.minAge,maxSelectableAge:this.props.maxSelectableAge,minSelectableAge:this.props.minSelectableAge,size:'xlarge',onDataUpdate:(function(event,oa){this.props.targetingViewActions.updateAge(oa);}).bind(this)})));},_getGenderSelector:function(){return (fa.createElement(aa,{label:ca.GENDER},fa.createElement(n,{initialGender:this.props.gender,selectedDepressed:true,selectedUse:'default',size:'xlarge',onDataUpdate:(function(event,oa){this.props.targetingViewActions.updateGender(oa);}).bind(this)})));},_getInterestsSelector:function(){if(this.props.appID===u.BOOSTED_LOCAL_AWARENESS)return null;var oa=this._getInterestEntries(this.props.interests);return (fa.createElement(aa,{label:ca.INTERESTS,tooltip:ca.INTERESTS_TOOLTIP},fa.createElement(o,{accessToken:this.props.accessToken,accountID:this.props.accountID,initialEntries:oa,primedDao:ea.getDaoForCurrentAccount(),smallInput:true,uniqueID:'boosted_component',onDataUpdate:(function(event,pa){this.props.targetingViewActions.updateInterests(pa);}).bind(this)})));},_getBroadGeoLocationSelector:function(){switch(this.props.appID){case u.BOOSTED_LOCAL_AWARENESS:return null;case u.BOOSTED_CCTA:case u.BOOSTED_WEBSITE:if(this.props.geoLocationType===x.LOCAL_GEO_LOCATION)return null;break;}var oa=this._getLocationEntries(this.props.locations),pa=this._getLocationEntries(this.props.defaultLocations),qa={allowedCountryList:this.props.whitelistCountries,disallowedCountryList:this.props.blacklistCountries,disallowedLocationTypes:new t([s.ZIPS,s.CUSTOM_LOCATIONS])};return (fa.createElement(aa,{label:ca.LOCATION,tooltip:ca.LOCATION_TOOLTIP},fa.createElement(m,{defaultLocations:pa,entries:oa,searchSourceOptions:qa,onDataUpdate:(function(event,ra){this.props.targetingViewActions.updateBroadGeoLocations(ra);}).bind(this)})));},_getGeoLocationTypeSelector:function(){if(!this.props.allowLocalTargeting)return null;return (fa.createElement(aa,{label:ca.TARGET_AUDIENCE},fa.createElement(y,{geoLocationType:this.props.geoLocationType,onDataUpdate:(function(event,oa){this.props.targetingViewActions.updateGeoLocationType(oa);}).bind(this)})));},_getInterestEntries:function(oa){if(!oa)return [];var pa=[],qa=oa.length;for(var ra=0;ra<qa;++ra)pa.push(new ga({uniqueID:oa[ra].id,title:oa[ra].name}));return pa;},_getLocationEntries:function(oa){if(!oa||oa.length===0)return [];var pa=[],qa=oa.length;for(var ra=0;ra<qa;++ra)if(!p.isObject(oa[ra])){pa.push(new ga({uniqueID:oa[ra],title:j.countries[oa[ra]],type:z.COUNTRIES,auxiliaryData:{key:oa[ra],name:j.countries[oa[ra]],country_code:oa[ra],type:z.COUNTRIES}}));}else pa.push(new ga({uniqueID:oa[ra].key,title:oa[ra].name,type:oa[ra].type,auxiliaryData:{key:oa[ra].key,name:oa[ra].name,country_code:oa[ra].country,region:oa[ra].region,region_id:oa[ra].region_id,radius:oa[ra].radius,type:oa[ra].type,distance_unit:oa[ra].distance_unit}}));return pa;},_getCustomLocationEditor:function(){switch(this.props.appID){case u.BOOSTED_LOCAL_AWARENESS:break;case u.BOOSTED_CCTA:case u.BOOSTED_WEBSITE:if(this.props.geoLocationType===x.BROAD_GEO_LOCATION)return null;break;default:return null;}var oa=this.props.customLocation;!oa?ja(0):undefined;var pa=this.props.initialCustomLocation,qa=pa&&(pa.address_string!==oa.address_string||pa.name!==oa.name)?this._onCustomLocationAddressReset:undefined,ra={loadState:this.props.showLoadingIndicator?k.LOADING:k.LOADED,value:this.props.audienceSize};return (fa.createElement(w,{address:oa.address_string||oa.name,areaView:ma(oa,this.state.mapSize),audienceSettings:{gender:this.props.gender,maxAge:this.props.maxAge,maxSelectableAge:this.props.maxSelectableAge,minAge:this.props.minAge,minSelectableAge:this.props.minSelectableAge},audienceSize:ra,locationCoordinates:this._getCTALocationCoordinates(),locationIconURL:this.props.pageIconURL,maxReachPossible:this.props.maxReachPossible,radius:{unit:oa.distance_unit,value:oa.radius},showReachWarning:this.props.showReachWarning,onAddressResetRequest:qa,onAreaCenterChange:this._onCustomLocationAreaCenterChange,onMapSizeSettled:this._onCustomLocationMapSizeSettled,onRadiusChange:this._onCustomLocationRadiusChange}));},_getCTALocationCoordinates:function(){if(!this.props.callToAction)return;var oa=ia(this.props.callToAction,la);if(!oa)return;var pa=i.parseGeoLink(oa);if(pa)return pa.coordinates;},_onCustomLocationAddressReset:function(){this.props.targetingViewActions.updateCustomLocation(p.clone(this.props.initialCustomLocation));},_onCustomLocationAreaCenterChange:function(oa){this.props.targetingViewActions.updateCustomLocation(babelHelpers._extends({},this.props.customLocation,{address_string:undefined,name:undefined,latitude:oa.latitude,longitude:oa.longitude}));},_onCustomLocationRadiusChange:function(oa){this.props.targetingViewActions.updateCustomLocation(babelHelpers._extends({},this.props.customLocation,{radius:oa.value,distance_unit:oa.unit}));},_onCustomLocationMapSizeSettled:function(oa){this.setState({mapSize:oa});},render:function(){return (fa.createElement('div',null,fa.createElement(ba,{errors:this.props.errors}),fa.createElement(v,null,this._getGeoLocationTypeSelector()),this._getCustomLocationEditor(),fa.createElement(v,null,this._getBroadGeoLocationSelector(),this._getInterestsSelector(),this._getAgeSelector(),this._getGenderSelector())));}});f.exports=na;},null);
__d('BoostedComponentVideoSelector.react',['BUIProgressBar.react','BoostedComponentVideoLibrarySelector.react','BoostedComponentVideoSource','CloseButton.react','FileInput.react','Image.react','XUIButton.react','AdsVideoUploadStatus','BoostedComponentStrings','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=q.PropTypes,v=q.createClass({displayName:'BoostedComponentVideoSelector',propTypes:{onCancelUpload:u.func.isRequired,onRemove:u.func.isRequired,onVideoPickerConfirm:u.func.isRequired,onVideoUploadClick:u.func.isRequired,selectedVideoName:u.string,uploadProgressValue:u.number.isRequired,uploadStatus:u.string.isRequired,videoLibrary:u.array.isRequired,videoSource:u.string},render:function(){switch(this.props.uploadStatus){case o.NONE:if(!this.props.selectedVideoName)return this._renderFilePicker();return this._renderSelectedVideo();case o.UPLOADING:case o.ENCODING:return this._renderProgressBar();default:return null;}},_renderFilePicker:function(){return (q.createElement('div',null,q.createElement(l,{accept:'video/*',onChange:this.props.onVideoUploadClick},q.createElement(n,{className:"_3-90",href:{url:'#'},label:p.CREATIVE_VIDEO_UPLOAD_BUTTON,size:'large'})),q.createElement(i,{videoLibrary:this.props.videoLibrary,onVideoPickerConfirm:this.props.onVideoPickerConfirm})));},_renderProgressBar:function(){var w=Number(this.props.uploadProgressValue);return (q.createElement('div',{className:"_2i40"},q.createElement(h,{className:"_5e6e",isBuffering:this.props.uploadStatus===o.ENCODING,percentage:w*100}),q.createElement(k,{'aria-label':s._("Cancel Upload"),className:"_58zx",size:'small',onClick:this.props.onCancelUpload})));},_renderSelectedVideo:function(){var w=null;switch(this.props.videoSource){case j.UPLOAD:w=p.getVideoUploadSuccessText(this.props.selectedVideoName);break;case j.BROWSE_LIBRARY:case j.PRELOAD_VIDEO:w=p.getVideoSelectedText(this.props.selectedVideoName);break;default:}return (q.createElement('div',{className:"_2i41"},q.createElement('div',{className:"_2i42"},q.createElement(m,{className:"_3vfj",src:t('/images/icons/check_mark.gif')}),w),q.createElement(k,{'aria-label':s._("Remove video"),className:"_58zx",size:'small',onClick:this.props.onRemove})));}});f.exports=v;},null);
__d('AdsUiImage.react',['Image.react','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=i.PropTypes,k=i.createClass({displayName:'AdsUiImage',propTypes:{fixedHeight:j.number.isRequired,realHeight:j.number.isRequired,realWidth:j.number.isRequired,src:j.string,visibleHeight:j.number,visibleWidth:j.number},render:function(){var l=this.props.visibleWidth||this.props.realWidth,m=this.props.visibleHeight||this.props.realHeight,n=this.props.fixedHeight/m,o={height:this.props.fixedHeight,overflow:'hidden',width:l*n};return (i.createElement('div',babelHelpers._extends({},this.props,{style:babelHelpers._extends({},this.props.style||{},o)}),i.createElement(h,{height:this.props.realHeight*n,src:this.props.src,width:this.props.realWidth*n})));}});f.exports=k;},null);
__d('BoostedComponentVideoThumbnails.react',['AdsArrowedCarousel.react','AdsSelected.react','AdsUiImage.react','BoostedComponentImageLibrarySelector.react','BoostedComponentStrings','CenteredContainer.react','Layout.react','Link.react','curry','cx','joinClasses','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=n.Column,u=n.FillColumn,v=s.PropTypes,w=s.createClass({displayName:'BoostedComponentVideoThumbnails',propTypes:{selectedVideoThumbnails:v.array.isRequired,selectedThumbnail:v.object,onThumbnailClick:v.func.isRequired,accountID:v.string.isRequired},render:function(){var x=s.createElement(o,null,s.createElement(i,{isSelected:false},s.createElement(m,{className:"_2pnt",vertical:true},s.createElement(j,{fixedHeight:24,realHeight:24,realWidth:24,src:'/images/ads/mediapanel/thumbnailPicker-plus.png'}),l.CREATIVE_VIDEO_CUSTOM_THUMBNAIL)));return (s.createElement('div',{className:"_576r"},s.createElement(t,null,s.createElement(k,{accountID:this.props.accountID,className:r("_3-99","_3-90"),clickableTrigger:x,onImageSelected:this.props.onThumbnailClick})),s.createElement(n,null,s.createElement(u,null,s.createElement(h,{className:"_3-96"},this.props.selectedVideoThumbnails.map(this._renderThumbnail))))));},_renderThumbnail:function(x,y){var z=false;if(this.props.selectedThumbnail)z=x.id===this.props.selectedThumbnail.id;return (s.createElement(i,{isSelected:z,key:'thumbnail_'+y},s.createElement(o,{onClick:p(this.props.onThumbnailClick,x)},s.createElement(j,{fixedHeight:80,key:y,realHeight:x.height,realWidth:x.width,src:x.uri}))));}});f.exports=w;},null);
__d('BoostedComponentVideoPanel.react',['BoostedComponentVideoSelector.react','BoostedComponentVideoThumbnails.react','AdsVideoUploadStatus','BoostedComponentStrings','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'BoostedComponentVideoPanel',propTypes:{accountID:n.string.isRequired,onCancelUpload:n.func.isRequired,onRemove:n.func.isRequired,onThumbnailClick:n.func.isRequired,onVideoPickerConfirm:n.func.isRequired,onVideoUploadClick:n.func.isRequired,selectedThumbnail:n.object,selectedVideoName:n.string,selectedVideoThumbnails:n.array.isRequired,switchColumn:n.bool,uploadProgressValue:n.number.isRequired,uploadStatus:n.string.isRequired,videoLibrary:n.array.isRequired,videoSource:n.string},render:function(){var p=null,q=this.props.uploadStatus===j.NONE&&this.props.selectedVideoName,r="_40rp"+(!q?' '+"_40rq":'');if(q)p=l.createElement(i,{accountID:this.props.accountID,selectedThumbnail:this.props.selectedThumbnail,selectedVideoThumbnails:this.props.selectedVideoThumbnails,switchColumn:this.props.switchColumn,onThumbnailClick:this.props.onThumbnailClick});return (l.createElement('div',null,l.createElement('div',{className:"_3-8y"},l.createElement('div',{className:"_40rp"},k.CREATIVE_VIDEO_STEP_ONE),l.createElement(h,{selectedVideoName:this.props.selectedVideoName,uploadProgressValue:this.props.uploadProgressValue,uploadStatus:this.props.uploadStatus,videoLibrary:this.props.videoLibrary,videoSource:this.props.videoSource,onCancelUpload:this.props.onCancelUpload,onRemove:this.props.onRemove,onVideoPickerConfirm:this.props.onVideoPickerConfirm,onVideoUploadClick:this.props.onVideoUploadClick})),l.createElement('div',{className:"_3-8y"},l.createElement('div',{className:r},k.CREATIVE_VIDEO_STEP_TWO),p)));}});f.exports=o;},null);
__d('AdsAdAccountSelector.react',['AdsTargetingTogglerSafeMixin','BoostedComponentClientEvent','React','XUISelector.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=k.Option,n=j.PropTypes,o=j.createClass({displayName:'AdsAdAccountSelector',mixins:[h],propTypes:{accounts:n.object.isRequired,fontSize:n.number,maxWidth:n.number,onDataUpdate:n.func.isRequired,selectedAccount:n.string.isRequired,size:n.oneOf(['small','medium','large','xlarge','xxlarge']),width:n.number},getDefaultProps:function(){return {size:'medium'};},getInitialState:function(){return {selectedAccount:this.props.selectedAccount};},componentWillReceiveProps:function(p){this.setStateSafe(p);},_onDataUpdate:function(p){this.setStateSafe({selectedAccount:p.value});this.props.onDataUpdate(i.UPDATE_ACCOUNT,p.value);},_getAccountOptions:function(){var p=[],q=this.props.accounts,r={fontSize:this.props.fontSize,width:this.props.width};for(var s in q)p.push(j.createElement(m,{key:s,value:s},j.createElement('div',{style:r},l._("{account_name} ({account_id}, {account_currency})",[l.param('account_name',q[s].name),l.param('account_id',s),l.param('account_currency',q[s].currency)]))));return p;},render:function(){return (j.createElement(k,{maxheight:200,maxwidth:this.props.maxWidth,size:this.props.size,value:this.state.selectedAccount,onChange:this._onDataUpdate},this._getAccountOptions()));}});f.exports=o;},null);
__d('AdsChangeCurrencyWarnBox.react',['AdsCFBox.react','Currency','fbt','Link.react','React','URI'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'AdsChangeCurrencyWarnBox',propTypes:{currency:n.string.isRequired,helpLink:n.string,isBRLCurrencySwapMessage:n.bool},render:function(){if(this.props.isBRLCurrencySwapMessage)return (l.createElement(h,{type:'yellow'},j._("Because you've selected Brazil as your account country, your payments will be processed in Brazilian Real (BRL). You'll see your payments in {currency ISO code} on Facebook, but your bank may show BRL.",[j.param('currency ISO code',i.getName(this.props.currency))])));return (l.createElement(h,{type:'yellow'},j._("Payments made in {currency name} ({currency ISO code}) will now be processed in US Dollars (USD). You'll see your payments in {currency ISO code}, but your bank statement may show USD. {=Learn more}.",[j.param('currency name',i.getName(this.props.currency)),j.param('currency ISO code',this.props.currency),j.param('=Learn more',l.createElement(k,{href:new m(this.props.helpLink)},j._("Learn More")))])));}});f.exports=o;},null);
__d('AdsCurrencySelector.react',['CurrencyConfig','AdsSwapChargeCurrency','AdsTargetingTogglerSafeMixin','BoostedComponentClientEvent','React','XUISelector.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=m.Option,p=l.PropTypes,q=l.createClass({displayName:'AdsCurrencySelector',mixins:[j],propTypes:{fontSize:p.number,maxWidth:p.number,onDataUpdate:p.func.isRequired,selectedCurrency:p.string.isRequired,showISOCode:p.bool,size:p.oneOf(['small','medium','large','xlarge','xxlarge']),width:p.number},getDefaultProps:function(){return {showISOCode:false,size:'medium'};},getInitialState:function(){return {selectedCurrency:this.props.selectedCurrency};},componentWillReceiveProps:function(r){this.setStateSafe(r);},_onDataUpdate:function(r){this.setStateSafe({selectedCurrency:r.value});this.props.onDataUpdate(k.UPDATE_CURRENCY,r.value);},_getSortedCurrencies:function(){return h.adsCurrencyCodes.map(function(r){return h.adsCurrenciesByCode[r];}).sort(function(r,s){return r.name.localeCompare(s.name);});},_getWarnbox:function(){var r=i.renderWarnbox(this.state.selectedCurrency);if(r&&this.state.selectedCurrency!=='BRL')return (l.createElement('div',{className:"_3-8y"},r));return null;},_getCurrencyString:function(r,s){if(this.props.showISOCode)return r+" ("+s+") ";return r;},render:function(){var r=this._getSortedCurrencies(),s=r.length,t={fontSize:this.props.fontSize,width:this.props.width},u=[];for(var v=0;v<s;v++)u.push(l.createElement(o,{key:r[v].iso,value:r[v].iso},l.createElement('div',{style:t},this._getCurrencyString(r[v].name,r[v].iso))));return (l.createElement('div',null,l.createElement(m,{maxheight:200,maxwidth:this.props.maxWidth,size:this.props.size,value:this.state.selectedCurrency,onChange:this._onDataUpdate},u),this._getWarnbox()));}});f.exports=q;},null);
__d('AdsPaymentInfo.react',['AdsPaymentName','Link.react','React','URI','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'AdsPaymentInfo',propTypes:{adAccountInfo:n.shape({id:n.string,hasFundingSource:function(p,q,r){!p[q]?m(0):undefined;}}).isRequired},getPaymentLink:function(){if(this.props.adAccountInfo.isPrepayAccount)return null;var p=new k('/ads/manage/funding.php').addQueryData('act',this.props.adAccountInfo.id);return (j.createElement(i,{href:p,target:'_blank'},l._("Change")));},render:function(){return (j.createElement('div',null,h.getPaymentName(this.props.adAccountInfo,true),j.createElement('span',{className:'mls'},this.getPaymentLink())));}});f.exports=o;},null);
__d('BoostedComponentSection.react',['LeftRight.react','React','XUICard.react','XUICardSection.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=i.createClass({displayName:'BoostedComponentSection',propTypes:{headerLink:n.object,isFirstSection:n.bool,title:n.string},render:function(){var p="_2f3o"+(!this.props.isFirstSection?' '+"_49hu":'');return (i.createElement(j,{className:p},this._getHeader(),i.createElement(k,{className:m(this.props.className,"_2hgz")},this.props.children)));},_getHeader:function(){if(!this.props.title)return null;return (i.createElement('div',{className:"_144t"},i.createElement(h,null,this.props.title,this.props.headerLink)));}});f.exports=o;},null);
__d('BoostedComponentAdAccountSection.react',['AdsAdAccountSelector.react','AdsCurrencySelector.react','AdsPaymentInfo.react','AdsPixelViewActions','BoostedComponentAdAccountViewActions','BoostedComponentConfig','BoostedComponentContent.react','BoostedComponentSection.react','BoostedComponentStrings','BoostedComponentLabeledEditor.react','React','SubscriptionsHandler','XUIText.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=r.PropTypes,v=r.createClass({displayName:'BoostedComponentAdAccountSection',propTypes:{config:u.instanceOf(m).isRequired},componentWillMount:function(){var w=this.props.config;this._adAccountViewActions=new l(w.getDispatcher());this._subscriptions=new s();this._subscriptions.addSubscriptions(w.getAdAccountStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)),w.getAdStatusStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},render:function(){return (r.createElement(o,{isFirstSection:false,title:p.PAYMENT_INFO_SECTION},r.createElement(n,null,this._getCurrencySelector(),this._getAccountSelector(),this._getPaymentInfoSection())));},_getCurrencySelector:function(){var w=this.props.config.getAdAccountStore();if(!w.canUpdateSelectedAccountCurrency())return null;return (r.createElement(q,{label:p.CURRENCY_SECTION,shade:'dark'},r.createElement(i,{selectedCurrency:w.getSelectedAccountCurrency(),onDataUpdate:(function(event,x){this._adAccountViewActions.updateCurrency(x);}).bind(this)})));},_getAccountSelector:function(){var w=this.props.config.getAdAccountStore();if(Object.keys(w.getAllAccounts()).length<=1)return null;if(this.props.config.getAdStatusStore().getShouldEdit()){var x=w.getAllAccounts();return (r.createElement(q,{label:p.ACCOUNT_SECTION,shade:'dark'},r.createElement(t,null,x[w.getSelectedAccountID()].name)));}return (r.createElement(q,{label:p.ACCOUNT_SECTION,shade:'dark'},r.createElement(h,{accounts:w.getAllAccounts(),selectedAccount:w.getSelectedAccountID(),onDataUpdate:(function(event,y){this._adAccountViewActions.updateAccount(y);k.resetPixelList();}).bind(this)})));},_getPaymentInfoSection:function(){var w=this.props.config.getAdAccountStore();if(!w.getSelectedAccountHasFundingSource())return null;return (r.createElement(q,{label:p.PAYMENT_METHOD_SECTION,shade:'dark'},r.createElement(j,{adAccountInfo:w.getSelectedAccountPaymentInfo()})));}});f.exports=v;},null);
__d('BoostedComponentAdStatusSection.react',['React','BoostedActionStatus','BoostedComponentAdStatusSelector.react','BoostedComponentAdStatusViewActions','BoostedComponentConfig','BoostedComponentContent.react','BoostedComponentExperiment','BoostedComponentLabeledEditor.react','BoostedComponentSection.react','BoostedComponentStrings','SubscriptionsHandler','XUIText.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=h.PropTypes,u=h.createClass({displayName:'BoostedComponentAdStatusSection',propTypes:{config:t.instanceOf(l).isRequired},componentWillMount:function(){var v=this.props.config;this._adStatusViewActions=new k(v.getDispatcher());this._subscriptions=new r();this._subscriptions.addSubscriptions(v.getAdStatusStore().subscribe('change',this._updateState));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},getInitialState:function(){return {selectedAdStatus:this.props.config.getAdStatusStore().getSelectedAdStatus()};},_updateState:function(){this.setState({selectedAdStatus:this.props.config.getAdStatusStore().getSelectedAdStatus()});},_getAdStatusSelector:function(){return (h.createElement(j,{adStatusOptions:this._getAdStatusOptions(),selectedAdStatus:this.state.selectedAdStatus,onDataUpdate:(function(v){this._adStatusViewActions.updateAdStatus(v);}).bind(this)}));},_getAdStatusNotice:function(){var v=null;switch(this.state.selectedAdStatus){case i.ACTIVE:v=q.AD_STATUS_ACTIVE_NOTICE;break;case i.PAUSED:v=q.AD_STATUS_PAUSE_NOTICE;break;case i.INACTIVE:v=q.AD_STATUS_DELETE_NOTICE;break;default:}return (h.createElement(s,null,v));},_getAdStatusOptions:function(){return [{value:i.ACTIVE,icon:"/images/adz/ad_states/running.gif"},{value:i.PAUSED,icon:"/images/adz/ad_states/paused.gif"},{value:i.INACTIVE,icon:"/images/adz/ad_states/deleted.gif"}];},render:function(){if(!this.props.config.getAdStatusStore().getShouldEdit())return null;return (h.createElement(p,{isFirstSection:false,title:q.AD_STATUS_SECTION},h.createElement(m,null,h.createElement('div',null,h.createElement(o,{label:q.AD_STATUS_LABEL},this._getAdStatusSelector()),this._getAdStatusNotice()))));}});f.exports=u;},null);
__d('AdsTargetingUtils',['AdsAPICampaignGroupPaths','AdsBulkValueTypesConfig','AdsBulkValueUtils','AdsCommonTargetingUtils','AdsCountriesConfig','AdsCreationConfig','AdsPlacementUtils','BoostedRadiusOptions','AdsTargetingConstants','Map','Set','getByPath','mergeDeep','mergeHelpers','LocationConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=c('LocationConstants').RadiusInfo,w=u.ArrayStrategies,x={getDefaultTargetingAndPlacement:function(z,aa,ba,ca,da){var ea=s(z,h.OBJECTIVE),fa=s(z,h.BUYING_TYPE);return k.getDefaultTargeting(ba,ea,da,s(z,h.PROMOTED_OBJECT.PAGE_ID)).then(function(ga){var ha=n.getDefaultCampaignPlacement(ea,fa,ba.capabilities,aa,ca);return t(ga,ha,w.Clobber);});},getDefaultTargetingSpec:function(){return {age_min:m.minAgeDefault,age_max:m.maxAge,geo_locations:{countries:['US'],location_types:['home','recent']}};},getRadiusOptions:function(){var z=Object.keys(o).map(function(aa){return o[aa];});z=[0].concat(z);return z;},getIsEmbargoedCountry:function(z){if(!z)return false;return l.embargoedCountries.indexOf(z)>-1;},getValidRadius:function(z,aa){var ba=aa?v.getSupportedRadii():x.getRadiusOptions();if(z!=null&&ba.indexOf(z)!==-1)return z;return aa?v.getCityDefaultRadius():p.DEFAULT_RADIUS;},getBulkSentences:function(z){var aa=new q(),ba=new r();z.forEach(function(da){da.sentenceLines.forEach(function(ea){return ba.add(ea.content);});});ba.forEach(function(da){return aa.set(da,[]);});z.forEach(function(da){var ea=y(da.sentenceLines);ba.forEach(function(fa){var ga=aa.get(fa);if(ea.has(fa)){ga.push(ea.get(fa));}else ga.push([]);});});var ca={};aa.forEach(function(da,ea){ca[ea]=j.aggregate(i.UNIFORM_SET_OR_MIXED,da);});return ca;},checkConnectionsConflicts:function(z,aa){var ba=[],ca=new r(z.map(function(da){return da.id;}));aa.forEach(function(da){if(ca.has(da.id))ba.push(da);});return ba;}};function y(z){var aa=new q();z.forEach(function(ba){var ca=ba.content;if(!aa.has(ca))aa.set(ca,[]);var da=aa.get(ca),ea=Array.isArray(ba.children)?ba.children:[ba.children];aa.set(ca,da.concat(ea));});return aa;}f.exports=x;},null);
__d('BoostedPostLocationTargetingSection.react',['AdsTargetingLocationSelector.react','BoostedComponentLeftRightLabeledRow.react','BoostedPostStrings','AdsTargetingConstants','React','XUIGrayText.react','fbt','cx','intlList'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=j.TARGETING_LABELS,r=l.PropTypes,s=l.createClass({displayName:'BoostedPostLocationTargetingSection',propTypes:{onDataUpdate:r.func.isRequired,audienceSelected:r.number.isRequired,initialData:r.object.isRequired,locationSelectorOptions:r.object.isRequired},getInitialState:function(){return {fofSelectorShown:false};},_getInitialLocationTokenizer:function(){switch(this.props.initialData.targetingLevel){case 'countries':return k.LOCATION_TYPES.Countries;case 'regions':return k.LOCATION_TYPES.Regions;case 'cities':return k.LOCATION_TYPES.Cities;default:return null;}},_onShowFofSelector:function(){this.setState({fofSelectorShown:!this.state.fofSelectorShown});},getLocationSelector:function(){if(!this.state.fofSelectorShown&&(this.props.audienceSelected===k.AUDIENCE.Fans||this.props.audienceSelected===k.AUDIENCE.Grouper)){var t=this.props.initialData.targetingLevel?this.props.initialData.targetingLevel:'countries',u=this.props.locationSelectorOptions.targetingLocations[t],v=p(u.map(function(x){return x.getTitle();}));return (l.createElement(i,{label:q.LOCATION},l.createElement('div',{className:"_x05"},l.createElement('div',{className:"_x06"},l.createElement(m,{shade:'medium'},v)),l.createElement('a',{className:"_x07",href:'#',onClick:this._onShowFofSelector},n._("Edit")))));}var w=this.props.locationSelectorOptions;return (l.createElement(i,{label:q.LOCATION},l.createElement(h,{blacklistCountries:w.blacklistCountries,defaultCountries:w.defaultCountries,initialRadius:this.props.initialData.radius,initialTokenizer:this._getInitialLocationTokenizer(),initialTokens:w.targetingLocations,smallInput:true,whitelistCountries:w.whitelistCountries,onDataUpdate:this.props.onDataUpdate})));},render:function(){var t="_1nzr"+(!(this.props.audienceSelected===k.AUDIENCE.Fans||this.props.audienceSelected===k.AUDIENCE.Grouper)?' '+"hidden_elem":'');return (l.createElement('div',{className:t},this.getLocationSelector()));}});f.exports=s;},null);
__d('BoostedPostLookalikeCountrySelector.react',['AdsTargetingTogglerSafeMixin','BoostedComponentClientEvent','XUISelector.react','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=j.Option,m=k.PropTypes,n=k.createClass({displayName:'BoostedPostLookalikeCountrySelector',mixins:[h],propTypes:{defaultCountry:m.string.isRequired,countries:m.object.isRequired,onDataUpdate:m.func.isRequired},getInitialState:function(){return {selected:this.props.defaultCountry};},_onCountryChange:function(o){this.setStateSafe({selected:o.value});this.props.onDataUpdate(i.UPDATE_LOOKALIKE_COUNTRY,o.value);},_getCountryList:function(){var o=[];for(var p in this.props.countries)o.push(k.createElement(l,{value:p},this.props.countries[p]));return o;},render:function(){return (k.createElement(j,{maxheight:200,maxwidth:150,value:this.state.selected,onChange:this._onCountryChange},this._getCountryList()));}});f.exports=n;},null);
__d('BoostedPostAudienceManagerConstants',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={GRAPH_API_VERSION:'2.3',GRAPH_API_VERSION_V2:'2.4',NEW_AUDIENCE_ID:"new",SPECIAL_AUDIENCES:{GROUPER:1,NCPP:2,CUSTOM_AUDIENCE:3,LOOKALIKE:4,ENGAGED:5,FANS:6,PREFERRED_AUDIENCE:7,LAST_USED:101,CREATE_NEW:102,DEFAULT:103,PRIVACY_GATING:104},EDITOR_MODES:{CREATE:0,EDIT:1,DRAFT:2},EDITOR_ACTIONS:{CREATE:1,EDIT:2,DELETE:3},EDITOR_INPUTS:{NAME:1,LOCATIONS:2,AGE:3,GENDER:4,INTERESTS:5,LANGUAGES:6},MESSAGES:{AUDIENCE_SAVED:h._("Audience saved!"),AUDIENCE_UPDATED:h._("Audience updated!"),AUDIENCE_DELETED:h._("Audience deleted!"),CREATE_AUDIENCE_ERROR:h._("Failed to create audience"),UPDATE_AUDIENCE_ERROR:h._("Failed to update audience"),DELETE_AUDIENCE_ERROR:h._("Failed to delete audience"),MUST_SPECIFY_LOCATION:h._("Location must be specified")},LABELS:{AUDIENCE_DETAILS:h._("Audience Details"),AUDIENCE:h._("Audience"),NAME:h._(["Name","36622a3864e1583545ad3e67fb35259c"])},MAX_NAME_LENGTH:40,DEFAULT_NAME_INITIAL_NUMBER:1};f.exports=i;},null);
__d('BoostedPostTargetingController',['Promise','AdsDaoGraph','BoostedPostAudienceManagerConstants','BoostedComponentConstants','BoostedPostAppConfig','BoostedPostLogging','BoostedPostEventType','AdsTargetingConstants','CustomAudienceDeliveryStatus','GraphAPI','GraphAPIPaging','adsGKCheck','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();function u(v,w,x){this.$BoostedPostTargetingController1=v;this.$BoostedPostTargetingController2=w;this.$BoostedPostTargetingController3=x;this.$BoostedPostTargetingController4=i.primedForAccount(v);this.$BoostedPostTargetingController5=q(s(k.GK_ADS_API_V2_4)?j.GRAPH_API_VERSION_V2:j.GRAPH_API_VERSION);}u.prototype.getDao=function(){return this.$BoostedPostTargetingController4;};u.prototype.getTargetingSpecs=function(v,w){var x=[];if(this.$BoostedPostTargetingController3){x.push(this.$BoostedPostTargetingController5.adaccount(this.$BoostedPostTargetingController1).edge('saved_audiences').get({access_token:l.access_token,fields:['name','targeting','adcampaigns']}).then(r.eachPage()).then(function(y){return y.data.map(function(z){var aa=z.id,ba=z.name,ca=z.targeting,da=z.adcampaigns;return {audience_id:aa,audience_name:ba,target_spec:ca,has_associated_campaigns:!!da};});}));}else x.push(this.$BoostedPostTargetingController5.adaccount(this.$BoostedPostTargetingController1).edge('audiences').get({access_token:l.access_token,limit:1000}).then(function(y){return y.data;}));if(w)x.push(this.$BoostedPostTargetingController5.adaccount(this.$BoostedPostTargetingController1).edge('customaudiences').get({access_token:l.access_token,fields:['name','delivery_status']}).then(function(y){var z=y.data.filter(function(aa){var ba=aa.delivery_status;return (ba.code===p.ACTIVE);});return z.map(function(aa){var ba=aa.id,ca=aa.name;return {audience_id:ba,audience_name:ca,target_spec:{custom_audiences:[{id:parseInt(ba,10)}]},is_custom:true};});}));h.all(x).done(function(y){return v([].concat.apply([],y));});};u.prototype.saveTargetingSpec=function(v,w,x,y){var z=this.$BoostedPostTargetingController6(v,w);if(!this.$BoostedPostTargetingController7(v,y))return;var aa=v.getTargetSpec().getRaw(v.getLocationType());if(this.$BoostedPostTargetingController3){this.$BoostedPostTargetingController5.adaccount(this.$BoostedPostTargetingController1).edge('saved_audiences').post({access_token:l.access_token,name:z,targeting:aa}).done(function(ba){m.log(n.AM_AUDIENCE_CREATED,{audience_id:ba.id,audience_name:z,custom_targeting_raw:aa});x(parseInt(ba.id,10));},y.bind(null,j.MESSAGES.CREATE_AUDIENCE_ERROR));}else this.$BoostedPostTargetingController4.add.createNewSavedTargetSpec.one((function(ba){m.log(n.AM_AUDIENCE_CREATED,{audience_id:ba.id,audience_name:z,custom_targeting_raw:aa});this.$BoostedPostTargetingController4.fetch.audiencesForAccount.clearCache();x(parseInt(ba.id,10));}).bind(this),{targeting_spec:aa,name:z,access_token:l.access_token,handleError:y.bind(null,j.MESSAGES.CREATE_AUDIENCE_ERROR)});};u.prototype.updateTargetingSpec=function(v,w,x,y){var z=this.$BoostedPostTargetingController6(v,w),aa=v.getAudienceID();if(!this.$BoostedPostTargetingController7(v,y))return;var ba=v.getTargetSpec().getRaw(v.getLocationType());m.log(n.AM_AUDIENCE_EDITED,{id:aa,custom_targeting_raw:ba});if(this.$BoostedPostTargetingController3){this.$BoostedPostTargetingController5.object('saved_audience',aa.toString()).post({access_token:l.access_token,name:z,targeting:ba}).done(x,y.bind(null,j.MESSAGES.UPDATE_AUDIENCE_ERROR));}else this.$BoostedPostTargetingController4.mutate.savedTargetSpec.one((function(){this.$BoostedPostTargetingController4.fetch.audiencesForAccount.clearCache();x();}).bind(this),{targeting_spec:ba,name:z,audienceId:aa,access_token:l.access_token,handleError:y.bind(null,j.MESSAGES.UPDATE_AUDIENCE_ERROR)});};u.prototype.deleteTargetingSpec=function(v,w,x){var y=v.getAudienceID();m.log(n.AM_AUDIENCE_DELETED,{id:y});if(this.$BoostedPostTargetingController3){this.$BoostedPostTargetingController5.object('saved_audience',y.toString()).remove({access_token:l.access_token}).done(function(z){return w();},x.bind(null,j.MESSAGES.DELETE_AUDIENCE_ERROR));}else this.$BoostedPostTargetingController4.remove.audience.one((function(){this.$BoostedPostTargetingController4.fetch.audiencesForAccount.clearCache();w();}).bind(this),{audienceId:y,access_token:l.access_token,handleError:x.bind(null,j.MESSAGES.DELETE_AUDIENCE_ERROR)});};u.prototype.fetchReachEstimates=function(v,w,x){this.$BoostedPostTargetingController4.fetch.estimatesForAccount.one(x,{access_token:l.access_token,currency:w,targeting_spec:v});};u.prototype.getTargetingSentences=function(v,w,x){this.$BoostedPostTargetingController5.adaccount(this.$BoostedPostTargetingController1).edge('targetingsentencelines').get({access_token:l.access_token,discard_ages:!v.age_min&&!v.age_max,discard_placements:true,targeting_spec:v}).done(w,x);};u.prototype.$BoostedPostTargetingController7=function(v,w){if(this.$BoostedPostTargetingController8(v))if(!(this.$BoostedPostTargetingController2&&this.$BoostedPostTargetingController2.length)){w(j.MESSAGES.MUST_SPECIFY_LOCATION);return false;}else{v.getTargetSpec().setCountries(this.$BoostedPostTargetingController2);v.setLocationType(o.LOCATION_TYPES.Countries);}return true;};u.prototype.$BoostedPostTargetingController8=function(v){var w=v.getTargetSpec();switch(v.getLocationType()){case o.LOCATION_TYPES.Countries:if(!w.getCountries().length)return true;break;case o.LOCATION_TYPES.Regions:if(!w.getRegions().length)return true;break;case o.LOCATION_TYPES.Cities:if(!w.getCities().length)return true;break;default:return true;}return false;};u.prototype.$BoostedPostTargetingController6=function(v,w){var x=v.getAudienceName();if(x&&x.length)return x;if(v.getOriginalName())return v.getOriginalName();var y=j.DEFAULT_NAME_INITIAL_NUMBER;while(1){var z=t._("Audience {audience_number}",[t.param('audience_number',y)]);if(w.indexOf(z)===-1)return z;++y;}};f.exports=u;},null);
__d('BoostedPostAudienceDetails.react',['BoostedPostTargetingController','React','XUIText.react','cx','fbt','intlList'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=170,p=i.createClass({displayName:'BoostedPostAudienceDetails',propTypes:{audience:n.object,controller:n.instanceOf(h),width:n.number},getDefaultProps:function(){return {width:o};},getInitialState:function(){return {targetingSentences:null,hasAudienceDescription:true};},componentWillMount:function(){this._init(this.props);},componentWillReceiveProps:function(q){this._init(q);},_init:function(q){this._populateTargetingSentences(q.audience);},_populateTargetingSentences:function(q){if(Object.keys(q).length){this.props.controller.getTargetingSentences(q,this._populateTargetingSentencesCallback,this._targetingSentencesErrorCallback);}else this.setState({targetingSentences:null,hasAudienceDescription:true});},_populateTargetingSentencesCallback:function(q){this.setState({targetingSentences:q.targetingsentencelines,hasAudienceDescription:true});},_targetingSentencesErrorCallback:function(){this.setState({targetingSentences:null,hasAudienceDescription:false});},_getTargetingSentenceFormatted:function(q,r){return (i.createElement(j,{className:"ellipsis"+(r!==0?' '+"_3-8-":''),'data-hover':'tooltip','data-tooltip-display':'overflow',display:'block',key:q.content,size:'small',style:{width:this.props.width}},l._("{content_label} {children}",[l.param('content_label',i.createElement(j,{display:'block',weight:'bold'},q.content)),l.param('children',m(q.children,m.CONJUNCTIONS.OR))])));},render:function(){if(!this.state.hasAudienceDescription)return (i.createElement('div',null,l._("Error while fetching audience description.")));var q=this.state.targetingSentences;if(!q||!q.length)return null;return (i.createElement('div',{className:"_54z8"},q.map(this._getTargetingSentenceFormatted)));}});f.exports=p;},null);
__d('AdsTargetingViewConfig',['AdsTargetingSectionsLabels','ImmutableObject','keyMirror'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j({OFF:null,STRONG:null,WEAK:null,BROADEN:null,DANGEROUS:null}),l=13,m=65,n=['relationshipSingle','relationshipInA','relationshipMarried','relationshipEngaged','relationshipUnspecified'],o='cities',p='zips',q='regions',r=[],s=j({getFeatureEffect:null}),t=j({}),u={INTERESTS:{getFeatureEffect:function(x){var y=x.keywords&&x.keywords.length||x.interests&&x.interests.length;return y?k.STRONG:k.OFF;}},CUSTOM_AUDIENCE:{getFeatureEffect:function(x){return x.customAudiences&&x.customAudiences.length?k.STRONG:k.OFF;}},CONNECTIONS:{getFeatureEffect:function(x){var y=x.connections&&x.connections.length||x.friendsOfConnections&&x.friendsOfConnections.length;return y?k.STRONG:k.OFF;}},CATEGORIES:{getFeatureEffect:function(x){return x.userAdclusters&&x.userAdclusters.length?k.STRONG:k.OFF;}},LOCATION:{getFeatureEffect:function(x){if(x.geoLocations){var y=x.geoLocations,z=y.cities&&y.cities.length,aa=y.zips&&y.zips.length,ba=y.regions&&y.regions.length,ca=x.excludedGeoLocations||{},da=0;Object.keys(ca).forEach(function(ga){da+=ca[ga].length||0;});if(z||aa){return k.STRONG;}else if(ba){return da?k.STRONG:k.WEAK;}else if(y.countries&&y.countries.length>1)return da?k.WEAK:k.BROADEN;return da?k.WEAK:k.OFF;}var ea=x.locTargeting===p||x.locTargeting===o,fa=x.cities&&x.cities.length||x.zips&&x.zips.length;if(ea&&fa)return k.STRONG;if(x.locTargeting===q&&x.regions&&x.regions.length)return k.WEAK;if(x.countries&&x.countries.length>1)return k.BROADEN;return k.OFF;}},GENDER_AGE:{getFeatureEffect:function(x){if(x.ageMax&&x.ageMax!==m||x.ageMin&&x.ageMin!==l||x.sex)return k.WEAK;return k.OFF;}},SCHOOL:{getFeatureEffect:function(x){if(!x.educationStatus)return k.OFF;return k.WEAK;}},WORK:{getFeatureEffect:function(x){return k.OFF;}},LANGUAGE:{getFeatureEffect:function(x){return x.locales&&x.locales.length?k.WEAK:k.OFF;}},RELATIONSHIP:{getFeatureEffect:function(x){var y=!!x.interestedIn&&!!x.interestedIn.length,z=false,aa=true;n.forEach(function(ba){z=z||x[ba];aa=aa&&x[ba];});if(aa||!z)return y?k.WEAK:k.OFF;return y?k.STRONG:k.WEAK;}},DEVICE:{getFeatureEffect:function(x){var y=0;if(x.wifiOnly)y++;var z=x.mobileDevices||[];if(z.length&&z.length!==3)y++;if(x.minIosVersion||x.minAndroidVersion)y++;if(y>1){return k.STRONG;}else if(y===1)return k.WEAK;return k.OFF;}},ADV_DEMO:{getFeatureEffect:function(x){var y=!!Object.keys(h).filter(function(z){return r.indexOf(z)==-1&&x[z]&&x[z].length;}).length;return y?k.STRONG:k.OFF;}}},v={};Object.keys(u).forEach(function(x){u[x].KEY=x;v[x]=x;});var w={INTERFACE:s,OPTIONAL_INTERFACE:t,EFFECTS:k,FEATURES:v,getViewNames:function(){return Object.keys(u);},getAllViewConfigs:function(){return Object.keys(u).map(function(x){return new i(u[x]);});},getViewConfigByName:function(x){return new i(u[x]);}};f.exports=w;},null);
__d('AdsTargetingRatingUtils',['AdsTargetingViewConfig','ImmutableObject','AdsTargetingSpecOverallRating','keyMirror'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.EFFECTS,m=k({TOO_SMALL:null,SMALL:null,GOOD:null,TOO_BROAD:null}),n=k({DANGEROUS:null,VAGUE:null,GOOD:null,GREAT:null,NONE:null}),o=1000*1000,p=100*o,q=2500,r=10000,s=3,t=2,u={SIZE_RATINGS:m,FEATURE_RATINGS:n,OVERALL_RATINGS:j,getFeaturesByEffect:function(v){var w=h.getAllViewConfigs(),x={};Object.keys(l).forEach(function(y){x[y]=[];});w.forEach(function(y){var z=y.getFeatureEffect(v);x[z].push(y);});return x;},getConfigsWithFeature:function(v){var w=h.getAllViewConfigs();return w.map(function(x){return new i(babelHelpers._extends({},x,{EFFECT:x.getFeatureEffect(v)}));});},getAudienceSizeRating:function(v){var w=m;if(v<=q){return w.TOO_SMALL;}else if(v<=r){return w.SMALL;}else if(v<p)return w.GOOD;return w.TOO_BROAD;},getFeaturesRating:function(v){var w=n,x=this.getFeaturesByEffect(v);delete x[l.OFF];if(x[l.DANGEROUS].length)return w.DANGEROUS;var y=x[l.STRONG].length,z=x[l.WEAK].length;y+=Math.floor(z/s);if(y>=t){return w.GREAT;}else if(y){return w.GOOD;}else if(z)return w.VAGUE;return w.NONE;},getOverallRating:function(v,w){var x=this.getFeaturesRating(v),y=this.getAudienceSizeRating(w),z=m,aa=n,ba=j;switch(y){case z.TOO_SMALL:return ba.BAD_TOO_SMALL;case z.TOO_BROAD:switch(x){case aa.NONE:case aa.DANGEROUS:return ba.BAD_TOO_BROAD;case aa.VAGUE:case aa.GOOD:return ba.VAGUE;case aa.GREAT:return ba.GOOD;}break;case z.GOOD:switch(x){case aa.DANGEROUS:return ba.GOOD;case aa.NONE:return ba.BAD_TOO_BROAD;case aa.VAGUE:return ba.VAGUE;case aa.GOOD:case aa.GREAT:return ba.GOOD;}break;case z.SMALL:switch(x){case aa.DANGEROUS:return ba.BAD_TOO_SMALL;case aa.NONE:case aa.VAGUE:return ba.VAGUE;case aa.GOOD:case aa.GREAT:return ba.GOOD;}}}};f.exports=u;},null);
__d('AdsTargetingEstimateFeedbackThrottle.react',['AdsOtherConsts','AdsTargetingRatingUtils','BrowserSupport','Image.react','LeftRight.react','LoadingIndicator.react','NumberFormat','React','ReactFragment','cx','fbt','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=o.PropTypes,v=i.OVERALL_RATINGS;function w(z){switch(z){case v.GOOD:return r._("Your audience is defined.");case v.VAGUE:return r._("Your audience selection is fairly broad.");case v.BAD_TOO_SMALL:return r._("Your audience is too specific for your adverts to be shown. Try making it broader.");case v.BAD_TOO_BROAD:return r._("Your audience selection is broad. This requires a large budget.");}}function x(z){switch(z){case v.GOOD:return t("_1ga0","_4u38");case v.VAGUE:return t("_1ga0","_4u39");case v.BAD_TOO_BROAD:return t("_1ga0","_4u3a");case v.BAD_TOO_SMALL:return t("_1ga0","_4u3b");}}var y=o.createClass({displayName:'AdsTargetingEstimateFeedbackThrottle',propTypes:{estimateErrors:u.array,loading:u.bool.isRequired,rating:u.string.isRequired,ready:u.bool.isRequired,sentences:u.array,shouldOmitFeedback:u.bool,shouldOmitSentences:u.bool,users:u.number.isRequired,minimumReach:u.number},getDefaultProps:function(){return {estimateErrors:[],sentences:[],shouldOmitFeedback:false,shouldOmitSentences:false,minimumReach:h.REACH_TOO_LOW_NUMBER};},render:function(){return (o.createElement('div',{className:"_1g9y"},this.renderWarning(),o.createElement('div',{className:this._getFeedbackSectionClasses()},this.renderFeedbackSection()),this.props.shouldOmitSentences?null:this.renderSentences(),this._isErrorState()?null:this.props.children,this.renderUsers()));},renderFeedbackSection:function(){if(!this.props.ready||this.props.shouldOmitFeedback)return null;return p.create({throttle:this.renderThrottle(),feedback:this.renderFeedback()});},renderThrottle:function(){if(!this.showNeedle())return null;return (o.createElement('div',{className:"_1g9- lfloat"},o.createElement('div',{className:"_1g9_"},o.createElement(k,{className:x(this.props.rating),src:s('/images/ads/createflow/targeting/needle.png')}),o.createElement(k,{className:"_1ga1",src:s('/images/ads/createflow/targeting/meter.png')}),o.createElement(l,{className:"_1ga2"},this.renderNeedleLabel(r._("Specific")),this.renderNeedleLabel(r._("Broad"))))));},renderNeedleLabel:function(z){return (o.createElement('span',{'aria-label':z,className:"_1ga3",'data-hover':'tooltip','data-tooltip-alignh':'center'},z));},renderFeedback:function(){if(this._isErrorState())return null;return (o.createElement('div',{className:"rfloat"+(' '+"fsm")+(' '+"_1ga4")+(!this.showNeedle()?' '+"noNeedle":'')},w(this.props.rating)));},renderSentence:function(z,aa){if(!z.content)return o.createElement('li',{key:z+aa},z);return (o.createElement('li',{key:z.content+aa},o.createElement('div',null,z.content),o.createElement('ul',{className:"_1ga5 pll"},(z.children||[]).map(function(ba,ca){return (o.createElement('li',{key:ba+ca},o.createElement('div',{className:"_164_"},ba)));}))));},renderSentences:function(){if(!this.props.sentences.length)return null;var z=this.props.sentences.map((function(aa,ba){return this.renderSentence(aa,ba);}).bind(this));return (o.createElement('div',{className:"_1ga6",'data-testid':'targeting-estimate-feedback'},o.createElement('span',{className:'fwb'},r._("Audience Details:")),o.createElement('ul',{className:"_1ga7 pll pts"},z)));},renderUsers:function(){if(this.props.shouldOmitFeedback)return null;return this._isErrorState()?this.renderErrorInfo():o.createElement('div',{className:"_1ga8"},this.renderNumUsers());},renderNumUsers:function(){if(this.props.loading)return (o.createElement('div',{className:"_1ga9"},o.createElement(m,{color:m.COLORS.blue,size:m.SIZES.small})));var z=this.props.users;if(z<=this.props.minimumReach)return r._({"*":"Potential reach: Fewer than {users} people"},[r.param('users',this.props.minimumReach,[0])]);return r._({"*":"Potential reach: {users} people"},[r.param('users',n.formatInteger(z),[0,z])]);},renderWarning:function(){if(!this._isErrorState())if(!this.props.ready)return (o.createElement('div',{className:"_1gaa"},r._("Continue to create your audience while your customer list is being built")));return null;},renderErrorInfo:function(){return (o.createElement('div',{className:"_1gaa"},r._("Your audience targeting is incomplete. Select at least one location, or choose a Custom Audience.")));},renderEstimateErrors:function(){if(!this.props.estimateErrors.length)return;var z=this.props.estimateErrors.map((function(aa){return this.renderSentence(aa);}).bind(this));return (o.createElement('ul',{className:"_1ga7 pll pts"},z));},showNeedle:function(){return j.hasCSSTransforms()&&j.hasCSSTransitions();},_getRatingIfNotError:function(){if(!this.props.ready)return '';return this._isErrorState()?'':this.props.rating;},_isErrorState:function(){return isNaN(this.props.users)||this.props.estimateErrors.length;},_getFeedbackSectionClasses:function(){return t('clearfix',"_1gab",this._getRatingIfNotError(),this._isErrorState()?'ERROR':'');}});f.exports=y;},null);
__d('AdsTargetingEstimateUtils',['AdsCFAudienceEstimateValidator'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={getEstimateErrorFromTargetingSpec:function(j){var k=h.validateTargetingSpec(j),l=[];for(var m in k){var n=k[m];if(!n.isValid)l.push(n.errorMessage);}return l;}};f.exports=i;},null);
__d('AdsTargetingLanguageSelector.react',['AdsStaticSearchSource','AdsTargetingTokenizer.react','BoostedComponentClientEvent','GraphAPI','immutable','React','SearchableEntry','areEqual','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r=null,s=new h([]),t=p._("Add languages..."),u=m.createClass({displayName:'AdsTargetingLanguageSelector',propTypes:{onDataUpdate:q.func.isRequired,selectedLanguages:q.arrayOf(q.number)},componentWillMount:function(){if(r){this._updateLanguages(this.props.selectedLanguages);return;}k('2.4').search('adlocale').get({limit:500}).done(this._onLocalesLoaded);},getInitialState:function(){return {entries:[]};},componentWillReceiveProps:function(v){if(r&&!o(v.selectedLanguages,this.props.selectedLanguages))this._updateLanguages(v.selectedLanguages);},_onChange:function(v,w){this.props.onDataUpdate(j.UPDATE_LANGUAGES,v.map(function(x){return parseInt(x.getUniqueID(),10);}));},render:function(){var v=this.state.searchSource||s;return (m.createElement(i,{entries:this.state.entries,placeholder:t,searchSource:v,smallInput:true,uri:"#",onDataUpdate:this._onChange}));},_updateLanguages:function(v){var w=l.Set(v||[]),x=[];r.forEach(function(y,z){if(w.contains(y.key))x.push(new n({uniqueID:y.id,title:y.name}));});this.setState({entries:x,searchSource:this.state.searchSource||new h(r)});},_onLocalesLoaded:function(v){r=v.data.map(function(w){return {id:w.key,name:w.name,key:w.key};});this._updateLanguages(this.props.selectedLanguages);}});f.exports=u;},null);
__d('BoostedPostAudienceManagerRow.react',['XUIGrayText.react','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'BoostedPostAudienceManagerRow',propTypes:{label:k.string},render:function(){var m=this.props;return (i.createElement('div',{className:"_5sp0"},i.createElement('div',{className:"_5sp1"},i.createElement(h,{shade:'light',size:'small',weight:'bold'},i.createElement('div',{className:"ellipsis",'data-hover':'tooltip','data-tooltip-display':'overflow'},m.label))),i.createElement('div',{className:"_5sp2"},m.children)));}});f.exports=l;},null);
__d('BoostedPostAudienceManagerTargetSpec',['AdsCFConstants','AdsCFTargetingStore','AdsCreationExperimentStore','AdsTargetingModelAdapter','AdsTargetingUtils','AdsTargetingConstants','LocationConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=c('LocationConstants').RadiusInfo;function o(){this.$BoostedPostAudienceManagerTargetSpec1=[];this.$BoostedPostAudienceManagerTargetSpec2=[];this.$BoostedPostAudienceManagerTargetSpec3=[];this.$BoostedPostAudienceManagerTargetSpec4=[];this.$BoostedPostAudienceManagerTargetSpec5=m.DEFAULT_RADIUS;}o.prototype.getMinAge=function(){return this.$BoostedPostAudienceManagerTargetSpec6;};o.prototype.setMinAge=function(p){this.$BoostedPostAudienceManagerTargetSpec6=p;};o.prototype.getMaxAge=function(){return this.$BoostedPostAudienceManagerTargetSpec7;};o.prototype.setMaxAge=function(p){this.$BoostedPostAudienceManagerTargetSpec7=p;};o.prototype.getGender=function(){return this.$BoostedPostAudienceManagerTargetSpec8;};o.prototype.setGender=function(p){this.$BoostedPostAudienceManagerTargetSpec8=p;};o.prototype.getCountries=function(){return this.$BoostedPostAudienceManagerTargetSpec1;};o.prototype.setCountries=function(p){this.$BoostedPostAudienceManagerTargetSpec1=p;};o.prototype.getRegions=function(){return this.$BoostedPostAudienceManagerTargetSpec2;};o.prototype.setRegions=function(p){this.$BoostedPostAudienceManagerTargetSpec2=p;};o.prototype.getCities=function(){return this.$BoostedPostAudienceManagerTargetSpec3;};o.prototype.setCities=function(p){this.$BoostedPostAudienceManagerTargetSpec3=p;};o.prototype.getRadius=function(){return this.$BoostedPostAudienceManagerTargetSpec5;};o.prototype.setRadius=function(p){this.$BoostedPostAudienceManagerTargetSpec5=p;};o.prototype.getLocales=function(){return this.$BoostedPostAudienceManagerTargetSpec4;};o.prototype.setLocales=function(p){this.$BoostedPostAudienceManagerTargetSpec4=p;};o.prototype.getInterests=function(){return this.$BoostedPostAudienceManagerTargetSpec9;};o.prototype.setInterests=function(p){this.$BoostedPostAudienceManagerTargetSpec9=p;};o.prototype.setWithSpec=function(p){if(!p)return;this.setMinAge(p.age_min);this.setMaxAge(p.age_max);var q=p.genders;if(q&&q.length)this.setGender(q[0]);var r=p.geo_locations,s=r.countries,t=r.regions,u=r.cities;if(s){this.setCountries(s);}else if(t){this.setRegions(Object.keys(t).map(function(v){return t[v].key.toString();}));}else if(u){if(u.length)this.setRadius(l.getValidRadius(u[0].radius,true));this.setCities(u.map(function(v){return v.key.toString();}));}this.setInterests(p.interests);this.setLocales(p.locales);};o.prototype.getRaw=function(p){this.$BoostedPostAudienceManagerTargetSpec10();switch(p){case m.LOCATION_TYPES.Countries:k.setGeoLocations({countries:this.getCountries()});break;case m.LOCATION_TYPES.Regions:var q=this.getRegions().map(function(t){return {key:t};});k.setGeoLocations({regions:q});break;case m.LOCATION_TYPES.Cities:var r=null;if(this.getRadius())r=this.getRadius();var s=this.getCities().map(function(t){return {key:t,radius:r,distance_unit:n.getLocalizedUnit()};});k.setGeoLocations({cities:s});break;}if(this.getMinAge())k.setAgeMin(this.getMinAge());if(this.getMaxAge())k.setAgeMax(this.getMaxAge());if(this.getGender())k.setGenders([this.getGender()]);if(this.getLocales())k.setLocales(this.getLocales());if(this.getInterests())k.setInterests(this.getInterests());return i.getApiSpec(h.CanonicalID);};o.prototype.$BoostedPostAudienceManagerTargetSpec10=function(){k.unset('geoLocations');k.unset('ageMin');k.unset('ageMax');k.setGenders([]);k.unset('locales');k.unset('interests');};f.exports=o;},null);
__d('BoostedPostAudienceManagerStore',['BoostedPostAudienceManagerTargetSpec','AdsTargetingConstants'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();function j(){this.$BoostedPostAudienceManagerStore1=new h();this.$BoostedPostAudienceManagerStore2=false;}j.prototype.getAudienceID=function(){return this.$BoostedPostAudienceManagerStore3;};j.prototype.setAudienceID=function(k){this.$BoostedPostAudienceManagerStore3=k;};j.prototype.getAudienceName=function(){return this.$BoostedPostAudienceManagerStore4;};j.prototype.setAudienceName=function(k){this.$BoostedPostAudienceManagerStore4=k;};j.prototype.getOriginalName=function(){return this.$BoostedPostAudienceManagerStore5;};j.prototype.setOriginalName=function(k){this.$BoostedPostAudienceManagerStore5=k;};j.prototype.getLocationType=function(){return this.$BoostedPostAudienceManagerStore6;};j.prototype.setLocationType=function(k){this.$BoostedPostAudienceManagerStore6=k;};j.prototype.getTargetSpec=function(){return this.$BoostedPostAudienceManagerStore1;};j.prototype.setTargetSpec=function(k){this.$BoostedPostAudienceManagerStore1=k;};j.prototype.getEnabledInputs=function(){return this.$BoostedPostAudienceManagerStore7;};j.prototype.setEnabledInputs=function(k){this.$BoostedPostAudienceManagerStore7=k;};j.prototype.isInputEnabled=function(k){if(!this.$BoostedPostAudienceManagerStore7)return true;return this.$BoostedPostAudienceManagerStore7.indexOf(k)!==-1;};j.prototype.setWithAudience=function(k){if(!k)return;this.setAudienceID(k.audience_id);this.setAudienceName(k.audience_name);this.setOriginalName(k.audience_name);if(!k.target_spec)return;var l=k.target_spec.geo_locations;if(!l)return;this.$BoostedPostAudienceManagerStore1.setWithSpec(k.target_spec);if(l.countries){this.setLocationType(i.LOCATION_TYPES.Countries);}else if(l.regions){this.setLocationType(i.LOCATION_TYPES.Regions);}else if(l.cities)this.setLocationType(i.LOCATION_TYPES.Cities);};f.exports=j;},null);
__d('BoostedPostAudienceUtil',['AsyncRequest','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={getCountryNames:function(k,l){if(k.length===0){l({});return;}new h().setURI('/ads/targeting/country_names/').setHandler(function(m){l(m.payload);}).setData({country_isos:k}).setReadOnly(true).setMethod('GET').send();},getRegionNames:function(k,l){if(k.length===0){l({});return;}new h().setURI('/ads/targeting/region_info/').setHandler(function(m){l(m.payload);}).setData({region_ids:k}).setReadOnly(true).setMethod('GET').send();},getCityNames:function(k,l){if(k.length===0){l({});return;}new h().setURI('/ads/targeting/city_names/').setHandler(function(m){l(m.payload);}).setData({city_ids:k}).setReadOnly(true).setMethod('GET').send();},getRegionNamesFromSpecFormat:function(k){return k.map(function(l){return l.name;});},getCityNamesFromSpecFormat:function(k){return k.map(function(l){return i._("{name}, {region}",[i.param('name',l.name),i.param('region',l.region)]);});}};f.exports=j;},null);
__d('BoostedPostNameInput.react',['BoostedPostAudienceManagerConstants','BoostedComponentClientEvent','XUITextInput.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'BoostedPostNameInput',propTypes:{onDataUpdate:n.func.isRequired,initialText:n.string},getDefaultProps:function(){return {initialText:''};},getInitialState:function(){return {text:this.props.initialText};},componentWillReceiveProps:function(p){this.setState({text:p.initialText});},_onChange:function(event){var p=event.target.value;this.setState({text:p});this.props.onDataUpdate(i.UPDATE_NAME,p);},clear:function(){this.setState({text:''});this.props.onDataUpdate("name",'');},render:function(){var p=m._("Add audience name...");return (k.createElement('div',{className:"_5spb"},k.createElement(j,{maxLength:h.MAX_NAME_LENGTH,placeholder:p,ref:'input',value:this.state.text,onChange:this._onChange})));}});f.exports=o;},null);
__d('BoostedPostAudienceEditor.react',['AdsCFActionTypes','AdsDispatcher','AdsTargetingLocationSelector.react','AdsAgeSelector.react','AdsTargetingGenderSelector.react','AdsTargetingKeywordSelector.react','AdsTargetingLanguageSelector.react','AdsTargetingConstants','BoostedPostAudienceManagerConstants','LoadingIndicator.react','SearchableEntry','WebApiApplication','BoostedComponentClientEvent','BoostedPagelikeAppConfig','BoostedPostAppConfig','BoostedPostAudienceManagerStore','BoostedPostAudienceUtil','BoostedPostStrings','BoostedPostTargetingController','BoostedPostNameInput.react','BoostedPostAudienceManagerRow.react','emptyFunction','React','AdsCFAccountStore'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){'use strict';if(c.__markCompiled)c.__markCompiled();c('AdsCFAccountStore');var ea=p.EDITOR_INPUTS,fa=da.PropTypes,ga=y.TARGETING_LABELS,ha=da.createClass({displayName:'BoostedPostAudienceEditor',propTypes:{adAccountID:fa.string.isRequired,setLoading:fa.func.isRequired,onPostMutate:fa.func.isRequired,mode:fa.number.isRequired,store:fa.instanceOf(w).isRequired,controller:fa.instanceOf(z).isRequired,otherNames:fa.array,showLanguageTargeting:fa.bool,onMessageChange:fa.func.isRequired,defaultCountries:fa.object.isRequired,onTargetingSpecChange:fa.func},getDefaultProps:function(){return {otherNames:[],onTargetingSpecChange:ca};},getInitialState:function(){return {namesLoaded:false,initialTokens:this._getEmptyInitialTokens()};},componentWillMount:function(){s.init(u.access_token,u.client_id);i.dispatch({action:{actionType:h.ACCOUNT_INIT,accountConfig:{account_id:this.props.adAccountID},type:h.ACCOUNT_INIT}});this._loading=false;},componentDidMount:function(){this._getLocationNames();},componentDidUpdate:function(){this._getLocationNames();},shouldComponentUpdate:function(){return !this._loading;},componentWillReceiveProps:function(){this.setState({namesLoaded:false});},_onDataUpdate:function(ia,ja){var ka=this.props.store,la=ka.getTargetSpec();if(ia===t.UPDATE_COUNTRIES||ia===t.UPDATE_REGIONS||ia===t.UPDATE_CITIES)ja=ja.map(function(na){return na.getUniqueID();});switch(ia){case t.UPDATE_NAME:ka.setAudienceName(ja);return;case t.UPDATE_AGE:la.setMinAge(ja.age_min);la.setMaxAge(ja.age_max);break;case t.UPDATE_GENDER:la.setGender(ja);break;case t.UPDATE_CITIES:la.setCities(ja);ka.setLocationType(o.LOCATION_TYPES.Cities);break;case t.UPDATE_COUNTRIES:la.setCountries(ja);ka.setLocationType(o.LOCATION_TYPES.Countries);break;case t.UPDATE_REGIONS:la.setRegions(ja);ka.setLocationType(o.LOCATION_TYPES.Regions);break;case t.UPDATE_RADIUS:la.setRadius(ja);break;case t.UPDATE_LANGUAGES:la.setLocales(ja);break;case t.UPDATE_INTERESTS:var ma=ja.map(function(na){return {id:na.getUniqueID(),name:na.getTitle()};});la.setInterests(ma);break;}this.props.onTargetingSpecChange(la.getRaw(ka.getLocationType()));this.forceUpdate();},onSave:function(){var ia=this.props.store;this._setLoading(true);if(this.props.mode===p.EDITOR_MODES.DRAFT){this._onPostMutate(p.EDITOR_ACTIONS.EDIT,ia.getAudienceID());}else if(ia.getAudienceID()&&ia.getAudienceID()!==p.SPECIAL_AUDIENCES.LAST_USED){var ja=this.props.otherNames.slice(),ka=ia.getAudienceName();for(var la=0;la<ja.length;++la)if(ja[la]===ka){ja.splice(la,1);break;}this.props.controller.updateTargetingSpec(ia,ja,this._onPostMutate.bind(null,p.EDITOR_ACTIONS.EDIT,ia.getAudienceID()),this._onErrorCallback);}else this.props.controller.saveTargetingSpec(ia,this.props.otherNames,this._onPostMutate.bind(null,p.EDITOR_ACTIONS.CREATE),this._onErrorCallback);},_onErrorCallback:function(ia,ja,ka,la){this._setLoading(false);this.props.onMessageChange(ia);},_onPostMutate:function(ia,ja){this.props.onPostMutate(ia,ja);this._setLoading(false);},_getLocationNames:function(){if(this.state.namesLoaded)return;var ia=this.props.store,ja=ia.getTargetSpec(),ka=this._getNamesCallback;switch(ia.getLocationType()){case o.LOCATION_TYPES.Countries:x.getCountryNames(ja.getCountries(),ka.bind(null,o.TARGETING_SPEC_KEYS.COUNTRIES,null));break;case o.LOCATION_TYPES.Regions:x.getRegionNames(ja.getRegions(),ka.bind(null,o.TARGETING_SPEC_KEYS.REGIONS,'name'));break;case o.LOCATION_TYPES.Cities:x.getCityNames(ja.getCities(),ka.bind(null,o.TARGETING_SPEC_KEYS.CITIES,null));break;default:this.setState({initialTokens:this._getEmptyInitialTokens(),namesLoaded:true});break;}},_getEmptyInitialTokens:function(){return {countries:[],regions:[],cities:[]};},onAudienceDelete:function(){this._setLoading(true);this.props.controller.deleteTargetingSpec(this.props.store,this._onPostMutate.bind(null,p.EDITOR_ACTIONS.DELETE),this._onErrorCallback);},_getNamesCallback:function(ia,ja,ka){var la=[];for(var ma in ka){var na=ka[ma];if(ja)na=na[ja];la.push(new r({uniqueID:ma,title:na}));}var oa=this._getEmptyInitialTokens();oa[ia]=la;this.setState({namesLoaded:true,initialTokens:oa});},_setLoading:function(ia){this._loading=ia;this.props.setLoading(ia);},_getInterestEntries:function(ia){if(!ia)return [];var ja=[],ka=ia.length;for(var la=0;la<ka;++la)ja.push(new r({uniqueID:ia[la].id,title:ia[la].name}));return ja;},render:function(){var ia=this.props.store,ja=ia.getTargetSpec(),ka=this._getInterestEntries(ja.getInterests()),la=null;if(this.state.namesLoaded){la=da.createElement(j,{defaultCountries:this.props.defaultCountries,initialRadius:ja.getRadius(),initialTokenizer:ia.getLocationType(),initialTokens:this.state.initialTokens,ref:'locations',smallInput:true,onDataUpdate:this._onDataUpdate});}else la=da.createElement(q,{color:'white',size:'small'});var ma=[];if(ia.isInputEnabled(ea.NAME))ma.push(da.createElement(ba,{key:ma.length,label:p.LABELS.NAME},da.createElement(aa,{initialText:ia.getAudienceName(),ref:'name',onDataUpdate:this._onDataUpdate})));if(ia.isInputEnabled(ea.LOCATIONS))ma.push(da.createElement(ba,{key:ma.length,label:ga.LOCATION},la));if(ia.isInputEnabled(ea.AGE))ma.push(da.createElement(ba,{key:ma.length,label:ga.AGE},da.createElement(k,{initialMaxAge:ja.getMaxAge(),initialMinAge:ja.getMinAge(),onDataUpdate:this._onDataUpdate})));if(ia.isInputEnabled(ea.GENDER))ma.push(da.createElement(ba,{key:ma.length,label:ga.GENDER},da.createElement(l,{initialGender:ja.getGender(),onDataUpdate:this._onDataUpdate})));if(this.props.showLanguageTargeting&&ia.isInputEnabled(ea.LANGUAGES))ma.push(da.createElement(ba,{key:ma.length,label:ga.LANGUAGES},da.createElement(n,{selectedLanguages:ja.getLocales(),onDataUpdate:this._onDataUpdate})));if(ia.isInputEnabled(ea.INTERESTS))ma.push(da.createElement(ba,{key:ma.length,label:ga.INTERESTS},da.createElement(m,{accessToken:v.access_token,accountID:this.props.adAccountID,initialEntries:ka,primedDao:this.props.controller.getDao(),smallInput:true,uniqueID:'boosted_post',onDataUpdate:this._onDataUpdate})));return (da.createElement('div',null,ma));}});f.exports=ha;},null);
__d('BoostedPostAudienceManagerModule',['AdsTargetingEstimateFeedbackThrottle.react','AdsTargetingEstimateUtils','AdsTargetingRatingUtils','BoostedPostAudienceManagerConstants','BoostedPostAudienceManagerStore','BoostedPostBasicDialog.react','BoostedPostTargetingController','LayerFadeOnHide','LayerHideOnEscape','LoadingIndicator.react','XUICard.react','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogSaveButton.react','XUIDialogCancelButton.react','XUIGrayText.react','XUINotice.react','ReactLayeredComponentMixin','BoostedPostAudienceEditor.react','React','AdInterfacesUiLogger','AdInterfacesAppNames','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){'use strict';if(c.__markCompiled)c.__markCompiled();var ha=ca.PropTypes,ia=ca.createClass({displayName:'BoostedPostAudienceManagerModule',mixins:[aa],propTypes:{adAccountID:ha.string.isRequired,onPostMutate:ha.func.isRequired,onChangeDialogState:ha.func.isRequired,showDefault:ha.bool,suggestedAudience:ha.bool,mode:ha.number,otherNames:ha.array,defaultCountries:ha.object.isRequired,showFeedbackThrottle:ha.bool,showLanguageTargeting:ha.bool.isRequired,dialogShown:ha.bool,store:ha.instanceOf(l).isRequired,controller:ha.instanceOf(n).isRequired},getDefaultProps:function(){return {showDefault:true,mode:k.EDITOR_MODES.CREATE};},getInitialState:function(){return {loading:false,estimateThrottleConfig:{ready:true,loading:true,rating:j.OVERALL_RATINGS.BAD_TOO_BROAD,users:0,estimateErrors:[]}};},componentWillMount:function(){this._requestCounter=0;da.setAccountID(this.props.adAccountID);da.setAppName(ea.BOOSTED_POSTS);},_onToggle:function(ja){this.props.onChangeDialogState(ja);this.setState({message:null});},_onSave:function(){this.refs.editor.onSave();},_setLoading:function(ja){this.setState({loading:ja});},_onPostMutate:function(ja,ka){this.props.onChangeDialogState(false);this.props.onPostMutate(ja,ka);},_onDelete:function(){this.refs.editor.onAudienceDelete(this.props.store.getAudienceID());},_onMessageChange:function(ja){this.setState({message:ja});},_getDialogTitle:function(){switch(this.props.mode){case k.EDITOR_MODES.CREATE:return ga._("Create audience");default:return ga._("Edit audience");}},_getDeleteDialog:function(){var ja=ca.createElement('a',{href:'#'},ca.createElement(y,{size:'small'},ga._("Delete"))),ka=ga._("Delete Audience?"),la=ga._("It will be removed from your saved audiences list."),ma=ga._("Cancel"),na=ga._("Delete");return (ca.createElement(m,{body:la,closeButtonText:ma,confirmHandler:this._onDelete,confirmText:na,entryComponent:ja,title:ka,width:300}));},_getExplanationText:function(){if(this.props.mode===k.EDITOR_MODES.CREATE){return ga._("Select the location, age, gender and interests of people you want to reach with your advert.");}else return ga._("Make sure that you save your edits once you've finished.");},_fetchReachEstimates:function(ja){if(!this.props.showFeedbackThrottle)return;this._requestCounter++;this._controller.fetchReachEstimates(ja,'USD',this._fetchReachEstimatesCallback.bind(this,this._requestCounter,ja));var ka=this.state.estimateThrottleConfig;ka.loading=true;this.setState({estimateThrottleConfig:ka});},_fetchReachEstimatesCallback:function(ja,ka,la){if(ja!==this._requestCounter)return;this.setState({estimateThrottleConfig:{ready:la.estimate_ready,loading:false,rating:j.getOverallRating(ka,la.users),estimateErrors:i.getEstimateErrorFromTargetingSpec(ka),users:la.users}});},_renderFeedbackThrottle:function(){if(!this.props.showFeedbackThrottle)return ca.createElement('div',null);var ja=this.state.estimateThrottleConfig;return (ca.createElement(r,{className:"_38ns"},ca.createElement(h,{estimateErrors:ja.estimateErrors,loading:ja.loading,rating:ja.rating,ready:ja.ready,users:ja.users})));},_getDialogWidth:function(){if(this.props.showFeedbackThrottle)return 680;return 445;},renderLayers:function(){var ja=this.state.loading,ka=null;if(ja)ka=ca.createElement('span',{className:"_5vbk"},ca.createElement(q,{color:'white',size:'small'}));var la=null,ma=this.props.store.getAudienceID();if(this.props.mode===k.EDITOR_MODES.EDIT&&ma)la=this._getDeleteDialog();var na=null;if(this.state.message)na=ca.createElement('div',{className:"_5vbj"},ca.createElement(z,null,this.state.message));var oa=this.props.showFeedbackThrottle?"_38nu":'';return {dialog:ca.createElement(s,{behaviors:{LayerFadeOnHide:o,LayerHideOnEscape:p},shown:this.props.dialogShown,width:this._getDialogWidth(),onToggle:this._onToggle},ca.createElement(t,null,this._getDialogTitle()),ca.createElement(u,null,ca.createElement('div',{className:"_5csd"},ca.createElement('div',{className:"_42w7"},ca.createElement(y,{size:'small'},this._getExplanationText())),na,this._renderFeedbackThrottle(),ca.createElement('div',{className:oa},ca.createElement(ba,{adAccountID:this.props.adAccountID,controller:this.props.controller,defaultCountries:this.props.defaultCountries,mode:this.props.mode,otherNames:this.props.otherNames,ref:'editor',setLoading:this._setLoading,showLanguageTargeting:this.props.showLanguageTargeting,store:this.props.store,onMessageChange:this._onMessageChange,onPostMutate:this._onPostMutate,onTargetingSpecChange:this._fetchReachEstimates})))),ca.createElement(v,{leftContent:la},ka,ca.createElement(x,null),ca.createElement(w,{disabled:ja,use:'confirm',onClick:this._onSave})))};},render:function(){if(!this.props.showDefault)return (ca.createElement('div',null));if(!this.props.suggestedAudience)return (ca.createElement('span',{className:"_1r-a"},ca.createElement(y,null,ga._("Default Audience"))));return (ca.createElement('span',{className:"_1r-a"},ca.createElement(y,null,ga._("Suggested Audience"))));}});f.exports=ia;},null);
__d('BoostedPostSupportedTargeting',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={EDIT_TARGETING_FIELDS:['geo_locations','age_min','age_max','genders','locales','interest_defaults_source','interests','radius']};f.exports=h;},null);
__d('BoostedPostSelectAudienceSelector.react',['AdsQEDataManager','AdsTargetingConstants','BoostedPostAudienceManagerConstants','BoostedComponentConfig','BoostedComponentExperiment','BoostedComponentAdsManagerDialog.react','BoostedPostAudienceConstants','BoostedPostAudienceManagerModule','BoostedPostAudienceManagerStore','BoostedPostLogging','BoostedPostEventType','BoostedPostPlacementOptions','BoostedPostTargetingController','Link.react','LoadingIndicator.react','ReactLayeredComponentMixin','BoostedPostSupportedTargeting','TooltipLink.react','XUIAmbientNUX.react','XUIMenuSeparator.react','XUISelector.react','XUISelectorButton.react','XUIText.react','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){'use strict';if(c.__markCompiled)c.__markCompiled();var ha=j.SPECIAL_AUDIENCES,ia=ba.Option,ja=ea.PropTypes,ka=ea.createClass({displayName:'BoostedPostSelectAudienceSelector',mixins:[w],propTypes:{adAccountID:ja.string.isRequired,config:ja.instanceOf(k).isRequired,defaultCountries:ja.object.isRequired,defaultPresetAudience:ja.number,defaultTargetSpec:ja.object.isRequired,hasLastAudience:ja.bool,includeCustomAudiences:ja.bool.isRequired,initialInterestsNuxShown:ja.bool,lastAudienceID:ja.number,preferredAudienceTargetSpec:ja.object,showFeedbackThrottle:ja.bool,suggestedAudience:ja.bool,useSavedAudiences:ja.bool,onAudienceUpdate:ja.func.isRequired},getInitialState:function(){this._specialAudiences=[];this._preferredAudience=null;if(this.props.preferredAudienceTargetSpec){var la=this.props.preferredAudienceTargetSpec,ma=Object.keys(this.props.defaultCountries);if(la.geo_locations||ma&&ma.length){if(!la.geo_locations)la.geo_locations={countries:ma};this._preferredAudience={audience_id:ha.PREFERRED_AUDIENCE,audience_name:ga._("Preferred Page Audience"),target_spec:la};}}return {audiences:[],dialogShown:false,mode:j.EDITOR_MODES.CREATE,selected:this._getDefaultSelectedValue([]),firstFetchDone:false,interestsNuxShown:this.props.initialInterestsNuxShown};},componentWillMount:function(){this._store=new p();this._store.setAudienceID(this._getDefaultSelectedValue([]));this._isLanguageTargetingExposureLogged=false;this.props.config.getPrivacyGatingStore().subscribe('change',this.refreshSpecs.bind(null,null,null));this.refreshSpecs();},refreshSpecs:function(la,ma){this._controller=new t(this.props.adAccountID,Object.keys(this.props.defaultCountries),this.props.useSavedAudiences);this._controller.getTargetingSpecs(this._getTargetingSpecsCallback.bind(null,la,ma),this.props.includeCustomAudiences);},_lastAudienceExists:function(la,ma){var na=ma.concat(la).filter(function(oa){return oa.audience_id===this.props.lastAudienceID;},this);return !!na.length;},_getDefaultSelectedValue:function(la){var ma=this._specialAudiences,na=this.props.defaultPresetAudience;if(this._lastAudienceExists(ma,la))return this.props.lastAudienceID;if(na===n.NCPP&&this.props.config.getPrivacyGatingStore().isPrivacyGated())return ha.PRIVACY_GATING;if(this._preferredAudience)return ha.PREFERRED_AUDIENCE;return ma.length?ma[0].audience_id:la.length?la[0].audience_id:ha.DEFAULT;},_getTargetingSpecsCallback:function(la,ma,na){if(this.props.config.getPrivacyGatingStore().isPrivacyGated())na=[];na.map(function(ra){ra.audience_id=parseInt(ra.audience_id,10);});this._specialAudiences=this._getSpecialAudiences(na);var oa=ma?ma:this._getDefaultSelectedValue(na);if(oa){this.setState({audiences:na,selected:oa,firstFetchDone:true});var pa=this._getAudienceFromID(oa,na);this._onAudienceUpdate(oa,pa);}else this.setState({audiences:na,firstFetchDone:true});if(!this._loggedAudienceShown){this._loggedAudienceShown=true;var qa={ad_account_id:this.props.adAccountID};if(this.props.hasLastAudience){q.log(r.AM_LAST_USED_AUDIENCE_SHOWN,qa);}else if(na.length){q.log(r.AM_FIRST_AUDIENCE_SHOWN,qa);}else q.log(r.AM_DEFAULT_AUDIENCE_SHOWN,qa);}},_getSpecialAudiences:function(la){var ma=this.props.config.getExperimentStore(),na=[];if(this.props.includePresetAudiences){na.push({audience_id:ha.FANS,audience_name:ga._("People who like your Page")});na.push({audience_id:ha.GROUPER,audience_name:ga._("People who like your Page and their friends")});}if(this.props.config.getPrivacyGatingStore().isPrivacyGated()){na.push({audience_id:ha.PRIVACY_GATING,audience_name:ga._("People who can see this post")});}else if(this._preferredAudience)na.push({audience_id:this._preferredAudience.audience_id,audience_name:this._preferredAudience.audience_name});if(this.props.hasLastAudience&&!this._lastAudienceExists(na,la)&&!this.props.config.getPrivacyGatingStore().isPrivacyGated())na.push({audience_id:ha.LAST_USED,audience_name:this._getAudienceName()});return na;},_getAudienceName:function(){if(!this.props.suggestedAudience)return ga._("Default Audience");return ga._("Suggested Audience");},_onAudienceChange:function(la){var ma=la.value,na=this._getAudienceFromID(ma,this.state.audiences),oa={ad_account_id:this.props.adAccountID,audience_id:ma};q.log(r.AM_AUDIENCE_CHANGED,oa);if(ma!==ha.CREATE_NEW)this.setState({selected:ma});this._onAudienceUpdate(ma,na);},_onAudienceUpdate:function(la,ma){var na=this.props.config.getBoostedPostSpecs();switch(la){case ha.LAST_USED:case ha.DEFAULT:this.props.onAudienceUpdate(n.NCPP,this.props.defaultTargetSpec);return;case ha.PRIVACY_GATING:na.setAudience(n.NCPP);this.props.onAudienceUpdate(n.NCPP,na.getPrivacyGatingSpec());return;case ha.FANS:na.setAudience(n.FANS);this.props.onAudienceUpdate(n.FANS,na.getTargetingSpec());return;case ha.PREFERRED_AUDIENCE:this.props.onAudienceUpdate(n.NCPP,this._preferredAudience.target_spec,ha.PREFERRED_AUDIENCE);return;case ha.GROUPER:na.setAudience(n.GROUPER);this.props.onAudienceUpdate(n.GROUPER,na.getTargetingSpec());return;case ha.ENGAGED:na.setAudience(n.ENGAGED);this.props.onAudienceUpdate(n.ENGAGED,na.getTargetingSpec());return;case ha.CREATE_NEW:na.setAudience(n.NCPP);this._store=new p();this._store.setWithAudience({target_spec:na.getTargetingSpec()});this.setState({mode:j.EDITOR_MODES.CREATE,dialogShown:true});return;default:break;}if(ma)this.props.onAudienceUpdate(ma.is_custom?n.CUSTOM_AUDIENCE:n.NCPP,ma.target_spec,ma.audience_id);},_onAudienceEdit:function(){var la=this.props.config.getBoostedPostSpecs(),ma=this.state.selected,na=null,oa={ad_account_id:this.props.adAccountID};switch(ma){case ha.PREFERRED_AUDIENCE:break;case ha.DEFAULT:na={target_spec:this.props.defaultTargetSpec};q.log(r.AM_DEFAULT_AUDIENCE_EDITED,oa);break;case ha.LAST_USED:na={target_spec:this.props.defaultTargetSpec};q.log(r.AM_LAST_USED_AUDIENCE_EDITED,oa);break;case ha.GROUPER:case ha.FANS:case ha.ENGAGED:this._store=new p();this._store.setWithAudience({audience_id:ma,target_spec:la.getTargetingSpec()});this._store.setEnabledInputs([j.EDITOR_INPUTS.LOCATIONS]);this.setState({mode:j.EDITOR_MODES.DRAFT,dialogShown:true});break;default:na=this._getAudienceFromID(ma,this.state.audiences);break;}if(na){this._store=new p();this._store.setWithAudience(na);this.setState({mode:j.EDITOR_MODES.EDIT,dialogShown:true});}},_getAudienceFromID:function(la,ma){var na=ma.length;for(var oa=0;oa<na;++oa)if(ma[oa].audience_id===la)return ma[oa];return null;},_isSelectedAudienceEditable:function(){switch(this.state.selected){case ha.PREFERRED_AUDIENCE:case ha.CREATE_NEW:return false;case ha.LAST_USED:return true;default:return true;}},_isSelectedAudienceEditableOnlyInAdsManager:function(){var la=null;switch(this.state.selected){case ha.CREATE_NEW:case ha.FANS:case ha.GROUPER:case ha.PREFERRED_AUDIENCE:case ha.ENGAGED:return false;case ha.LAST_USED:case ha.DEFAULT:la=this.props.defaultTargetSpec;break;default:var ma=this._getAudienceFromID(this.state.selected,this.state.audiences);if(ma.has_associated_campaigns)return true;la=ma.target_spec;break;}for(var na in la){if(x.EDIT_TARGETING_FIELDS.indexOf(na)===-1)return true;if(na==='locales'&&!this._shouldShowLanguageTargeting())return true;}return this._isIncompatibleFlatGeoSpec(la);},_isIncompatibleFlatGeoSpec:function(la){var ma=la.geo_locations;if(!ma)return false;var na=0,oa=i.TARGETING_SPEC_KEYS;Object.keys(ma).map(function(pa){if([oa.COUNTRIES,oa.REGIONS,oa.CITIES].indexOf(pa)!==-1)na++;});return na>1;},_hasAnyAudiences:function(){return this.state.audiences.length+this._specialAudiences.length>0;},_addSpecialAudienceOptions:function(la){var ma=this._specialAudiences,na=ma.length;for(var oa=0;oa<na;++oa){var pa=ma[oa];la.push(ea.createElement(ia,{key:pa.audience_id,value:pa.audience_id},pa.audience_name));}},_addAudienceOptions:function(la){var ma=this.state.audiences,na=ma.length;for(var oa=0;oa<na;++oa){var pa=ma[oa];la.push(ea.createElement(ia,{key:pa.audience_id,value:pa.audience_id},pa.audience_name));}},_onPostMutate:function(la,ma){if(this.state.mode===j.EDITOR_MODES.DRAFT){this.props.onAudienceUpdate(ma,this._store.getTargetSpec().getRaw(this._store.getLocationType()));return;}this.refreshSpecs(la,ma);},_getOtherNames:function(){return this.state.audiences.map(function(la){return la.audience_name;});},_renderChildren:function(){if(!this.props.children)return null;return (ea.createElement('div',{className:"_1obt"},this.props.children));},_renderAudienceManagementLinks:function(){if(!this.props.children)return null;var la=this._renderEditLink();return (ea.createElement('div',{className:"_q1q"},ea.createElement(da,{size:'small'},la,ea.createElement('span',{className:"_2pi8 _q1r"},la?'|':null),this._renderCreateLink())));},_renderCreateLink:function(){var la=this._onAudienceUpdate.bind(this,ha.CREATE_NEW);return (ea.createElement('span',{ref:'create_new_audience_link'},ea.createElement(u,{onClick:la},ea.createElement(da,null,ga._("Create New Audience")))));},_renderEditLink:function(){if(this._isSelectedAudienceEditableOnlyInAdsManager()){return (ea.createElement(m,null,ea.createElement('span',null,ea.createElement(u,null,ea.createElement(da,null,ga._("Edit Audience"))))));}else if(this._isSelectedAudienceEditable()){var la=ga._("Edit this audience's interests, location, ages and gender");return (ea.createElement('span',null,ea.createElement(y,{alignH:'right',tooltip:la,onClick:this._onAudienceEdit},ea.createElement(da,null,ga._("Edit Audience")))));}return null;},_onChangeDialogState:function(la){this.setState({dialogShown:la});},_shouldShowLanguageTargeting:function(){if(this.state.dialogShown&&!this._isLanguageTargetingExposureLogged){h.logExposure(l.BOOSTED_POST_LANGUAGE_TARGETING,this.props.config.getContextStore().getUserID());this._isLanguageTargetingExposureLogged=true;}return this.props.config.getExperimentStore().getExperiment(l.BOOSTED_POST_LANGUAGE_TARGETING);},render:function(){var la=null;if(this._hasAnyAudiences()){var ma=[],na=this.state.audiences.length,oa=this._specialAudiences.length;this._addSpecialAudienceOptions(ma);if(oa&&na)ma.push(ea.createElement(aa,{key:'separator'}));this._addAudienceOptions(ma);la=ea.createElement(ba,{maxheight:200,value:this.state.selected,onChange:this._onAudienceChange},ea.createElement(ca,{className:"_q1n",maxwidth:0,size:'xlarge'}),ma);}else if(!this.state.firstFetchDone)la=ea.createElement(v,{color:'white',size:'small'});return (ea.createElement('div',null,ea.createElement('div',{className:"_1obt"},ea.createElement(o,{adAccountID:this.props.adAccountID,controller:this._controller,defaultCountries:this.props.defaultCountries,dialogShown:this.state.dialogShown,mode:this.state.mode,otherNames:this._getOtherNames(),ref:'manager',showDefault:!this._hasAnyAudiences()&&this.state.firstFetchDone,showFeedbackThrottle:this.props.showFeedbackThrottle,showLanguageTargeting:this._shouldShowLanguageTargeting(),store:this._store,suggestedAudience:this.props.suggestedAudience,onChangeDialogState:this._onChangeDialogState,onPostMutate:this._onPostMutate}),la),this._renderAudienceManagementLinks(),this._renderChildren()));},_onInterestsNuxCloseButtonClick:function(){this.setState({interestsNuxShown:false});},renderLayers:function(){return {interestsNux:ea.createElement(z,{contextRef:(function(){return this.refs.create_new_audience_link;}).bind(this),position:'below',shown:this.state.interestsNuxShown&&this.state.firstFetchDone,onCloseButtonClick:this._onInterestsNuxCloseButtonClick},ga._("Create a new audience to add interests, which helps you to reach the people who are more likely to care about your post."))};}});f.exports=ka;},null);
__d('BoostedPostSelectAudienceSection.react',['BoostedComponentConfig','BoostedPostAudienceDetails.react','BoostedPostPlacementOptions','BoostedPostSelectAudienceSelector.react','BoostedPostTargetingController','PromotedPostConstants','React','URI','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=n.createClass({displayName:'BoostedPostSelectAudienceSection',propTypes:{config:q.instanceOf(h).isRequired,adAccountID:q.string.isRequired,suggestedAudience:q.bool,hasLastAudience:q.bool,lastAudienceID:q.number,defaultCountries:q.object.isRequired,defaultSpec:q.object.isRequired,showFeedbackThrottle:q.bool,onTargetingChange:q.func.isRequired,defaultPresetAudience:q.number,preferredAudienceTargetSpec:q.object,includeCustomAudiences:q.bool.isRequired,useSavedAudiences:q.bool},componentWillMount:function(){this._controller=new l(this.props.adAccountID,Object.keys(this.props.defaultCountries),this.props.useSavedAudiences);this.props.config.getBoostedPostSpecs().subscribe(m.ACCOUNT_CHANGE_FINISH,this._refreshSpecs);},_onAudienceUpdate:function(s,t,u){var v=this.props.config.getBoostedPostSpecs();v.setAudienceAndTargetingSpec(s,t);if(u)v.setLastAudienceID(u);this.props.onTargetingChange();},_refreshSpecs:function(){this._controller=new l(this.props.adAccountID,Object.keys(this.props.defaultCountries),this.props.useSavedAudiences);this.refs.selector.refreshSpecs();},_shouldShowInterestsNux:function(){var s=o.getRequestURI().getQueryData().placement;return s==j.AYMT_CREATE_NEW_INTEREST_TARGET_AD;},render:function(){var s=this.props.config.getBoostedPostSpecs();return (n.createElement('div',{className:"_3mui"},n.createElement(k,{adAccountID:this.props.adAccountID,config:this.props.config,defaultCountries:this.props.defaultCountries,defaultPresetAudience:this.props.defaultPresetAudience,defaultTargetSpec:this.props.defaultSpec,hasLastAudience:this.props.hasLastAudience,includeCustomAudiences:this.props.includeCustomAudiences,initialInterestsNuxShown:this._shouldShowInterestsNux(),lastAudienceID:this.props.lastAudienceID,preferredAudienceTargetSpec:this.props.preferredAudienceTargetSpec,ref:'selector',showFeedbackThrottle:this.props.showFeedbackThrottle,suggestedAudience:this.props.suggestedAudience,useSavedAudiences:this.props.useSavedAudiences,onAudienceUpdate:this._onAudienceUpdate},n.createElement(i,{audience:s.getTargetingSpec(),controller:this._controller,width:300}))));}});f.exports=r;},null);
__d('BoostedPostTargetingAudienceSelector.react',['BoostedComponentClientEvent','BoostedComponentTestElement','AdsTargetingConstants','InputLabel.react','React','HelpLink.react','XUIRadioInput.react','XUIText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=l.PropTypes,s=l.createClass({displayName:'BoostedPostTargetingAudienceInfo',propTypes:{isAlreadyTargeted:r.bool.isRequired,isDisabled:r.bool,isInComposer:r.bool.isRequired,selectedAudience:r.oneOf([j.AUDIENCE.Fans,j.AUDIENCE.Grouper,j.AUDIENCE.Ncpp,j.AUDIENCE.Custom,j.AUDIENCE.Lookalike,j.AUDIENCE.Engaged]).isRequired,showEngagedAudience:r.bool,showLookalikeAudience:r.bool,onDataUpdate:r.func.isRequired},_onValueChange:function(event){if(!this.props.isDisabled)this.props.onDataUpdate(h.UPDATE_AUDIENCE,event.target.value);},_renderFansOption:function(){if(this.props.isDisabled)return null;var t=q._(["Your boosted post will only be visible to people who like your Page","0d973f9c956c2c166c4cf796b5664a6c"]);return (l.createElement(k,null,l.createElement(n,{checked:this.props.selectedAudience===j.AUDIENCE.Fans,name:'audience',value:j.AUDIENCE.Fans,onChange:this._onValueChange}),l.createElement('label',null,q._("People who like your Page"),l.createElement(m,{tooltip:t}))));},_renderGrouperOption:function(){if(this.props.isDisabled)return null;var t=q._(["Your boosted post will only be visible to people who like your Page and their friends","fa8100f08c71354401173e7ac136183f"]);return (l.createElement(k,null,l.createElement(n,{checked:this.props.selectedAudience===j.AUDIENCE.Grouper,name:'audience',value:j.AUDIENCE.Grouper,onChange:this._onValueChange}),l.createElement('label',null,q._("People who like your Page and their friends"),l.createElement(m,{tooltip:t}))));},_renderNcppOption:function(){if(this.props.isDisabled)return null;var t=q._(["Choose the people who you want to show your boosted post to based on their location, age, gender and interests","0c17b4cc50c51d3ccea9cbb55bb7e224"]);return (l.createElement(k,{'data-testid':'ncpp_option'},l.createElement(n,{checked:this.props.selectedAudience===j.AUDIENCE.Ncpp||this.props.selectedAudience===j.AUDIENCE.Custom,name:'audience',value:j.AUDIENCE.Ncpp,onChange:this._onValueChange}),l.createElement('label',null,q._("People you choose through targeting"),l.createElement(m,{tooltip:t}))));},_renderLookalikeAudienceOption:function(){if(!this.props.showLookalikeAudience||this.props.isDisabled||this.props.isAlreadyTargeted)return null;var t=q._("Your boosted post will be visible to people who are similar to people who like your Page based on things like their demographics, interests and activities");return (l.createElement(k,null,l.createElement(n,{checked:this.props.selectedAudience===j.AUDIENCE.Lookalike,name:'audience',value:j.AUDIENCE.Lookalike,onChange:this._onValueChange}),l.createElement('label',null,q._("People similar to people who like your Page"),l.createElement(m,{tooltip:t}))));},_renderEngagedAudience:function(){if(!this.props.showEngagedAudience||this.props.isDisabled)return null;var t=q._("People in this audience includes people who have viewed, checked in, shared posts or otherwise engaged with your Page, and people who share their ages, genders and interests. They may or may not have liked your Page.");return (l.createElement(k,null,l.createElement(n,{checked:this.props.selectedAudience===j.AUDIENCE.Engaged,name:'audience',value:j.AUDIENCE.Engaged,onChange:this._onValueChange}),l.createElement('label',null,q._("People engaged with your Page and people similar to them"),l.createElement(m,{tooltip:t}))));},_renderAlreadyTargeted:function(){if(!this.props.isAlreadyTargeted)return null;if(this.props.isInComposer){var t=q._("Targeting for this post has already been specified.");}else t=q._("Targeting for this post was specified when it was created.");var u="_5lq7"+(this.props.isDisabled?' '+"_5c4b":'')+(' '+"_3-99")+(' '+"_3-8z");return (l.createElement(o,{className:u,'data-testid':'already_targeted_message',display:'block',size:'small'},t));},render:function(){return (l.createElement('form',{className:"_3ni0",'data-testid':i.AUDIENCE_SECTION},this._renderFansOption(),this._renderGrouperOption(),this._renderLookalikeAudienceOption(),this._renderEngagedAudience(),this._renderNcppOption(),this._renderAlreadyTargeted()));}});f.exports=s;},null);
__d('BoostedComponentAudienceSection.react',['BoostedComponentClientEvent','BoostedComponentConfig','BoostedComponentConstants','BoostedComponentContent.react','BoostedComponentLeftRightLabeledRow.react','BoostedComponentSection.react','BoostedComponentStrings','BoostedComponentSectionSubheader.react','BoostedComponentTargetingViewActions','BoostedComponentUnit','AdsTargetingConstants','React','SearchableEntry','SubscriptionsHandler','XUIGrayText.react','BoostedPostLocationTargetingSection.react','BoostedPostLookalikeCountrySelector.react','BoostedPostPlacementOptions','BoostedPostSelectAudienceSection.react','BoostedPostTargetingAudienceSelector.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){'use strict';if(c.__markCompiled)c.__markCompiled();var ca=s.PropTypes,da=s.createClass({displayName:'BoostedComponentAudienceSection',_locationSelectorOptions:{},_targetingViewActions:p,_subscriptionsHandler:u,propTypes:{config:ca.instanceOf(i).isRequired,hideTitle:ca.bool,isFirstSection:ca.bool.isRequired},getInitialState:function(){return {audienceSelected:this.props.config.getBoostedPostSpecs().getAudience()};},componentWillMount:function(){var ea=this.props.config.getUnitOptions();this._locationSelectorOptions=ea[q.LOCATIONS];this._locationSelectorOptions.targetingLocations=this._getLocationTokens();this._subscriptionsHandler=new u();this._subscriptionsHandler.addSubscriptions(this.props.config.getTargetingStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)),this.props.config.getAdAccountStore().subscribe('change',(function(){this.forceUpdate();this.props.config.getBoostedPostSpecs().notifyAccountChangeFinished();}).bind(this)));this._targetingViewActions=new p(this.props.config.getDispatcher());},componentWillUnmount:function(){this._subscriptionsHandler.release();delete this._subscriptionsHandler;},_getLocationTokens:function(){var ea=this._locationSelectorOptions.targetingLocations,fa=Object.keys(ea),ga={};for(var ha=0;ha<fa.length;ha++){ga[fa[ha]]=[];for(var ia=0;ia<ea[fa[ha]].length;ia++){var ja=ea[fa[ha]][ia];ga[fa[ha]].push(ja.uniqueID?new t({uniqueID:ja.uniqueID,title:ja.title,subtitle:ja.subtitle}):ja);}}return ga;},render:function(){var ea=s.createElement('div',null,s.createElement(o,{errors:this.props.config.getTargetingStore().getValidator().getErrors()}),s.createElement(k,null,this.getAudienceSelectorRow(),this.getLocationTargetingSection(),this.getAudienceManagerSection()));if(this.props.hideTitle)return ea;return (s.createElement(m,{isFirstSection:this.props.isFirstSection,title:n.TARGETING_SECTION},ea));},getAudienceSelectorRow:function(){var ea=this.props.config,fa=ea.getPrivacyGatingStore().isPrivacyGated(),ga=this.props.config.getUnitOptions()[q.AUDIENCE_MANAGER];if(this._isSmallPage()&&(fa||ga.enabled))return null;return (s.createElement(aa,{isAlreadyTargeted:fa,isDisabled:this._isSmallPage(),isInComposer:this.props.config.getContextStore().getPlacement()===y.COMPOSER,selectedAudience:this.state.audienceSelected,onDataUpdate:this._updateBoostedPostSpec}));},getAudienceManagerSection:function(){var ea=this.props.config,fa=ea.getUnitOptions()[q.AUDIENCE_MANAGER],ga=ea.getBoostedPostSpecs();if(!fa.enabled||(ea.getPrivacyGatingStore().isPrivacyGated()||this.state.audienceSelected===r.AUDIENCE.Fans||this.state.audienceSelected===r.AUDIENCE.Grouper||this.state.audienceSelected===r.AUDIENCE.Lookalike||this.state.audienceSelected===r.AUDIENCE.Engaged))return null;var ha="_1nzr"+(this._isSmallPage()?' '+"_3g4p":'');return (s.createElement('div',{className:ha},s.createElement(z,{adAccountID:ea.getAdAccountStore().getSelectedAccountID(),config:ea,defaultCountries:fa.defaultCountries,defaultPresetAudience:ga.getAudience(),defaultSpec:fa.defaultSpec,hasLastAudience:fa.hasLastAudience,includeCustomAudiences:ea.getConstraintStore().getBlacklistCountries().length===0&&ea.getConstraintStore().getWhitelistCountries().length===0,includePresetAudiences:false,lastAudienceID:ga.getLastAudienceID(),preferredAudienceTargetSpec:fa.preferredAudienceTargetSpec,showFeedbackThrottle:false,suggestedAudience:ga.isSuggestedAudience(),useSavedAudiences:true,onTargetingChange:this._onUpdateAudienceManagerTargeting})));},getLocationTargetingSection:function(){var ea=this.props.config,fa=ea.getBoostedPostSpecs();if(ea.getPrivacyGatingStore().isPrivacyGated()||this.state.audienceSelected===r.AUDIENCE.Lookalike||this.state.audienceSelected===r.AUDIENCE.Engaged)return null;var ga={targetingLevel:fa.getTargetingLevel(),radius:fa.getRadius()};return (s.createElement(w,{audienceSelected:this.state.audienceSelected,initialData:ga,locationSelectorOptions:this._locationSelectorOptions,onDataUpdate:this._updateBoostedPostSpec}));},getLookalikeAudienceSection:function(){var ea=this.props.config,fa=this._locationSelectorOptions;if(ea.getPrivacyGatingStore().isPrivacyGated()||!fa.defaultLookalikeCountry)return null;var ga=this.state.audienceSelected!==r.AUDIENCE.Lookalike?"hidden_elem":'',ha=fa.lookalikeCountries,ia=s.createElement(x,{countries:fa.lookalikeCountries,defaultCountry:fa.defaultLookalikeCountry,onDataUpdate:this._updateBoostedPostSpec});if(ha&&Object.keys(ha).length===1)for(var ja in ha){ia=s.createElement(v,{shade:'medium'},ha[ja]);break;}return (s.createElement(l,{className:ga,label:n.COUNTRY},ia));},_onUpdateAudienceManagerTargeting:function(){this._targetingViewActions.logUpdateTargetingEvent(h.UPDATE_TARGETING);},_updateBoostedPostSpec:function(ea,fa){var ga={},ha=this.props.config.getBoostedPostSpecs();switch(ea){case h.UPDATE_AUDIENCE:var ia=parseInt(fa,10);this.setState({audienceSelected:ia});ha.setAudience(ia);return;case h.UPDATE_CITIES:var ja=this._getLocationSpecs('cities',fa);ga={cities:ja};ha.setLocation(ja);break;case h.UPDATE_COUNTRIES:var ka=this._getLocationSpecs('countries',fa);ga={countries:ka};ha.setLocation(ka);break;case h.UPDATE_REGIONS:var la=this._getLocationSpecs('regions',fa);ga={regions:la};ha.setLocation(la);break;case h.UPDATE_RADIUS:ga={radius:fa};ha.setRadius(fa);break;case h.UPDATE_LOOKALIKE_COUNTRY:ha.setLookalikeCountry(fa);break;default:return;}this._targetingViewActions.logUpdateTargetingEvent(ea);},_getLocationSpecs:function(ea,fa){var ga={},ha=[],ia=fa.length;if(ia===0)return null;for(var ja=0;ja<ia;ja++)if(ea==='countries'){ha.push(fa[ja].getUniqueID());}else if(ea==='cities'){var ka={key:fa[ja].getUniqueID(),name:fa[ja].getTitle(),radius:this.props.config.getBoostedPostSpecs().getRadius()};ha.push(ka);}else ha.push({key:fa[ja].getUniqueID(),name:fa[ja].getTitle()});ga[ea]=ha;return ga;},_isSmallPage:function(){return (this.props.config.getContextStore().getFanCount()<j.MIN_FAN_COUNT_FOR_CONNECTIONS_TARGETING);}});f.exports=da;},null);
__d('AdsBudgetDropdownSelector.react',['AdsCurrencyInput.react','AdsCurrencyFormatter','AdsRichSelector.react','AdsTargetingTogglerSafeMixin','DOM','React','ReactDOM','XUIGrayText.react','XUIText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=m.PropTypes,t=j.Option,u='-1';function v(x){return parseInt(x,10);}var w=m.createClass({displayName:'AdsBudgetDropdownSelector',mixins:[k],propTypes:{budgets:s.object.isRequired,currency:s.string.isRequired,hideEstimation:s.bool,selectedBudget:s.number.isRequired,showCustomBudgetOption:s.bool.isRequired,onBudgetSelected:s.func.isRequired,onBudgetEntered:s.func.isRequired,onDropdown:s.func,showLoadingIndicator:s.bool,updateAllBudgets:s.bool,shouldAddCurrencyCode:s.bool,shouldUseBudgetTypeSelector:s.bool},getInitialState:function(){return {selectedBudget:this.props.selectedBudget,customBudget:this.props.selectedBudget};},componentWillReceiveProps:function(x){this.setState({selectedBudget:x.selectedBudget});},_onTextInputChange:function(x){var y=Math.floor(x);if(y===this.state.selectedBudget)return null;this.props.onBudgetEntered(y);this.setStateSafe({customBudget:x,selectedBudget:x});},_onBudgetChange:function(x){this.setStateSafe(x);this.props.onBudgetSelected(x.selectedBudget);},_onSelectorChange:function(x){if(x.value===u){var y=l.scry(n.findDOMNode(this.refs.budgetTextInput),'input')[0];y.focus();y.select();return;}this._onBudgetChange({selectedBudget:v(x.value)});},_getEstimatedReach:function(x){if(!this.props.budgets[x])return null;var y=this.props.budgets[x].estimation_label;if(!y||this.props.hideEstimation)return null;return (m.createElement(o,{className:"_nmo",size:'small',weight:'normal'},y));},_getSortedBudgets:function(x){if(!x)x=this.props.budgets;return Object.keys(x).map(v).sort(function(y,z){return y-z;});},_renderDropdown:function(){var x=this._getSortedBudgets(),y="_nmp mvs",z="_nmq prl";if(this.props.shouldUseBudgetTypeSelector){y="_1mug mvs";z="_1muj prl";}var aa=x.map(function(ca){var da=i.formatCurrencyFullFormat(this.props.currency,ca,this.props.shouldAddCurrencyCode,true);return (m.createElement(t,{key:ca,label:da,selected:ca===this.state.selectedBudget,value:ca.toString()},m.createElement('div',{className:y},m.createElement(p,{className:z,size:'medium'},da),this._getEstimatedReach(ca))));},this);if(this.props.showCustomBudgetOption){var ba=r._(["Choose Your Own","4b59808cb23c3b1ceecb6dc31069d4a4"]);aa.push(m.createElement(t,{key:u,label:ba,value:u},m.createElement('div',{className:y},m.createElement(p,{className:'prl',size:'medium'},ba))));}return (m.createElement(j,{alignment:'right',className:"_5wwb",defaultValue:this.state.selectedBudget.toString(),noLabel:true,requireSelection:false,size:'xlarge',onChange:this._onSelectorChange,onDropdown:this.props.onDropdown},aa));},_renderTextInput:function(){var x="_8xx";if(this.props.shouldUseBudgetTypeSelector)x="_1muk";return (m.createElement(h,{className:x,currency:this.props.currency,eventType:'change',height:'xtall',nonnegative:true,ref:'budgetTextInput',value:this.state.selectedBudget,withISO:this.props.shouldAddCurrencyCode,withNumberDelimiters:true,onDataUpdate:this._onTextInputChange}));},_onKeyDown:function(event){if(event.key==='Enter')event.preventDefault();},render:function(){return (m.createElement('div',{className:"_51xa",onKeyDown:this._onKeyDown},this._renderTextInput(),this._renderDropdown()));}});f.exports=w;},null);
__d('BoostedComponentSectionMixin',['StoreBasedStateMixinHelper','forEachDifference','getObjectValues','invariant'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l={getInitialState:function(){this._stores=this.constructor.getStores(this.props);return this.constructor.calculateState(this._stores,undefined);},componentWillMount:function(){var m=j(this._stores);!m.every(function(n){return n!=null;})?k(0):undefined;this._helper=new h(m);this._helper.subscribeCallback((function(){this.setState(this.constructor.calculateState(this._stores,this.state));}).bind(this));},componentWillReceiveProps:function(){var m=this.constructor.getStores(this.props);i(this._stores,m,{onBoth:function(n,o,p){return (k(n===o));},onLeft:function(n,o){return (k(false));},onRight:function(n,o){return (k(false));}});},componentWillUnmount:function(){this._helper.release();this._helper=null;}};f.exports=l;},null);
__d('BoostedComponentSectionUtils',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={makeGetStoresFromConfig:function(){for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];return function(l){return (h.getStoresFromConfig(l.config,j));};},getStoresFromConfig:function(i,j){var k={};j.forEach(function(l){k[l]=i.getStore(l);});return k;}};f.exports=h;},null);
__d('BoostedComponentBudgetAndDurationSection.react',['AdsBudgetDropdownSelector.react','AdsHelpLink.react','AdsReachEstimateBar.react','AdsReachEstimatePlatformConstant','AdsSwapChargeCurrency','BoostedComponentAppID','BoostedComponentBudgetEstimationViewActions','BoostedComponentBudgetType','BoostedComponentConfig','BoostedComponentContent.react','BoostedComponentDurationSelector.react','BoostedComponentDurationViewActions','BoostedComponentExperiment','BoostedComponentLabeledEditor.react','BoostedComponentSection.react','BoostedComponentSectionMixin','BoostedComponentSectionSubheader.react','BoostedComponentSectionUtils','BoostedComponentStoreType','BoostedComponentStrings','React','XUIGrayText.react','XUINotice.react','XUISelector.react','XUIText.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){'use strict';if(c.__markCompiled)c.__markCompiled();var ja=ba.PropTypes,ka=ea.Option,la=ba.createClass({displayName:'BoostedComponentBudgetAndDurationSection',mixins:[w],propTypes:{config:ja.instanceOf(p).isRequired},statics:{getStores:y.makeGetStoresFromConfig(z.AD_ACCOUNT_STORE,z.BUDGET_EST_STORE,z.DURATION_STORE,z.DIALOG_CHANGE_STORE),calculateState:function(ma){var na=ma[z.BUDGET_EST_STORE],oa=ma[z.DIALOG_CHANGE_STORE];if(oa.getShowLoadingIndicator())return {showLoadingIndicator:true};var pa={selectedBudget:na.getSelectedBudgetValue(),selectedBudgetType:na.getBudgetType(),runContinuously:ma[z.DURATION_STORE].getRunContinuously(),showLoadingIndicator:false,budgets:na.getBudgetEstOptions(),currency:ma[z.AD_ACCOUNT_STORE].getSelectedAccountCurrency(),errors:na.getValidator().getErrors()};if(na.hasSelectedBudgetInfo()){pa.estimationLabel=na.getEstimationLabel();pa.estimationsLower=na.getSelectedBudgetLowerEstimates();pa.estimationsUpper=na.getSelectedBudgetUpperEstimates();}return pa;}},componentWillMount:function(){var ma=this.props.config;this._budgetEstViewActions=new n(ma.getDispatcher());this._durationViewActions=new s(ma.getDispatcher());},_getBudgetLabel:function(){return (this.props.config.getBudgetEstStore().getBudgetType()===o.LIFETIME_BUDGET?aa.TOTAL_BUDGET_LABEL:aa.DAILY_BUDGET_LABEL);},_getBudgetToolTip:function(){return (this.props.config.getBudgetEstStore().getBudgetType()===o.LIFETIME_BUDGET?aa.LIFETIME_BUDGET_TOOLTIP:aa.DAILY_BUDGET_TOOLTIP);},_getBudgetSelector:function(){var ma=this.props.config.getExperimentStore().getExperiment(t.BOOSTED_COMPONENT_LIFETIME_BUDGET);return (ba.createElement('div',null,ba.createElement(h,{alignh:'right',budgets:this.state.budgets,currency:this.state.currency,selectedBudget:this.state.selectedBudget,shouldAddCurrencyCode:false,shouldUseBudgetTypeSelector:ma,showCustomBudgetOption:true,onBudgetEntered:(function(na){this._budgetEstViewActions.inputCustomBudget(na);}).bind(this),onBudgetSelected:(function(na){this._budgetEstViewActions.updateBudget(na);}).bind(this)}),this._getBudgetTypeSelector()));},_getBudgetTypeSelector:function(){if(!this.props.config.getExperimentStore().getExperiment(t.BOOSTED_COMPONENT_LIFETIME_BUDGET))return null;return (ba.createElement(ea,{className:"_2pit",size:"xlarge",value:this.state.selectedBudgetType,onChange:(function(ma){this._budgetEstViewActions.updateBudgetType(ma.value);}).bind(this)},this._getBudgetTypeOptions()));},_getBudgetTypeOptions:function(){var ma=[o.DAILY_BUDGET,o.LIFETIME_BUDGET],na=[];for(var oa=0;oa<ma.length;oa++)na.push(ba.createElement(ka,{key:ma[oa],value:ma[oa]},ma[oa]));return na;},_getDurationSelector:function(){var ma=this.props.config,na=ma.getDurationStore();return (ba.createElement(r,{campaignLengthOptions:na.getCampaignLengthOptions(),hideRunContinuously:na.getHideRunContinuously(),latestAllowedCampaignEndTimestampSeconds:na.getLatestAllowedCampaignEndTimestamp(),runContinuously:na.getRunContinuously(),selectedCampaignLengthInDays:na.getCampaignLengthInDays(),onDurationTypeUpdate:(function(oa){this._durationViewActions.updateRunContinuously(oa);}).bind(this),onEndDateSelectorUpdate:(function(oa){this._durationViewActions.updateCampaignLengthInDays(oa);}).bind(this)}));},_getBudgetNotice:function(){var ma=l.renderWarnbox(this.state.currency);if(ma)return (ba.createElement('div',{className:"_3-8y"},ma));var na=this.props.config.getBudgetEstStore().getHighBudgetThreshold();if(na>0&&this.state.selectedBudget>na)return (ba.createElement('div',{className:"_3-8y"},ba.createElement(da,{className:"_3x2q",use:'notify'},ha._("Your maximum budget is much higher than usual."))));return null;},_getEstimates:function(){var ma=this.props.config.getBudgetEstStore(),na=this.props.config.getContextStore().getAppID();if(na===m.BOOSTED_POST||na===m.BOOSTED_EVENT||na===m.BOOSTED_PRODUCT||na===m.BOOSTED_LOCAL_AWARENESS){var oa=na===m.BOOSTED_POST||na===m.BOOSTED_EVENT||na===m.BOOSTED_PRODUCT?aa.ESTIMATED_PEOPLE_REACH:aa.ESTIMATED_DAILY_REACH;return (ba.createElement(u,{className:"_40nu",label:oa,tooltip:aa.ESTIMATION_TOOLTIP},ba.createElement(j,{estimateDAU:ma.getAudienceSize(),fillStyle:'stretch',platform:k.NONE,reachBounds:{min:this.state.estimationsLower,max:this.state.estimationsUpper}}),ba.createElement(ca,{className:"_3-8y",display:'block',size:'small'},aa.BETTER_AD_RESULT_SUGGESTION)));}return (ba.createElement('div',{className:"_2hop"},ba.createElement(fa,{className:"_3-8_",display:'inline',size:'small'},this.state.estimationLabel),ba.createElement(i,{imgHover:ia('images/components/HelpLink/info-light-hover-2x.png'),imgNormal:ia('images/components/HelpLink/info-light-2x.png'),width:300},aa.ESTIMATION_TOOLTIP)));},_getDurationNotice:function(){var ma=this.props.config;if(ma.getBudgetEstStore().getBudgetType()===o.DAILY_BUDGET||ma.getDurationStore().getCampaignLengthInDays()<=1)return null;return (ba.createElement('div',{className:'mtm'},ba.createElement(ca,{size:'small'},ha._("You will spend {budget_per_day_amount} per day.",[ha.param('budget_per_day_amount',ma.getBudgetEstStore().getDailyBudget())]))));},render:function(){return (ba.createElement(v,{title:aa.BUDGET_DURATION_SECTION},ba.createElement('div',null,ba.createElement(x,{errors:this.state.errors}),ba.createElement(q,null,ba.createElement(u,{label:this._getBudgetLabel(),showLoadingIndicator:this.state.showLoadingIndicator,tooltip:this._getBudgetToolTip()},this._getBudgetSelector(),this._getBudgetNotice()),this._getEstimates(),ba.createElement('div',null,ba.createElement(u,{label:aa.DURATION_LABEL,tooltip:aa.DURATION_TOOLTIP},this._getDurationSelector()),this._getDurationNotice())))));}});f.exports=la;},null);
__d('BoostedComponentConfirmationSection.react',['AdsCreationConfig','AdsTargetingConstants','BoostedPostAudienceManagerConstants','BoostedActionStatus','BoostedComponentAppID','BoostedComponentConfig','BoostedComponentExperiment','BoostedComponentSuccessPixelUpsellContainer.react','BoostedComponentSection.react','BoostedComponentStrings','BoostedPostAudienceConstants','GraphAPI','Grid.react','Image.react','Link.react','React','XUIText.react','cx','isEmpty','ix','fbt','intlList','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){'use strict';if(c.__markCompiled)c.__markCompiled();var ea=t.GridItem,fa=w.PropTypes,ga=w.createClass({displayName:'BoostedComponentConfirmationSection',propTypes:{config:fa.instanceOf(m).isRequired,onEditClick:fa.func},getInitialState:function(){return {showTargetingSummary:false,hasAudienceDescription:false,targetingSentences:null,targetingSentencesFetched:false};},_getAdStatusMessage:function(){var ha=null,ia=null,ja=null;switch(this.props.config.getAdStatusStore().getAdStatus()){case k.REJECTED:ha=q.AD_REJECTED_TITLE;ia=ba._("Your post is still published on your Page, but it is no longer boosted because it doesn't follow Facebook's {Ad Guidelines hyperlink}.",[ba.param('Ad Guidelines hyperlink',w.createElement(v,{href:'/ad_guidelines.php',target:'_blank'},ba._("Advertising Policies")))]);ja=w.createElement(u,{src:aa('/images/ads/common/confirmation/rejected.png')});break;case k.PENDING:ha=q.AD_IN_REVIEW_TITLE;ia=ba._("We're reviewing your advert to make sure that it meets our {Ad Guidelines hyperlink}. This usually takes less than 15 minutes.",[ba.param('Ad Guidelines hyperlink',w.createElement(v,{href:'/ad_guidelines.php',target:'_blank'},ba._("Advertising Policies")))]);ja=w.createElement(u,{src:'/images/ads/common/confirmation/received.png'});break;case k.ACTIVE:case k.PAUSED:ha=q.AD_APPROVED_TITLE;ia=q.AD_APPROVED_CONTENT;ja=w.createElement(u,{src:'/images/ads/common/confirmation/approved.png'});break;default:return null;}return (w.createElement('div',{className:"_4vxt"},w.createElement('div',{className:"_i2y"},w.createElement(t,{className:"_4vxq",cols:2},w.createElement(ea,null,ja),w.createElement(ea,null,w.createElement('div',{className:"_1dme"},ha),w.createElement('div',{className:"_i2z"},ia))))));},_getDurationInfo:function(){var ha=this.props.config.getDurationStore().getCampaignLengthInDays(),ia=ha===1?ba._("1 day"):ba._("{number of days} days",[ba.param('number of days',ha)]);return (w.createElement(t,{className:"_4vxq",cols:2},w.createElement(ea,{className:"_29nc"},w.createElement(u,{src:aa('/images/ads/common/confirmation/durationnew.png')})),w.createElement(ea,null,ba._("This promotion will run for {text of campaign length in days}.",[ba.param('text of campaign length in days',w.createElement('span',{className:"_4vxs"},ia))]))));},_getBudgetInfo:function(){return (w.createElement(t,{className:"_4vxq",cols:2},w.createElement(ea,{className:"_29nc"},w.createElement(u,{src:aa('/images/ads/common/confirmation/budgetnew.png')})),w.createElement(ea,null,ba._("Your total budget for this promotion is {text of total budget}.",[ba.param('text of total budget',w.createElement('span',{className:"_4vxs"},this.props.config.getBudgetEstStore().getTotalBudget()))]))));},_getAudienceText:function(){var ha=this.props.config.getTargetingStore().getGender(),ia=this.props.config.getTargetingStore().getAudience();switch(ia){case r.FANS:return ba._("people who like your Page,");case r.GROUPER:return ba._("people who like your Page and their friends,");}switch(ha){case i.GENDERS.Men:return ba._("men");case i.GENDERS.Women:return ba._("women");default:return ba._("men and women");}},_getAgeText:function(ha,ia){if(ia===h.maxAge)ia=q.getAgeRangeOlderThan(ia);return q.getAgeRangeFromTo(ha,ia);},_getTargetingInfo:function(){var ha=this.props.config.getTargetingStore(),ia=this.props.config.getTargetingStore().getLocationsNum()>1?q.LOCATIONS:q.LOCATION,ja=this._getInterestsNumber()>0?this._getInterestsNumber()+' '+q.INTERESTS:null,ka=this._getInterestsNumber()>0?' and have ':null;return (w.createElement(t,{className:"_4vxq",cols:2},w.createElement(ea,{className:"_29nc"},w.createElement(u,{src:aa('/images/ads/common/confirmation/audiencenew.png')})),w.createElement(ea,null,w.createElement('div',null,ba._("You are targeting {text of targeting gender}{text of targeting age range} who live in {text of targeting locations}{text of appending interests targeting text}{text of targeting interests}",[ba.param('text of targeting gender',w.createElement('span',{className:"_4vxs"},this._getAudienceText())),ba.param('text of targeting age range',w.createElement('span',{className:"_4vxs"},' ',' ages ',' ',this._getAgeText(ha.getMinAge(),ha.getMaxAge()))),ba.param('text of targeting locations',w.createElement('span',{className:"_4vxs"},this.props.config.getTargetingStore().getLocationsNum(),' ',ia)),ba.param('text of appending interests targeting text',w.createElement('span',null,ka)),ba.param('text of targeting interests',w.createElement('span',{className:"_4vxs"},ja))])))));},_getPaymentInfo:function(){var ha=this.props.config.getAdAccountStore(),ia=ha.getAllAccounts();return (w.createElement(t,{className:"_4vxq",cols:2},w.createElement(ea,{className:"_29nc"},w.createElement(u,{src:aa('/images/ads/common/confirmation/paymentnew.png')})),w.createElement(ea,null,ba._("{text of account name}'s {text of primary payment method} will be billed.",[ba.param('text of account name',w.createElement('span',{className:"_4vxs"},ia[ha.getSelectedAccountID()].name)),ba.param('text of primary payment method',w.createElement('span',{className:"_4vxs"},ha.getSelectedAccountPrimaryPMDisplayString()))]))));},_getBillingInfo:function(){return (w.createElement(t,{className:da("_4vxq","_2052"),cols:2},w.createElement(ea,{className:"_29nc"},w.createElement(u,{src:aa('/images/ads/common/confirmation/datenew.png')})),w.createElement(ea,null,ba._("You will be billed at a later date. {billing information link}.",[ba.param('billing information link',w.createElement(v,{href:'/help/716180208457684/',target:'_blank'},ba._("Learn more")))]))));},_getIsPixelUpsellSupported:function(){var ha=this.props.config.getContextStore().getAppID();return (ha===l.BOOSTED_WEBSITE||ha===l.BOOSTED_POST);},_getPixelUpsell:function(){if(!this._getIsPixelUpsellSupported())return null;return (w.createElement(o,{adAccountStore:this.props.config.getAdAccountStore(),campaignID:this.props.config.getAdStatusStore().getCampaignID(),className:da("_4vxq","_2052")}));},_getEditMessage:function(){if(!this.props.onEditClick)return null;return (w.createElement('div',null,w.createElement('div',{className:"_i2y _3-8-"}),w.createElement('div',{className:"_4vxt"},ba._("Want to make a change? {edit promotion link}",[ba.param('edit promotion link',w.createElement(v,{onClick:this.props.onEditClick},ba._("Edit promotion")))]))));},_getShowFullTargetingLink:function(){return (w.createElement('div',{className:"_3jvf"},w.createElement(v,{onClick:this._toggleShowTargetingSummary},this.state.showTargetingSummary?q.HIDE_FULL_SUMMARY:q.SHOW_FULL_SUMMARY)));},_getInterestsNumber:function(){if(z(this.props.config.getTargetingStore().getInterests()))return 0;return this.props.config.getTargetingStore().getInterests().length;},_toggleShowTargetingSummary:function(){this.setState({showTargetingSummary:!this.state.showTargetingSummary});},_fetchTargetingSentences:function(){s(j.GRAPH_API_VERSION).adaccount(this.props.config.getAdAccountStore().getSelectedAccountID()).edge('targetingsentencelines').get({access_token:this.props.config.getContextStore().getAccessToken(),discard_placements:true,targeting_spec:this.props.config.getTargetingStore().getTargetingSpec()}).done(this._updateTargetingSentence);},_updateTargetingSentence:function(ha){this.setState({targetingSentences:ha,hasAudienceDescription:true,targetingSentencesFetched:true});},_getFormattedTargetingSentence:function(ha,ia){if(!this.state.showTargetingSummary)return null;if(ha&&ha.content==='Excluded Connections:')return null;return (w.createElement('div',{className:"_29nd",'data-hover':'tooltip','data-tooltip-display':'overflow',key:ia},ba._("{content_label} {children}",[ba.param('content_label',w.createElement(x,{weight:'bold'},ha.content)),ba.param('children',ca(ha.children,ca.CONJUNCTIONS.OR))])));},_getTargetingSummary:function(){if(!this.state.hasAudienceDescription)return this._getShowFullTargetingLink();var ha=this.state.targetingSentences;if(!ha||!ha.targetingsentencelines.length)return null;return (w.createElement('div',null,w.createElement('div',null,ha.targetingsentencelines.map(this._getFormattedTargetingSentence)),w.createElement('div',null,this._getShowFullTargetingLink())));},render:function(){if(!this.props.config.getAdStatusStore().getShouldEdit())return null;if(!this.state.targetingSentencesFetched)this._fetchTargetingSentences();var ha=this.props.config.getInsightsStore();if(this.props.config.getExperimentStore().getExperimentParamBool(n.BOOSTED_COMPONENT_INSIGHTS_SECTION,'has_insights')&&ha.canShowInsights())return (w.createElement(p,null,w.createElement('div',{className:"_1xsz _3-8p _2ph_"},this._getTargetingInfo(),this._getTargetingSummary())));return (w.createElement(p,{isFirstSection:false},this._getAdStatusMessage(),w.createElement('div',{className:"_4vxt"},w.createElement('div',{className:"_4vxu"},q.ORDER_SUMMARY),this._getTargetingInfo(),this._getTargetingSummary(),this._getDurationInfo(),this._getBudgetInfo(),this._getPaymentInfo(),this._getBillingInfo()),this._getEditMessage(),this._getPixelUpsell()));}});f.exports=ga;},null);
__d('BoostedComponentConversionPixelSection.react',['AdsAccountStoreWrapper_DEPRECATED','AdsConversionPixelUtils','AdsPixelComponentEnvironments','AdsPixelHelpCenterLinkUtil','AdsPixelSelectorContainer.react','AdsPixelSelectorLoggerContext','AdsPixelSelectorStoreWrapper','AdsPixelStore','AdsPixelStoreWrapper','AdsPixelTrackingContextUtils','AdsPixelUIEnvironments','BoostedComponentAppID','BoostedComponentConfig','BoostedComponentContent.react','BoostedComponentConversionPixelViewActions','BoostedComponentLabeledEditor.react','BoostedComponentSection.react','BoostedComponentSectionMixin','BoostedComponentSectionUtils','BoostedComponentStoreType','BoostedComponentStrings','React','XUIText.react','cx','dotAccess','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){'use strict';if(c.__markCompiled)c.__markCompiled();var ha=ca.PropTypes,ia=ca.createClass({displayName:'BoostedComponentConversionPixelSection',mixins:[y],statics:{getStores:function(ja){return babelHelpers._extends({},z.getStoresFromConfig(ja.config,[aa.AD_ACCOUNT_STORE,aa.AD_STATUS_STORE,aa.CONTEXT_STORE,aa.CONVERSION_PIXEL_STORE]),{AdsPixelStore:o});},calculateState:function(ja,ka){var la=ja[aa.AD_ACCOUNT_STORE];h.setAccountID(la.getSelectedAccountID());h.setEnvironment(r.LWI,Object.create(la));var ma=ja[aa.CONTEXT_STORE];return {appID:ma.getAppID(),conversionPixels:ja[aa.CONVERSION_PIXEL_STORE].getSelectedAccountConversionPixels(),selectedConversionPixelID:ja[aa.CONVERSION_PIXEL_STORE].getSelectedConversionPixelID(),shouldEdit:ja[aa.AD_STATUS_STORE].getShouldEdit(),websiteDomains:ja[aa.CONVERSION_PIXEL_STORE].getWebsiteDomains(),unifiedPixels:o.getPixels()};}},propTypes:{config:ha.instanceOf(t).isRequired},componentWillMount:function(){var ja=this.props.config;this._conversionPixelViewActions=new v(ja.getDispatcher());},childContextTypes:q.getContextTypes(),getChildContext:function(){return {componentEnvironment:j.tracking,conversionPixelSelector:ga,getConversionInfoBoxContentForActivePixel:function(){return null;},getHelpLink:k.getHelpLink,legacyPixelSelectType:'multi',isCampaignManager:function(){return false;},updateTrackingSpec:ga};},render:function(){var ja=this.props.config.getStores()[aa.CONTEXT_STORE];if(ja.getAppID()!==s.BOOSTED_POST&&ja.getAppID()!==s.BOOSTED_WEBSITE)return null;return (this._getDoesHaveWebsiteDomains()?this._renderUnifiedPixelSelector():null);},_renderUnifiedPixelSelector:function(){if(!this._getShouldDisplaySelector())return null;return (ca.createElement(x,{isFirstSection:false,title:ba.CONVERSION_TRACKING_SECTION},ca.createElement(u,null,this._getUnifiedPixelSelector())));},_getDoesHaveWebsiteDomains:function(){return !!(this.state.websiteDomains&&this.state.websiteDomains.length>0);},_getUnifiedPixelSelector:function(){if(this.state.shouldEdit){var ja=this._getSelectedPixelName();return (ca.createElement(w,{label:ba.TRACKING_PIXEL_EDIT_MODE_LABEL,shade:'dark'},ca.createElement(da,null,ja)));}var ka=this.props.config.getStores(),la=ka[aa.CONVERSION_PIXEL_STORE];return (ca.createElement(w,{className:"_4s5m",label:ba.CONVERSION_PIXEL_LABEL,shade:'dark',tooltip:ba.CONVERSION_PIXEL_TOOLTIP},ca.createElement(l,{defaultPixelDomains:la.getWebsiteDomains(),logContext:new m(r.LWI,this.state.appID),onChange:(function(ma){return (this._conversionPixelViewActions.updatePixel(ma));}).bind(this)})));},_getSelectedPixelName:function(){var ja=p.getPixelName(this.state.selectedConversionPixelID);if(ja!==undefined)return ja;var ka=i.getPixelDetails(this.state.selectedConversionPixelID,this.state.conversionPixels);if(ka!==undefined)return fa(ka,'name');},_getShouldDisplaySelector:function(){if(this.state.shouldEdit&&!this.state.selectedConversionPixelID)return false;return n.getShouldDisplaySelector(this.state.unifiedPixels,this.state.conversionPixels);}});f.exports=ia;},null);
__d('BoostedComponentCollapsableSection.react',['BoostedComponentSection.react','BoostedComponentSectionSubheader.react','BoostedComponentStrings','Image.react','Link.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=o.shape({title:o.string,content:o.object}),q=m.createClass({displayName:'BoostedComponentCollapsableSection',propTypes:{isCollapsed:o.bool,collapsedData:p.isRequired,uncollapsedData:p.isRequired,isFirstSection:o.bool,errors:o.array,editable:o.bool.isRequired},getInitialState:function(){return {isCollapsed:this.props.isCollapsed};},_getLink:function(){var r;if(this.props.editable){r=this.state.isCollapsed?j.EDIT_SECTION:j.SAVE_SECTION_CHANGES;}else r=this.state.isCollapsed?j.VIEW_SECTION_DETAILS:j.HIDE_SECTION_DETAILS;return (m.createElement(l,{className:"_2jae",role:'button',onClick:this._toggleCollapse},this._getIcon(),' ',r));},_getErrors:function(){if(!this.state.isCollapsed)return null;var r=m.createElement(l,{role:'button',onClick:this._toggleCollapse},j.EDIT_BUTTON_LABEL);return (m.createElement(i,{errors:this.props.errors,link:r}));},_getIcon:function(){return this.props.editable&&this.state.isCollapsed?m.createElement(k,{src:'/images/ads/manage/oca/pencil.png'}):null;},_toggleCollapse:function(){this.setState({isCollapsed:!this.state.isCollapsed});},render:function(){var r=this.state.isCollapsed?this.props.collapsedData:this.props.uncollapsedData;return (m.createElement('div',null,m.createElement(h,{headerLink:this._getLink(),isFirstSection:this.props.isFirstSection,title:r.title},this._getErrors(),r.content)));}});f.exports=q;},null);
__d('BoostedComponentCreativeSection.react',['AdImageSpecsUtils','AdsAPIObjectives','AdsCallToActionTypes','AdsCreationConfig','AdsImageLegacy','AdsQEDataManager','AdsTextInput.react','ApiAdCreativeFields','ApiAdCreativeStorySpecFields','ApiCallToActionFields','ApiObjectStorySpecLinkFields','ApiObjectStorySpecVideoFields','BoostedComponentAppID','BoostedComponentCTAPlaceEditor.react','BoostedComponentCallToActionSelector.react','BoostedComponentClientEvent','BoostedComponentCollapsableSection.react','BoostedComponentConfig','BoostedComponentConstants','BoostedComponentContent.react','BoostedComponentCreativeBodyEditor.react','BoostedComponentCreativeCategory','BoostedComponentCreativeEditingConfig','BoostedComponentCreativeEditingElement','BoostedComponentCreativeEditorMixin','BoostedComponentCreativeLinkDataEditor.react','BoostedComponentCreativeMultiAdsEditor.react','BoostedComponentCreativePlacement','BoostedComponentCreativeViewActions','BoostedComponentDualCreativeContent.react','BoostedComponentExperiment','BoostedComponentImageSelector.react','BoostedComponentLabeledEditor.react','BoostedComponentMultiAdsConstants','BoostedComponentMultiAdsProductChangeTypes','BoostedComponentSection.react','BoostedComponentSectionMixin','BoostedComponentSectionSubheader.react','BoostedComponentSectionUtils','BoostedComponentStoreType','BoostedComponentStrings','BoostedComponentVideoPanel.react','BoostedComponentVideoSource','CallToActionValueFields','InstagramSlipstreamMediaContentType','Link.react','PageImageListPagingStore','React','URI','WebApiApplication','isEmpty','fbt','getByPath','getObjectValues','ads-lib-urllib'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb){'use strict';if(c.__markCompiled)c.__markCompiled();var kb=cb.PropTypes;function lb(qb){var rb=mb(qb,r.CHILD_ATTACHMENTS);if(!rb||rb===undefined||rb.length===0){var sb={link:mb(qb,r.LINK),name:mb(qb,r.NAME),description:mb(qb,r.MESSAGE),picture:qb.getImageURL(),image_hash:qb.getImageHash()};if(qb.getImageCrops())sb.image_crops=qb.getImageCrops();return [sb];}return rb;}function mb(qb,rb){var sb=qb.getCreativeSpec(),tb=sb[o.OBJECT_STORY_SPEC];if(!tb)return null;var ub=tb[p.LINK_DATA];if(!ub)return null;return ub[rb];}function nb(qb,rb){var sb=qb.getCreativeSpec(),tb=sb[o.OBJECT_STORY_SPEC];if(!tb)return null;var ub=tb[p.VIDEO_DATA];if(!ub)return null;return hb(ub,rb);}var ob=cb.createClass({displayName:'BoostedComponentCreativeSection',mixins:[fa,ra],propTypes:{config:kb.instanceOf(y).isRequired},statics:{getStores:function(qb){return babelHelpers._extends({},ta.getStoresFromConfig(qb.config,[ua.AD_ACCOUNT_STORE,ua.AD_STATUS_STORE,ua.CONTEXT_STORE,ua.CREATIVE_STORE,ua.DIALOG_UI_STORE,ua.EXPERIMENT_STORE,ua.TARGETING_STORE]),{PageImageListPagingStore:bb});},calculateState:function(qb,rb){var sb=qb[ua.CREATIVE_STORE],tb=lb(sb),ub=rb&&rb.selectedProductIndex<=tb.length-1?rb.selectedProductIndex:0,vb=undefined,wb=undefined,xb=undefined;if(sb.getCreativeCategory()===ca.VIDEO){vb=nb(sb,[s.CALL_TO_ACTION,q.VALUE,ya.LINK]);wb=nb(sb,[s.CALL_TO_ACTION,q.VALUE,ya.LINK_TITLE]);xb=nb(sb,[s.DESCRIPTION]);}else{vb=mb(sb,r.LINK);wb=mb(sb,r.NAME);xb=mb(sb,r.MESSAGE);}var yb=qb[ua.CONTEXT_STORE].getPageID(),zb=bb.get(yb).imageList;return {accountID:qb[ua.AD_ACCOUNT_STORE].getSelectedAccountID(),body:sb.getBody(),callToAction:sb.getCallToAction(),creativeCategory:sb.getCreativeCategory(),currentVideoThumbnail:sb.getCurrentVideoThumbnail(),defaultCity:sb.getDefaultCity(),defaultStockSearchText:sb.getPageKeywords()&&sb.getPageKeywords()[0],dialogDivID:qb[ua.DIALOG_UI_STORE].getDialogDivID(),errors:sb.getValidator().getErrors(),headline:wb,image:sb.getImageLegacy(),imageCrops:sb.getImageCrops(),imageHash:sb.getImageHash(),imageUrl:sb.getImageURL(),isBusinessOwnedAdAccount:!!qb[ua.AD_ACCOUNT_STORE].getSelectedAccountBusinessID(),isLAWithCarouselSupport:sb.isLAWithCarouselSupport(),messagingSettingLinkEnabled:sb.isPageMessagingDisabled(),pageID:yb,pageImages:zb,products:tb,selectedProductIndex:ub,shouldEdit:qb[ua.AD_STATUS_STORE].getShouldEdit(),text:xb,url:vb,useInstagramImageCreative:qb[ua.EXPERIMENT_STORE].getExperiment('use_instagram_creative'),userID:qb[ua.CONTEXT_STORE].getUserID(),videoLibrary:sb.getVideos(),videoName:sb.getVideoName(),videoThumbnails:sb.getVideoThumbnails()};}},componentWillMount:function(){var qb=this.props.config;this._creativeViewActions=new ja(qb.getDispatcher());},_getCreativeLinkDataEditor:function(){var qb=this.props.config,rb=qb.getCreativeStore();if(!this.shouldRenderCreativeElement(qb.getContextStore().getAppID(),ea.CREATIVE_LINK_DATA,this.state.isLAWithCarouselSupport))return null;var sb=this.state.creativeCategory===ca.VIDEO;return (cb.createElement(ga,{appID:qb.getContextStore().getAppID(),headline:this.state.headline,shouldEdit:this.state.shouldEdit,supportCarouselInLA:this.state.isLAWithCarouselSupport,text:this.state.text,url:this.state.url,validateLink:rb.getValidator().validateLinkDataURL,validateMessage:rb.getValidator().validateLinkDataMessage,validateName:rb.getValidator().validateLinkDataName,onLinkDataHeadlineChange:sb?this._onVideoDataHeadlineChange:this._onLinkDataHeadlineChange,onLinkDataTextChange:sb?this._onVideoDataTextChange:this._onLinkDataTextChange,onLinkDataURLChange:sb?this._onVideoDataURLChange:this._onLinkDataURLChange}));},_getCreativeBodyEditor:function(){var qb=this.props.config;if(!this.shouldRenderCreativeElement(qb.getContextStore().getAppID(),ea.CREATIVE_BODY,this.state.isLAWithCarouselSupport))return null;return (cb.createElement(ba,{appID:qb.getContextStore().getAppID(),body:this.state.body,supportCarouselInLA:this.state.isLAWithCarouselSupport,validateBody:qb.getCreativeStore().getValidator().validateBody,onBodyChange:this._onBodyChange}));},_getCreativeMultiAdsEditor:function(){var qb=this.props.config,rb=qb.getContextStore(),sb=qb.getCreativeStore();return (cb.createElement(ha,{accessToken:rb.getAccessToken(),accountID:this.state.accountID,appID:rb.getAppID(),clientID:rb.getClientID(),defaultImageHash:this.state.imageHash,defaultImageUrl:this.state.imageUrl,defaultLink:this.state.url,defaultName:this.state.headline,defaultStockSearchText:this.state.defaultStockSearchText,isBusinessOwnedAdAccount:this.state.isBusinessOwnedAdAccount,maxProducts:oa.MAX_PRODUCT_NUM,minProducts:oa.MIN_PRODUCT_NUM,pageID:this.props.config.getContextStore().getPageID(),pageImages:this.state.pageImages,products:this.state.products,selectedProductIndex:this.state.selectedProductIndex,supportCarouselInLA:this.state.isLAWithCarouselSupport,useInstagramImageCreative:this.state.useInstagramImageCreative,validateName:sb.getValidator().validateLinkDataName,onDialogShown:this._onImageDialogOpened,onProductsChange:this._onProductsChange,onProductSelected:this._onProductSelected}));},_getHeadlineEditor:function(){var qb=this.props.config.getCreativeStore();return (cb.createElement(na,{key:ea.CREATIVE_LINK_DATA_HEADLINE,label:va.CREATIVE_LINK_DATA_HEADLINE_LABEL,textLimits:z.HEADLINE_EDITOR_TEXT_LIMIT,tooltip:va.CREATIVE_LINK_DATA_HEADLINE_TOOLTIP},cb.createElement(n,{badTextRules:ib(this.getFieldBadTextRules()),errors:qb.getValidator().validateLinkDataName(this.state.headline),hideMaxLength:true,maxLength:k.maxTitleLength,multiline:false,placeholder:va.CREATIVE_LINK_DATA_HEADLINE_PLACEHOLDER,value:this.state.headline,onChange:this._onVideoDataHeadlineChange})));},_getVideoPanelEditor:function(){var qb=this.props.config.getCreativeStore();return (cb.createElement(wa,{accountID:this.state.accountID,selectedThumbnail:this.state.currentVideoThumbnail,selectedVideoName:qb.getVideoName(),selectedVideoThumbnails:qb.getVideoThumbnails(),uploadProgressValue:qb.getVideoUploadProgress(),uploadStatus:qb.getVideoUploadStatus(),videoLibrary:this.state.videoLibrary,videoSource:qb.getVideoSource(),onCancelUpload:this._cancelVideoUpload,onRemove:this._clearVideoCreative,onThumbnailClick:this._onThumbnailClick,onVideoPickerConfirm:this._onVideoPickerConfirm,onVideoUploadClick:this._onVideoUploadClick}));},_getMultiAdsOrVideoEditor:function(){var qb=this.props.config,rb=qb.getCreativeStore(),sb=qb.getExperimentStore();if(!this.shouldRenderCreativeElement(qb.getContextStore().getAppID(),ea.CREATIVE_MULTI_PRODUCTS,this.state.isLAWithCarouselSupport))return null;var tb=this._getCreativeMultiAdsEditor();if(!sb.getExperiment('boosted_website_video'))return (cb.createElement(na,{label:va.MULTI_ADS_LABEL,tooltip:va.MULTI_ADS_TOOLTIP},tb));var ub=this._getHeadlineEditor(),vb=this._getVideoPanelEditor(),wb=rb.getCreativeCategory()===ca.VIDEO;return (cb.createElement(ka,{imageEditorLabel:va.MULTI_ADS_LABEL,imageEditorTooltip:va.MULTI_ADS_TOOLTIP,isCreativeVideo:wb,toggleCreativeCategory:this._toggleCreativeCategory},wb?vb:tb,wb?ub:null));},_toggleCreativeCategory:function(){if(this.state.creativeCategory===ca.VIDEO){this._creativeViewActions.toggleCreativeCategory(ca.IMAGE);}else this._creativeViewActions.toggleCreativeCategory(ca.VIDEO);},_onVideoPickerConfirm:function(qb){var rb=this.props.config.getDispatcher(),sb=this.props.config.getCreativeStore(),tb=sb.getVideoByID(qb);tb.source=xa.BROWSE_LIBRARY;if(tb)rb.handleUpdateFromServerResponse({actionType:w.VIDEO_ENCODING_SUCCESS,video:tb});},_onThumbnailClick:function(qb){if(qb instanceof l)qb={width:qb.getWidth(),height:qb.getHeight(),uri:qb.getUrl()};this._creativeViewActions.updateVideoThumbnail(qb);},_clearVideoCreative:function(){this._creativeViewActions.clearVideoCreative();},_cancelVideoUpload:function(){this._creativeViewActions.cancelVideoUpload();},_getImageOrVideoSelector:function(){var qb=this.props.config.getExperimentStore(),rb=this.props.config.getContextStore(),sb=this.props.config.getCreativeStore();if(!this.shouldRenderCreativeElement(rb.getAppID(),ea.CREATIVE_IMAGE_SELECTOR,this.state.isLAWithCarouselSupport))return null;var tb=qb.getExperimentForAppIDs(la.BOOSTED_LOCALAWARENESS_SHUTTERSTOCK,[t.BOOSTED_LOCAL_AWARENESS]),ub=cb.createElement(ma,{accessToken:rb.getAccessToken(),accountID:this.state.accountID,clientID:rb.getClientID(),defaultStockSearchText:this.state.defaultStockSearchText,enableStock:tb,image:this.state.image,imageHash:this.state.imageHash,imageSpecs:this._getImageSpecs(),imageUrl:this.state.imageUrl,isBusinessOwnedAdAccount:this.state.isBusinessOwnedAdAccount,pageID:this.props.config.getContextStore().getPageID(),pageImages:this.state.pageImages,useInstagramImageCreative:this.state.useInstagramImageCreative,onDialogShown:this._onImageDialogOpened,onImageCropClick:this._onImageCropClick,onImageSelected:this._onImageSelected,onImageUploadClick:this._onImageUploadClick});if(!qb.getExperiment('boosted_component_video'))return (cb.createElement(na,{label:va.CREATIVE_IMAGE,tooltip:va.CREATIVE_IMAGE_TOOLTIP},ub));var vb=this._getVideoPanelEditor(),wb=sb.getCreativeCategory()===ca.VIDEO;return (cb.createElement(ka,{imageEditorLabel:va.CREATIVE_IMAGE,imageEditorTooltip:va.CREATIVE_IMAGE_TOOLTIP,isCreativeVideo:wb,toggleCreativeCategory:this._toggleCreativeCategory},wb?vb:ub));},_getCTASelector:function(){var qb=this.props.config,rb=qb.getCreativeStore(),sb=qb.getExperimentStore();if(sb.getExperiment('boosted_website_video')){var tb=da.BOOSTED_WEBSITE;if(tb.indexOf(ea.CREATIVE_CTA)===-1)tb.push(ea.CREATIVE_CTA);}if(!this.shouldRenderCreativeElement(qb.getContextStore().getAppID(),ea.CREATIVE_CTA,this.state.isLAWithCarouselSupport))return null;var ub,vb=false,wb=false,xb=undefined,yb=false;switch(qb.getContextStore().getAppID()){case t.BOOSTED_LOCAL_AWARENESS:ub=i.LOCAL_AWARENESS;if(qb.getAdStatusStore().getShouldEdit())vb=true;if(this.state.products.length>1)xb=gb._("No Button");break;case t.BOOSTED_EVENT:ub=i.EVENT_RESPONSES;break;case t.BOOSTED_CCTA:ub=i.WEBSITE_CLICKS;vb=true;wb=true;break;case t.BOOSTED_WEBSITE:ub=i.WEBSITE_CLICKS;if(rb.getCreativeCategory()===ca.VIDEO){yb=true;}else return null;break;case t.BOOSTED_PAGELIKE:ub=i.PAGE_LIKES;break;default:ub=i.NONE;}return (cb.createElement(aa,null,cb.createElement(v,{apiObjective:ub,hideSelector:wb,isDefaultOptionRequired:yb,isReadOnly:vb,label:va.CREATIVE_CTA_LABEL,noButtonLabel:xb,selectedCallToActionType:this.state.callToAction&&this.state.callToAction.type,tooltip:vb?null:va.CREATIVE_CTA_TOOLTIP,onCallToActionChange:this._onCallToActionChange}),this._getPageMessagingSetting(),this._getPhoneNumberEditor(qb),this._getCTAPlaceEditor(),this._getCTALinkEditor()));},_getPageMessagingSetting:function(){if(!this.state.callToAction||this.state.callToAction.type!==j.TYPES.MESSAGE_PAGE.name)return null;if(this.state.messagingSettingLinkEnabled===true)return (cb.createElement('div',null,gb._("{Change settings link} to allow people to send private messages to your Page",[gb.param('Change settings link',cb.createElement(ab,{onClick:this._requestEnablePageMessaging},'Click here'))])));return gb._("When people click Send Message on an advert, they'll be able to send a message to your Page.");},_requestEnablePageMessaging:function(){this._creativeViewActions.requestEnablePageMessaging();},_getPhoneNumberEditor:function(qb){if(!this.state.callToAction||this.state.callToAction.type!==j.TYPES.CALL_NOW.name)return null;var rb=null;if(qb.getContextStore().getAppID()===t.BOOSTED_CCTA){rb=this._getDisplayPhoneNumber();}else rb=cb.createElement(n,{errors:qb.getCreativeStore().getValidator().validateCallToAction(),multiline:false,placeholder:va.CALL_TO_ACTION_PHONE_NUMBER_PLACEHOLDER,value:this._getDisplayPhoneNumber(),onChange:this._onPhoneNumberChanged});return (cb.createElement(na,{label:va.CALL_TO_ACTION_PHONE_NUMBER_LABEL,tooltip:va.CALL_TO_ACTION_PHONE_NUMBER_TOOLTIP},rb));},_getCTAPlaceEditor:function(){if(!this.state.callToAction||this.state.callToAction.type!==j.TYPES.GET_DIRECTIONS.name)return null;return (cb.createElement(u,{ctaLink:this.state.callToAction.value.link,defaultCity:this.state.defaultCity.hasValue()?this.state.defaultCity.value.city:undefined,isLoading:this.state.defaultCity.isLoading(),pageAccessToken:this.props.config.getContextStore().getPageAccessToken(),pageID:this.props.config.getContextStore().getPageID(),userID:this.state.userID,onCTALinkChange:this._onCTALinkChange,onEditAddressClick:this._onPlaceDialogOpen}));},_onPlaceDialogOpen:function(){this._creativeViewActions.fetchDefaultCity();},_getCTALinkEditor:function(){if(!this.state.callToAction||this.state.callToAction.type!==j.TYPES.LEARN_MORE.name||this.props.config.getContextStore().getAppID()===t.BOOSTED_WEBSITE)return null;return (cb.createElement(na,{label:va.CALL_TO_ACTION_LEARN_MORE_LABEL,tooltip:va.CALL_TO_ACTION_LEARN_MORE_TOOLTIP},cb.createElement(n,{errors:this.props.config.getCreativeStore().getValidator().validateCallToAction(),multiline:false,placeholder:va.CALL_TO_ACTION_LEARN_MORE_PLACEHOLDER,value:this.state.callToAction.value.link,onChange:this._onCTALinkChange})));},_onCTALinkChange:function(qb){var rb=this.props.config.getCreativeStore().getCallToAction();rb.value.link=qb;this._creativeViewActions.changeCallToAction(rb);},_getCreativeInputFields:function(){if(this.props.config.getContextStore().getAppID()===t.BOOSTED_POST)return null;if(this._isAdPreviewEditable())return cb.createElement(sa,{errors:this.state.errors});return (cb.createElement('div',null,cb.createElement(sa,{errors:this.state.errors}),cb.createElement(aa,null,this._getCreativeBodyEditor(),this._getCreativeLinkDataEditor(),this._getImageOrVideoSelector(),this._getMultiAdsOrVideoEditor(),this._getCTASelector())));},_isAdPreviewEditable:function(){return this.props.config.getExperimentStore().getExperimentForAppIDs('ad_preview_editable',[t.BOOSTED_PAGELIKE]);},_getDisplayPhoneNumber:function(){var qb=this.state.callToAction&&this.state.callToAction.value.link;if(!qb||qb.indexOf('tel:')!==0)return '';return qb.substr(4);},_onPhoneNumberChanged:function(qb){qb='tel:'+qb;var rb=this.props.config.getCreativeStore().getCallToAction();rb.value.link=qb;this._creativeViewActions.changeCallToAction(rb);},_onCallToActionChange:function(qb){var rb=qb.value,sb=this.props.config.getCreativeStore().getSpecForCallToAction(rb);if(!sb&&rb){sb={};sb[q.TYPE]=rb;var tb={};tb[ya.LINK]=this.state.url;sb[q.VALUE]=tb;}this._creativeViewActions.changeCallToAction(sb);},_onVideoCallToActionChange:function(qb){var rb=this.props.config.getCreativeStore().getCallToActionType(),sb=null;if(rb)sb=this.props.config.getCreativeStore().getSpecForCallToAction(rb);if(!sb&&rb){sb={};sb[q.TYPE]=rb;var tb={};if(qb.link||qb.link===''){tb[ya.LINK]=qb.link;}else tb[ya.LINK]=this.state.url;if(qb.headline||qb.headline===''){tb[ya.LINK_TITLE]=qb.headline;}else tb[ya.LINK_TITLE]=this.state.headline;sb[q.VALUE]=tb;}if(sb)this._creativeViewActions.changeCallToAction(sb);},_getImageSpecs:function(){var qb=this.props.config.getCreativeStore().getCreativeType(),rb=ia.getPlacement(qb);return h.getCropImageSpecsForAdType(this.props.config.getCreativeStore().getCreativeType(),rb);},_onLinkDataURLChange:function(qb){var rb=qb;if(jb.isUrl(rb)){var sb=new db(jb.normalize(qb));rb=sb.toString();}var tb={};tb[r.LINK]=rb;this._creativeViewActions.changeLinkDataFields(tb);},_onLinkDataHeadlineChange:function(qb){var rb={};rb[r.NAME]=qb;this._creativeViewActions.changeLinkDataFields(rb);},_onLinkDataTextChange:function(qb){var rb={};rb[r.MESSAGE]=qb;this._creativeViewActions.changeLinkDataFields(rb);},_onImageUploadClick:function(qb){return this._creativeViewActions.changeImage(qb);},_onImageCropClick:function(qb,rb){return this._creativeViewActions.changeImageCrop(qb,rb);},_onImageSelected:function(qb){return this._creativeViewActions.changeImage(qb,this._getImageTypeForLogging(qb));},_getImageTypeForLogging:function(qb){if(!this.props.config.getExperimentStore().getExperiment(la.BOOSTED_LOCALAWARENESS_SHUTTERSTOCK))return null;return this._isPageImage(qb)?pb.PAGE:qb.isStockImage()?pb.STOCK:pb.OTHER;},_isPageImage:function(qb){return !!(!qb.getAdAccountHash()&&!qb.isStockImage()&&this.state.pageImages.length&&this.state.pageImages.find(function(rb){return rb.getUrl()===qb.getUrl();}));},_onVideoUploadClick:function(event){var qb=event.target;if(qb.value)this._creativeViewActions.startVideoUpload(qb);},_onVideoDataURLChange:function(qb){var rb=qb;if(jb.isUrl(rb)){var sb=new db(jb.normalize(qb));rb=sb.toString();}this._onVideoCallToActionChange({link:rb});},_onVideoDataHeadlineChange:function(qb){this._onVideoCallToActionChange({headline:qb});},_onVideoDataTextChange:function(qb){this._creativeViewActions.updateVideoDescription(qb);},_onBodyChange:function(qb){var rb=this.props.config.getCreativeStore();if(rb.getCreativeCategory()===ca.IMAGE){var sb={};sb[o.BODY]=qb;this._creativeViewActions.changeCreative(sb);}else this._creativeViewActions.updateVideoDescription(qb);},_onProductSelected:function(qb){this.setState({selectedProductIndex:qb});},_onProductsChange:function(qb,rb){var sb={};if(qb&&qb.length===1){if(rb===pa.IMAGE_CHANGE){var tb=new l({url:qb[0].picture,hash:qb[0].image_hash}),ub=this._getImageTypeForLogging(tb);if(ub!=null)this._creativeViewActions.changeImage(tb,ub);}sb[r.LINK]=this.state.url;sb[r.MESSAGE]=this.state.text;sb[r.NAME]=qb[0].name?qb[0].name:this.state.headline;if(qb[0].picture||qb[0].image_hash){sb[r.PICTURE]=qb[0].picture;sb[r.IMAGE_HASH]=qb[0].image_hash;if(qb[0].image_crops)sb[r.IMAGE_CROPS]=qb[0].image_crops;}else{sb[r.PICTURE]=this.state.imageUrl;sb[r.IMAGE_HASH]=this.state.imageHash;if(this.state.imageCrops)sb[r.IMAGE_CROPS]=this.state.imageCrops;}sb[r.CHILD_ATTACHMENTS]=null;}else{if(this.state.isLAWithCarouselSupport){var vb=mb(this.props.config.getCreativeStore(),r.CALL_TO_ACTION);if(vb)for(var wb=0;wb<qb.length;wb++)qb[wb].call_to_action=vb;}for(var xb=0;xb<qb.length;xb++)qb[xb].description=' ';sb[r.CHILD_ATTACHMENTS]=qb;}this._creativeViewActions.changeLinkDataFields(sb);},_onImageDialogOpened:function(){if(this.props.config.getContextStore().getAppID()!==t.BOOSTED_LOCAL_AWARENESS)return;m.logExposure(la.BOOSTED_LOCALAWARENESS_SHUTTERSTOCK,this.state.userID);var qb=this.props.config.getContextStore();eb.init(qb.getAccessToken(),qb.getClientID());},_isCollapsable:function(){if(this._isAdPreviewEditable())return false;return (this.props.config.getContextStore().getAppID()===t.BOOSTED_PAGELIKE||this.props.config.getContextStore().getAppID()===t.BOOSTED_WEBSITE);},_getCollapsedData:function(){return {title:va.CREATIVE_SECTION,content:cb.createElement('div',null)};},_getUncollapsedData:function(){var qb=va.getCreativeSectionTitle(this.props.config.getContextStore().getAppID()),rb=this._getCreativeInputFields();return {title:qb,content:rb};},_canSee:function(){var qb=this.props.config.getContextStore().getAppID();return (qb!==t.BOOSTED_POST&&qb!==t.BOOSTED_PRODUCT);},render:function(){if(!this._canSee())return cb.createElement('div',null);var qb=this.props.config.getAdStatusStore().getShouldEdit();if(this._isCollapsable())return (cb.createElement(x,{collapsedData:this._getCollapsedData(),editable:true,errors:this.state.errors,isCollapsed:fb(this.state.errors),isFirstSection:!qb,uncollapsedData:this._getUncollapsedData()}));var rb=this._getUncollapsedData();return (cb.createElement(qa,{isFirstSection:!qb,title:rb.title},rb.content));}}),pb={PAGE:'PAGE',STOCK:'STOCK',OTHER:'OTHER'};f.exports=ob;},null);
__d('BoostedComponentHeaderSection.react',['React','XUICard.react','XUICardSection.react','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'BoostedComponentHeaderSection',propTypes:{image:l.element},render:function(){return (h.createElement(i,{className:"_17f2"},h.createElement(j,null,this.props.image,this.props.children)));}});f.exports=m;},null);
__d('BoostedComponentInformationalHeaderSection.react',['BoostedComponentHeaderSection.react','Image.react','React','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.createClass({displayName:'BoostedComponentInformationalHeaderSection',render:function(){var n=j.createElement(i,{src:l('/images/ads/templates/audience.png')}),o=j.createElement('div',null,k._("Your customers are on Facebook."),j.createElement('br',null),k._("Boost your post so that they {know about your business}.",[k.param('know about your business',j.createElement('strong',null,k._("know about your business")))]));return (j.createElement(h,{image:n},o));}});f.exports=m;},null);
__d('BoostedComponentInsightsSection.react',['BoostedActionInsightsAgeGender.react','BoostedActionInsightsCountry.react','BoostedActionInsightsEngagement.react','BoostedActionInsightsTabbedSections.react','BoostedComponentConfig','BoostedComponentInsightsHeadline.react','BoostedComponentSection.react','InsightsTabbedSection.react','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=p.PropTypes,s=p.createClass({displayName:'BoostedComponentInsightsSection',propTypes:{config:r.instanceOf(l).isRequired},getInitialState:function(){return {activeKey:null};},showSection:function(t){this.setState({activeKey:t.type.getKey(t.props)});},render:function(){var t=this.props.config.getInsightsStore();if(!t.canShowInsights())return null;return (p.createElement(n,{isFirstSection:false},p.createElement('div',{className:"_3-8o"},p.createElement(m,{appID:this.props.config.getContextStore().getAppID(),conversions:t.getConversions(),reach:t.getReach(),spend:t.getSpend()}),p.createElement(k,{activeKey:this.state.activeKey,children:this._getSections(),onTabClick:this.showSection}))));},_getSections:function(){var t=this.props.config.getInsightsStore(),u=[p.createElement(j,{values:t.getEngagementData()}),p.createElement(h,{values:t.getAgeGenderData()}),p.createElement(i,{values:t.getCountryData()})];return u.map(function(v){var w=v.type.getName();return (p.createElement(o,{key:w,sectionKey:w,title:v.type.getTitle()},v));},this);}});f.exports=s;},null);
__d('BoostedComponentObjectiveSection.react',['AdsAPIObjectives','AdsCallToActionTypes','BoostedComponentConfig','BoostedComponentDataState','BoostedComponentDialogRenderServerActions','BoostedComponentSection.react','BoostedComponentStrings','InputLabel.react','React','XUIRadioInput.react','XUISpinner.react','XUIText.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=p.PropTypes,v=p.createClass({displayName:'BoostedComponentObjectiveSection',_objectiveSectionViewActions:null,_dialogUIStoreArbiterToken:null,propTypes:{config:u.instanceOf(j).isRequired},getInitialState:function(){return {selectedObjective:h.EVENT_RESPONSES,isLoading:false};},componentWillMount:function(){this._objectiveSectionViewActions=new l(this.props.config.getDispatcher(),this.props.config.getContextStore());this._dialogUIStoreArbiterToken=this.props.config.getDialogUIStore().subscribe('change',(function(){if(this.props.config.getDialogUIStore().getState()===k.ACTIVE)this.setState({isLoading:false});}).bind(this));},_updateObjective:function(w){if(this.state.selectedObjective!==w){this.setState({selectedObjective:w,isLoading:true});var x=this._objectiveSectionViewActions;if(x)x.fetchDialogData(w===h.WEBSITE_CLICKS?i.TYPES.BUY_TICKETS.name:null);}},componentWillUnmount:function(){var w=this._dialogUIStoreArbiterToken;if(w!==null)this.props.config.getDialogUIStore().unsubscribe(w);},_getObjectiveItem:function(w,x,y){return (p.createElement('div',{className:"_3-8n"},p.createElement(o,null,p.createElement(q,{checked:this.state.selectedObjective===w,onChange:this._updateObjective.bind(this,w)}),p.createElement('div',{className:"_2pir"},p.createElement('div',null,p.createElement(s,{size:'small',weight:'bold'},x)),p.createElement(s,{size:'small'},y)))));},render:function(){return (p.createElement(m,{isFirstSection:true,title:n.OBJECTIVE_SECTION},p.createElement('div',{className:"_5cv9"},p.createElement('div',{className:"_5cvb"+(!this.state.isLoading?' '+"hidden_elem":'')},p.createElement(r,{className:"_5cvc",size:'large'})),p.createElement('form',null,this._getObjectiveItem(h.EVENT_RESPONSES,n.REACH_MORE_PEOPLE,n.BOOST_EVENT_DESCRIPTION),this._getObjectiveItem(h.WEBSITE_CLICKS,n.INCREASE_TICKET_SALE,n.BOOST_EVENT_TICKET_DESCRIPTION)))));}});f.exports=v;},null);
__d("XPayerProtectionController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payer_protection\/",{});},null);
__d('BoostedComponentPaymentAccountSection.react',['AdsAdAccountSelector.react','AdsCurrencySelector.react','AdsLoadState','AdsPaymentsPaymentMethodSelector.react','AdsPixelViewActions','BoostedComponentAdAccountViewActions','BoostedComponentConfig','BoostedComponentContent.react','BoostedComponentDataState','BoostedComponentLabeledEditor.react','BoostedComponentSection.react','BoostedComponentStrings','BoostedComponentSectionSubheader.react','CenteredContainer.react','Image.react','Link.react','PopupWindow','React','SubscriptionsHandler','XPayerProtectionController','XUIGrayText.react','XUISpinner.react','XUIText.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){'use strict';if(c.__markCompiled)c.__markCompiled();var ha=y.PropTypes,ia=346,ja=y.createClass({displayName:'BoostedComponentPaymentAccountSection',_adAccountViewActions:new m({}),_subscriptions:new z(),propTypes:{config:ha.instanceOf(n).isRequired},componentWillMount:function(){var ka=this.props.config;this._adAccountViewActions=new m(ka.getDispatcher());this._subscriptions.addSubscriptions(ka.getAdAccountStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)),ka.getAdStatusStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)),ka.getDialogChangeStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)));},componentWillUnmount:function(){this._subscriptions.release();},render:function(){var ka=null;if(this._isPaymentSectionLoading())ka=y.createElement(u,{className:"_4o-q",vertical:true},y.createElement(ca,{background:'light',size:'large'}));return (y.createElement(r,{className:"_4o-r",isFirstSection:false,title:s.PAYMENT_ACCOUNT_INFO_SECTION},ka,y.createElement(o,null,this._getAccountSelector(),this._getCurrencySelector(),this._getPaymentInfoSection(),this._getPaymentSecureMessage())));},_getPaymentSecureMessage:function(){var ka=aa.getURIBuilder().getURI();return (y.createElement('div',{className:"inlineBlock"},y.createElement(v,{className:"_24c9",src:ga('/images/payments/security_msg_lock.png')}),y.createElement(ba,{size:'small'},fa._("Your payment info is stored securely. {=Learn More}.",[fa.param('=Learn More',y.createElement(w,{onClick:x.open.bind(this,ka,500,500)},s.LEARN_MORE))]))));},_getCurrencySelector:function(){var ka=this.props.config.getAdAccountStore();if(!ka.canUpdateSelectedAccountCurrency()||!ka.getSelectedAccountHasBillingWritePermission())return null;return (y.createElement(q,{label:s.CURRENCY_SECTION},y.createElement(i,{fontSize:12,maxWidth:ia,selectedCurrency:ka.getSelectedAccountCurrency(),showISOCode:true,size:'xlarge',onDataUpdate:(function(event,la){this._adAccountViewActions.updateCurrency(la);}).bind(this)})));},_getAccountSelector:function(){var ka=this.props.config.getAdAccountStore(),la=ka.getAllAccounts(),ma=Object.keys(la).length,na=ka.getSelectedAccountID();if(ma<1){return null;}else if(ma===1||this.props.config.getAdStatusStore().getShouldEdit())return (y.createElement(q,{label:s.ACCOUNT_SECTION},y.createElement('div',{className:"_4i70"},y.createElement(da,{className:"_3-8i",display:'block',size:'small',weight:'bold'},fa._("{account_name} ({account_id}, {account_currency})",[fa.param('account_name',la[na].name),fa.param('account_id',na),fa.param('account_currency',ka.getSelectedAccountCurrency())])))));return (y.createElement(q,{label:s.ACCOUNT_SECTION},y.createElement(h,{accounts:la,fontSize:12,maxWidth:ia,selectedAccount:na,size:'xlarge',onDataUpdate:(function(event,oa){this._adAccountViewActions.updateAccount(oa);l.resetPixelList();}).bind(this)})));},_isFieldLoading:function(ka){if(ka!==null&&ka!==undefined&&(ka===j.LOADING||ka===j.NOT_LOADED))return true;return false;},_isPaymentSectionLoading:function(){var ka=this.props.config.getAdAccountStore();if(this.props.config.getDialogChangeStore().getShowLoadingIndicator())return true;if(ka.getState()===p.LOADING)return true;var la=ka.getAccountInfoLoadingStatus();if(this._isFieldLoading(la.loadState))return true;var ma=ka.getSelectedAccountPrimaryPaymentMethod();if(this._isFieldLoading(ma.loadState))return true;var na=ka.getSelectedAccountPaymentMethods();if(this._isFieldLoading(na.loadState))return true;return false;},_onClickAddPaymentMethod:function(){var ka=this.props.config.getAdAccountStore();if(!ka.getSelectedAccountHasBillingWritePermission())return;this._adAccountViewActions.addNewPaymentMethod();},_updatePrimaryPaymentMethod:function(ka,la,ma){this._adAccountViewActions.updatePrimaryPaymentMethod(ka,la,ma);},_getPaymentInfoSection:function(){var ka=this.props.config.getAdAccountStore(),la=ka.getSelectedAccountPaymentMethods(),ma=ka.getSelectedAccountPaymentInfo(),na=la.paymentMethods;if(na===undefined||na===null)na={};return (y.createElement(q,{label:s.PAYMENT_METHOD_SECTION},y.createElement(k,{accountID:ka.getSelectedAccountID(),allPaymentMethods:na,altpayPendingPayments:ka.getSelectedAccountAltpayPendingPayments(),businessInfo:ka.getSelectedAccountBusinessInfo(),currency:ka.getSelectedAccountCurrency(),errors:ka.getValidator().getErrors(),extendedCreditInfo:ka.getSelectedAccountExtendedCreditInfo(),extendedCreditStatus:ma.extendedCreditStatus,hasBillingWritePermission:ka.getSelectedAccountHasBillingWritePermission(),hasCreatedAdsBefore:ka.getSelectedAccountHasCreatedAdsBefore(),hasExtendedCredit:ma.hasCredit,hasFundingSource:ka.getSelectedAccountHasFundingSource(),isCorporate:ma.isCorporateAccount,isPrepayAccount:ma.isPrepayAccount,maxWidth:ia,paymentMethodLoadingStatus:la.loadState,prepayBalance:ka.getSelectedAccountPrepayBalance(),primaryPaymentMethod:ka.getSelectedAccountPrimaryPaymentMethod(),primaryPMDisplayString:ka.getSelectedAccountPrimaryPMDisplayString(),successes:ka.getValidator().getSuccesses(),onChangePrimaryPaymentMethod:this._updatePrimaryPaymentMethod,onPaymentMethodButtonClick:this._onClickAddPaymentMethod})));}});f.exports=ja;},null);
__d('BoostedComponentTargetingSection.react',['BoostedComponentAppID','BoostedComponentConfig','BoostedComponentExperiment','BoostedComponentSection.react','BoostedComponentSectionMixin','BoostedComponentSectionUtils','BoostedComponentStoreType','BoostedComponentStrings','BoostedComponentTargetingEditor.react','BoostedComponentTargetingViewActions','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=r.PropTypes,t=r.createClass({displayName:'BoostedComponentTargetingSection',mixins:[l],propTypes:{config:s.instanceOf(i).isRequired},statics:{getStores:m.makeGetStoresFromConfig(n.AD_STATUS_STORE,n.BUDGET_EST_STORE,n.CONTEXT_STORE,n.CREATIVE_STORE,n.DIALOG_CHANGE_STORE,n.TARGETING_STORE,n.URI_STORE),calculateState:function(u){var v=u[n.TARGETING_STORE];return {accountID:u[n.CREATIVE_STORE].getAdAccountID(),appID:u[n.CONTEXT_STORE].getAppID(),accessToken:u[n.CONTEXT_STORE].getAccessToken(),audienceSize:u[n.BUDGET_EST_STORE].getAudienceSize(),callToAction:u[n.CREATIVE_STORE].getCallToAction(),defaultLocations:v.getDefaultLocations(),minAge:v.getMinAge(),maxAge:v.getMaxAge(),maxReachPossible:u[n.BUDGET_EST_STORE].getMaxReachPossible(),gender:v.getGender(),geoLocationType:v.getGeoLocationType(),interests:v.getInterests(),initialCustomLocation:v.getInitialCustomLocation(),pageIconURL:u[n.URI_STORE].getPageIconURI(),locations:v.getLocations(),customLocation:v.getCustomLocation(),errors:v.getValidator().getErrors(),shouldEdit:u[n.AD_STATUS_STORE].getShouldEdit(),showLoadingIndicator:u[n.DIALOG_CHANGE_STORE].getShowLoadingIndicator()};}},componentWillMount:function(){this._targetingViewActions=new q(this.props.config.getDispatcher());},render:function(){var u=this.props.config.getConstraintStore(),v=this.props.config.getContextStore().getAppID();return (r.createElement(k,{title:o.TARGETING_SECTION},r.createElement(p,babelHelpers._extends({},this.state,{allowLocalTargeting:v===h.BOOSTED_WEBSITE||v===h.BOOSTED_CCTA,blacklistCountries:u.getBlacklistCountries(),maxSelectableAge:u.getMaxAge(),minSelectableAge:u.getMinAge(),showReachWarning:this.state.appID===h.BOOSTED_LOCAL_AWARENESS,targetingViewActions:this._targetingViewActions,whitelistCountries:u.getWhitelistCountries()}))));}});f.exports=t;},null);
__d('BoostedComponentDialogLeftColumnSection.react',['BoostedComponentAdAccountSection.react','BoostedComponentAdStatusSection.react','BoostedComponentAppID','BoostedComponentAudienceSection.react','BoostedComponentBudgetAndDurationSection.react','BoostedComponentConfig','BoostedComponentConfirmationSection.react','BoostedComponentConversionPixelSection.react','BoostedComponentCreativeSection.react','BoostedComponentDialogViewActions','BoostedComponentDialogViewStates','BoostedComponentObjectiveSection.react','BoostedComponentExperiment','BoostedComponentInformationalHeaderSection.react','BoostedComponentInsightsSection.react','BoostedComponentPaymentAccountSection.react','BoostedComponentStrings','BoostedComponentTargetingSection.react','BoostedComponentUnifiedAudienceSection.react','React','SubscriptionsHandler','WebApiApplication','XUICard.react','XUICardHeader.react','XUICardHeaderTitle.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){'use strict';if(c.__markCompiled)c.__markCompiled();var ha=aa.PropTypes,ia=aa.createClass({displayName:'BoostedComponentDialogLeftColumnSection',propTypes:{config:ha.instanceOf(m).isRequired},componentWillMount:function(){ca.init(this.props.config.getContextStore().getAccessToken(),this.props.config.getContextStore().getClientID());this._dialogViewActions=new q(this.props.config.getDispatcher());this._subscriptions=new ba();this._subscriptions.addSubscriptions(this.props.config.getDialogUIStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},_hasHeaderSection:function(){return (this.props.config.getDialogUIStore().showInformationalHeaderSection());},_getCreativeSection:function(){return aa.createElement(p,{config:this.props.config});},_getHeaderSection:function(){if(!this._hasHeaderSection())return null;return aa.createElement(u,null);},_getObjectiveSection:function(){if(this.props.config.getContextStore().getAppID()===j.BOOSTED_EVENT&&this.props.config.getExperimentStore().getExperiment(t.BOOSTED_EVENT_WWW_TICKET_QE))return aa.createElement(s,{config:this.props.config});},_getAudienceSection:function(){if(this.props.config.getContextStore().getAppID()===j.BOOSTED_POST||this.props.config.getContextStore().getAppID()===j.BOOSTED_EVENT||this.props.config.getContextStore().getAppID()===j.BOOSTED_PRODUCT)return (aa.createElement(k,{config:this.props.config,isFirstSection:!this._hasHeaderSection()}));return null;},_getTargetingSection:function(){if(this._isBoostedPostFamily())return null;if(this.props.config.getExperimentStore().getExperimentParamBool(t.BOOSTED_COMPONENT_MTC_AUDIENCE,'use_mtc'))return (aa.createElement(z,{config:this.props.config,isFirstSection:false}));return (aa.createElement(y,{config:this.props.config}));},_getBudgetAndDurationSection:function(){return (aa.createElement(l,{config:this.props.config}));},_getConversionPixelSection:function(){return (aa.createElement(o,{config:this.props.config}));},_getAdAccountSection:function(){var ja=this.props.config.getExperimentStore();if(ja.getExperiment('new_payments_section'))return (aa.createElement(w,{config:this.props.config}));return (aa.createElement(h,{config:this.props.config}));},_getAdStatusSection:function(){if(this.props.config.getExperimentStore().getExperimentParamBool(t.BOOSTED_COMPONENT_AD_STATUS_BAR,'new_status_bar'))return null;return aa.createElement(i,{config:this.props.config});},_getInsightsSection:function(){if(!this.props.config.getExperimentStore().getExperimentParamBool(t.BOOSTED_COMPONENT_INSIGHTS_SECTION,'has_insights'))return null;return aa.createElement(v,{config:this.props.config});},_getConfirmationSection:function(){return (aa.createElement(n,{config:this.props.config,onEditClick:this._isBoostedPostFamily()?null:(function(){return this._onTabClick(r.EDIT);}).bind(this)}));},_onTabClick:function(ja){this._dialogViewActions.onToggleActiveDialogTab(ja);},render:function(){var ja=aa.createElement('div',null,this._getConfirmationSection(),this._getInsightsSection()),ka=aa.createElement('div',null,this._getHeaderSection(),this._getAdStatusSection(),this._getObjectiveSection(),this._getCreativeSection(),this._getAudienceSection(),this._getTargetingSection(),this._getBudgetAndDurationSection(),this._getConversionPixelSection(),this._getAdAccountSection());if(this.props.config.getAdStatusStore().getShouldEdit())return (aa.createElement('div',null,this._renderCardHeader(),this.props.config.getDialogUIStore().getActiveDialogTab()===r.EDIT?ka:ja));return (aa.createElement('div',null,ka));},_renderCardHeader:function(){if(this._isBoostedPostFamily())return null;return (aa.createElement(da,null,aa.createElement(ea,{activeTabKey:this.props.config.getDialogUIStore().getActiveDialogTab(),className:"_144t",onTabClick:this._onTabClick},aa.createElement(fa,{className:"_56nz",href:'#',key:r.RESULTS},x.RESULTS),aa.createElement(fa,{className:"_56nz",href:'#',key:r.EDIT},x.EDIT_PROMOTION))));},_isBoostedPostFamily:function(){var ja=this.props.config.getContextStore().getAppID();return (ja===j.BOOSTED_POST||ja===j.BOOSTED_EVENT||ja===j.BOOSTED_PRODUCT);}});f.exports=ia;},null);
__d('AdsHscrollAdPreviewsBar.react',['AdsPreviewApiFormats','BoostedComponentTestElement','immutable','React','TabBar.react','TabBarItem.react','cx','fbt','invariant','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=k.PropTypes,s=o._(["DESKTOP NEWS FEED","cfda997c7786ec18d5665066c8f8d121"]),t=o._("MOBILE NEWS FEED"),u=o._("RIGHT COLUMN"),v=new j.Map([[h.DESKTOP_FEED_STANDARD,k.createElement(m,{className:"_1riu",'data-testid':i.DESKTOP_PREVIEW_TAB,key:h.DESKTOP_FEED_STANDARD},s)],[h.MOBILE_FEED_STANDARD,k.createElement(m,{className:"_1riu",'data-testid':i.MOBILE_PREVIEW_TAB,key:h.MOBILE_FEED_STANDARD},t)],[h.RIGHT_COLUMN_STANDARD,k.createElement(m,{className:"_1riu",'data-testid':i.RHS_PREVIEW_TAB,key:h.RIGHT_COLUMN_STANDARD},u)]]),w=k.createClass({displayName:'AdsHscrollAdPreviewsBar',propTypes:{apiAdFormatList:r.instanceOf(j.List).isRequired,selected:r.string.isRequired,onSelect:r.func},render:function(){var x=this.props.apiAdFormatList,y=x.count();!(y>=1&&y<=3)?p(0):undefined;return (k.createElement('div',babelHelpers._extends({},this.props,{className:q(this.props.className,"_1riv"+(y===1?' '+"_2x8y":'')+(y===2?' '+"_1rix":'')+(y===3?' '+"_1riy":''))}),k.createElement(l,{activeTabKey:this.props.selected,onTabClick:this.props.onSelect},this._getBarItems()),k.createElement('div',{className:"_1riz"+(y===1?' '+"_1ilg":'')+(y===2?' '+"_1ilh":'')+(y===3?' '+"_1ili":'')+(this.props.selected===x.get(0)?' '+"_1ri-":'')+(this.props.selected===x.get(1)?' '+"_1ri_":'')+(this.props.selected===x.get(2)?' '+"_1rj0":'')})));},_getBarItems:function(){return this.props.apiAdFormatList.map(function(x){return (v.get(x));});}});f.exports=w;},null);
__d('AdsHscrollAdPreviewsUnitFrame.react',['cx','AdsHscrollAdPreviewsBar.react','AdsPreviewApiFormats','BoostedComponentTestElement','immutable','React','XUICard.react','XUICardSection.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=m.PropTypes,q=m.createClass({displayName:'AdsHscrollAdPreviewsUnitFrame',propTypes:{apiAdFormats:p.instanceOf(l.Set),apiAdFormatsList:p.instanceOf(l.List),defaultSelectedAdFormat:p.string,onSelect:p.func},getInitialState:function(){return {selected:this._getDefaultSelected(this.props)};},componentWillReceiveProps:function(r){if(r.apiAdFormats!=null&&!r.apiAdFormats.has(this.state.selected))this.setState({selected:this._getDefaultSelected(r)});},_getDefaultSelected:function(r){return (r.defaultSelectedAdFormat!=null?r.defaultSelectedAdFormat:r.apiAdFormats!=null?r.apiAdFormats.first():j.DESKTOP_FEED_STANDARD);},_onSelect:function(r){this.setState({selected:r});this.props.onSelect&&this.props.onSelect(r);},render:function(){var r=this.props.apiAdFormatsList;return (m.createElement(n,{className:"_i40",'data-testid':k.PREVIEW_UNIT},m.createElement(o,null,m.createElement(i,{apiAdFormatList:r,selected:this.state.selected,onSelect:this._onSelect})),m.createElement(o,{className:"_i41"},m.createElement('div',{className:"_i42"+(this.state.selected===r.get(0)?' '+"_1ri-":'')+(this.state.selected===r.get(1)?' '+"_1ri_":'')+(this.state.selected===r.get(2)?' '+"_1rj0":'')},this.props.children))));}});f.exports=q;},null);
__d('AdsHscrollAdPreviewsUnit.react',['cx','AdsHscrollAdPreviewsBar.react','AdPreview.react','AdsPreviewApiFormats','BoostedComponentTestElement','immutable','React','XUICard.react','XUICardSection.react','AdsHscrollAdPreviewsUnitFrame.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=n.PropTypes,s=new m.List([k.DESKTOP_FEED_STANDARD,k.MOBILE_FEED_STANDARD]),t=s.push(k.RIGHT_COLUMN_STANDARD),u=t,v=n.createClass({displayName:'AdsHscrollAdPreviewsUnit',propTypes:{apiAdFormats:r.instanceOf(m.Set),pageID:r.string.isRequired,adAccountID:r.string.isRequired,creative:r.object.isRequired,defaultSelectedAdFormat:r.string,linkShareData:r.object,appID:r.string,height:r.number,hasRHC:r.bool,editable:r.bool,objective:r.string},getDefaultProps:function(){return {hasRHC:true,height:464,editable:false};},_getApiAdFormats:function(){if(this.props.apiAdFormats!=null){var w=[];u.forEach((function(x){if(this.props.apiAdFormats.has(x))w.push(x);}).bind(this));return new m.List(w);}return this.props.hasRHC?t:s;},render:function(){var w=this._getApiAdFormats();return (n.createElement(q,{apiAdFormats:this.props.apiAdFormats,apiAdFormatsList:w,defaultSelectedAdFormat:this.props.defaultSelectedAdFormat},this.renderPreviewUnits(w)));},renderPreviewUnits:function(w){return w.map((function(x){return (this.renderPreviewUnit(x));}).bind(this));},renderPreviewUnit:function(w){return (n.createElement('div',{className:"_i46",key:w},n.createElement('div',{className:"_i47"},n.createElement(j,{adAccountID:this.props.adAccountID,apiFormat:w,appID:this.props.appID,creative:this.props.creative,editable:this.props.editable,linkShareData:this.props.linkShareData,objective:this.props.objective}))));}});f.exports=v;},null);
__d('BoostedComponentAdPreviewSection.react',['AdsAPIObjectives','AdsUtils','AdsHscrollAdPreviewsUnit.react','ApiAdCreativeFields','ApiAdCreativeStorySpecFields','ApiCallToActionFields','AdsPageTypes','AdsPageTypesMigration','AdsPreviewApiFormats','ApiObjectStorySpecLinkFields','ApiObjectStorySpecVideoFields','BoostedComponentAppID','BoostedComponentConfig','BoostedComponentCreativeCategory','BoostedComponentStrings','CallToActionValueFields','Image.react','immutable','React','XUINotice.react','BoostedPostConstants','BoostedPostPlacementOptions','cx','fbt','getByPath','invariant','ix','ads-lib-urllib'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){'use strict';if(c.__markCompiled)c.__markCompiled();var ja=z.PropTypes,ka=new y.Set([p.DESKTOP_FEED_STANDARD,p.MOBILE_FEED_STANDARD]),la=ka.add(p.RIGHT_COLUMN_STANDARD),ma=new y.Map([[n.DESKTOP_FEED,p.DESKTOP_FEED_STANDARD],[n.MOBILE_FEED,p.MOBILE_FEED_STANDARD],[n.RIGHT_COLUMN,p.RIGHT_COLUMN_STANDARD],[n.MOBILE_EXTERNAL,p.MOBILE_FEED_STANDARD]]);function na(pa){var qa=pa;if(o.isLegacy(pa))qa=o.toModern(pa);return new y.Set(qa.map(function(ra){!ma.has(ra)?ga(0):undefined;return ma.get(ra);}));}var oa=z.createClass({displayName:'BoostedComponentAdPreviewSection',propTypes:{config:ja.instanceOf(t).isRequired},componentWillMount:function(){this._creativeStoreArbiterToken=this.props.config.getCreativeStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this));},componentWillUnmount:function(){this.props.config.getCreativeStore().unsubscribe(this._creativeStoreArbiterToken);},render:function(){return (z.createElement('div',null,this._getNotice(),this._getPreview()));},_getNotice:function(){var pa=this.props.config.getContextStore();if(pa.getAppID()!==s.BOOSTED_POST&&pa.getAppID()!==s.BOOSTED_EVENT&&pa.getAppID()!==s.BOOSTED_PRODUCT)return null;if(pa.getPostType()===ba.FBTYPE_PHOTO_ALBUM){return (z.createElement(aa,{className:'mbs'},ea._("You're currently boosting an album. If you want to boost a single photo, upload it separately to this album.")));}else if(pa.getPlacement()===ca.COMPOSER)return (z.createElement(aa,{className:'mbs'},ea._("You'll see a preview of your advert here after you post.")));return null;},_getPreview:function(){var pa=this.props.config,qa=pa.getContextStore(),ra=pa.getCreativeStore();if((qa.getAppID()===s.BOOSTED_POST||qa.getAppID()===s.BOOSTED_EVENT)&&qa.getPlacement()===ca.COMPOSER)return null;if(ra.getCreativeCategory()===u.VIDEO&&!ra.hasVideoCreative())return (z.createElement('div',{className:"_133l"},z.createElement(x,{className:"_133m",src:ha('/images/no-video.png')}),z.createElement('p',{className:"_133n"},v.NO_VIDEO_IN_AD_PREVIEW_ERROR)));var sa=this._getApiAdFormats(qa.getAppID()),ta=p.DESKTOP_FEED_STANDARD,ua=undefined;if(!sa.has(p.DESKTOP_FEED_STANDARD))ta=p.MOBILE_FEED_STANDARD;if(qa.getAppID()===s.BOOSTED_WEBSITE&&ra.getCreativeCategory()===u.VIDEO)ua=h.WEBSITE_CLICKS;return (z.createElement(j,{adAccountID:this.props.config.getAdAccountStore().getSelectedAccountID(),apiAdFormats:sa,appID:qa.getAppID(),creative:this._getSafeCreative(this.props.config.getCreativeStore().getCreativeSpec()),defaultSelectedAdFormat:ta,editable:this._isAdPreviewEditable(),objective:ua,pageID:qa.getPageID()}));},_getSafeCreative:function(pa){switch(this.props.config.getContextStore().getAppID()){case s.BOOSTED_WEBSITE:var qa=pa[k.OBJECT_STORY_SPEC],ra={},sa={};if(this.props.config.getCreativeStore().getCreativeCategory()===u.IMAGE){var ta=qa[l.LINK_DATA];if(!ta[q.LINK]||!ia.isUrl(ta[q.LINK])){var ua=i.clone(ta);ua[q.LINK]='www.example.com';sa=i.clone(qa);sa[l.LINK_DATA]=ua;ra[k.OBJECT_STORY_SPEC]=sa;return ra;}}else{var va=qa[l.VIDEO_DATA],wa=fa(va,[r.CALL_TO_ACTION,m.VALUE,w.LINK]);if(!wa||!ia.isUrl(wa)){var xa=i.clone(va);xa[r.CALL_TO_ACTION][m.VALUE][w.LINK]='www.example.com';sa=i.clone(qa);sa[l.VIDEO_DATA]=xa;ra[k.OBJECT_STORY_SPEC]=sa;return ra;}}return pa;default:return pa;}},_getLinkShareData:function(){if(this.props.config.getContextStore().getAppID()===s.BOOSTED_WEBSITE)return this.props.config.getCreativeStore().getLinkShareData();return null;},_getApiAdFormats:function(){var pa=this.props.config;switch(pa.getContextStore().getAppID()){case s.BOOSTED_PAGELIKE:return pa.getCreativeStore().getCreativeCategory()===u.VIDEO?ka:la;case s.BOOSTED_LOCAL_AWARENESS:case s.BOOSTED_CCTA:return na(pa.getTargetingStore().getTargetingSpec().page_types);default:return ka;}},_isAdPreviewEditable:function(){return (!!this.props.config.getExperimentStore()&&this.props.config.getExperimentStore().getExperimentForAppIDs('ad_preview_editable',[s.BOOSTED_PAGELIKE]));}});f.exports=oa;},null);
__d('BoostedComponentShareAndBoostPreviewSection.react',['BoostedComponentConfig','BoostedComponentShareAndBoostPreviewContainer.react','React','ReactComponentWithPureRenderMixin','XUINotice.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'BoostedComponentShareAndBoostPreviewSection',mixins:[k],propTypes:{config:n.instanceOf(h).isRequired},render:function(){return (j.createElement('div',null,this._getNotice(),this._getPreview()));},_getNotice:function(){var p=this.props.config.getCreativeStore().getShareOwnerName();return (j.createElement(l,{className:'mbs'},m._("You're boosting this post as an ad from {Page Name of the branded content post}. It will appear as a sponsored post in News Feed for people in your target audience. You can track results for this ad in Page Insights. You can also share the post without creating an ad.",[m.param('Page Name of the branded content post',p)])));},_getPreview:function(){return (j.createElement(i,{adAccountStore:this.props.config.getAdAccountStore(),contextStore:this.props.config.getContextStore(),creativeStore:this.props.config.getCreativeStore()}));}});f.exports=o;},null);
__d('BoostedComponentDialogRightColumnSection.react',['BoostedComponentAdPreviewSection.react','BoostedComponentConfig','React','WebApiApplication','cx','BoostedPostPlacementOptions','BoostedComponentShareAndBoostPreviewSection.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=j.PropTypes,p=j.createClass({displayName:'BoostedComponentDialogRightColumnSection',propTypes:{config:o.instanceOf(i).isRequired},componentWillMount:function(){k.init(this.props.config.getContextStore().getAccessToken(),this.props.config.getContextStore().getClientID());},_getAdPreviewSection:function(){var q=this.props.config.getContextStore();switch(q.getPlacement()){case m.INSIGHTS_POST_SPONSORED_TABLE:return (j.createElement(n,{config:this.props.config}));default:return (j.createElement(h,{config:this.props.config}));}},render:function(){return (j.createElement('div',{className:"_2jxt"},this._getAdPreviewSection()));}});f.exports=p;},null);
__d('BoostedComponentDialogSubmissionSection.react',['BoostedComponentAdStatusToAction','BoostedComponentConfig','BoostedComponentExperiment','BoostedComponentFooter.react','BoostedComponentSubmissionViewActions','SubscriptionsHandler','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=n.PropTypes,p=n.createClass({displayName:'BoostedComponentDialogSubmissionSection',propTypes:{config:o.instanceOf(i).isRequired},getInitialState:function(){return {dialogState:this.props.config.getSubmissionStore().getDialogSubmissionState()};},componentWillMount:function(){this._submissionViewActions=new l(this.props.config.getDispatcher());this._subscriptions=new m();this._subscriptions.addSubscriptions(this.props.config.getSubmissionStore().subscribe('change',this._updateSubmissionState));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},_onPrimaryButtonClick:function(){var q=h.getPrimaryClickAction(this.props.config.getAdStatusStore().getSelectedAdStatus(),this.props.config.getAdStatusStore().getAdStatus());if(!q)return;this._submissionViewActions.onClick(q);},_onSecondaryButtonClick:function(){this._submissionViewActions.onClick(h.getSecondaryClickAction(this.props.config.getAdStatusStore().getAdStatus()));},_getButtonSpecs:function(){var q=this.props.config.getAdStatusStore(),r=[],s=this.props.config.getExperimentStore().getExperiment(j.BOOSTED_COMPONENT_LABEL);if(h.hasPrimaryButton(q.getShouldEdit(),this.props.config.getDialogUIStore().getActiveDialogTab()))r.push({label:h.getPrimaryButtonLabel(this.props.config.getContextStore().getAppID(),q.getAdStatus(),s,this.props.config.getContextStore().getPlacement()),use:'confirm',onClick:this._onPrimaryButtonClick});r.push({label:h.getSecondaryButtonLabel(q.getShouldEdit(),q.getAdStatus(),this.props.config.getDialogUIStore().getActiveDialogTab()),use:'default',onClick:this._onSecondaryButtonClick});return r;},_updateSubmissionState:function(){this.setState({dialogState:this.props.config.getSubmissionStore().getDialogSubmissionState()});},render:function(){return (n.createElement(k,{buttonSpecs:this._getButtonSpecs(),config:this.props.config,dialogState:this.state.dialogState}));}});f.exports=p;},null);
__d('BoostedComponentMainDialog.react',['BoostedComponentConfig','BoostedComponentConstants','BoostedComponentDialogHeaderSection.react','BoostedComponentDialogLeftColumnSection.react','BoostedComponentDialogRenderViewActions','BoostedComponentDialogRightColumnSection.react','BoostedComponentDialogSubmissionSection.react','BoostedComponentDialogSubmissionStates','BoostedComponentDialogTitle.react','BoostedComponentStrings','BoostedComponentTestElement','DialogExpansion','Grid.react','LayerFadeOnHide','LoadingIndicator.react','LeftRight.react','React','ReactLayeredComponentMixin','SubscriptionsHandler','ScrollableArea.react','Vector','XUIDialog.react','XUIDialogBody.react','XUIText.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){'use strict';if(c.__markCompiled)c.__markCompiled();var ga=x.PropTypes,ha=x.createClass({displayName:'BoostedComponentMainDialog',mixins:[y],propTypes:{causalElementRef:ga.func.isRequired,config:ga.instanceOf(h).isRequired,shown:ga.bool.isRequired,onCancel:ga.func,onToggle:ga.func.isRequired},getInitialState:function(){return {dialogSeen:this.props.shown};},componentWillMount:function(){this._subscriptions=new z();this._subscriptions.addSubscriptions(this.props.config.getSubmissionStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)));},componentDidMount:function(){var ia=new l(this.props.config.getDispatcher());ia.onDialogOpen(this.props.config.getAdStatusStore().getShouldEdit());},componentWillReceiveProps:function(ia){if(!this.state.dialogSeen&&ia.shown)this.setState({dialogSeen:true});},componentDidUpdate:function(){if(!this.state.dialogSeen)return;if(this.refs.dialog&&this.props.shown&&this.props.onCancel&&!this._dialogCancelListener){var ia=this.refs.dialog.layer;this._dialogCancelListener=ia.subscribe('cancel',this.props.onCancel);}else if(this._dialogCancelListener&&!this.props.shown)this._unsubscribeDialogListeners();},componentWillUnmount:function(){this._unsubscribeDialogListeners();this._subscriptions.release();},_unsubscribeDialogListeners:function(){if(this._dialogCancelListener){this._dialogCancelListener.unsubscribe();this._dialogCancelListener=null;}},_renderLoadingIndicator:function(){var ia=this.props.config.getSubmissionStore();if(ia.getDialogSubmissionState()!==o.SUBMITTING)return null;return (x.createElement('div',{className:"_2_we"},x.createElement(t,{className:"_2_wf",cols:1},x.createElement(t,{className:"_2_wg",cols:2},x.createElement('div',{className:"_2pia"},x.createElement(ea,{size:'large',weight:'bold'},q.getSubmissionIndicatorString(ia.getCurrentSubmissionAction()))),x.createElement('div',{className:"_2pik _2pi3"},x.createElement(v,{color:'black',size:'large'}))))));},renderLayers:function(){if(!this.state.dialogSeen)return {};return {dialog:x.createElement(ca,{behaviors:{LayerFadeOnHide:u,DialogExpansion:s},causalElementRef:this.props.causalElementRef,layerHideOnBlur:false,ref:'dialog',shown:this.props.shown,width:i.DIALOG_WIDTH,onToggle:this.props.onToggle},this._renderLoadingIndicator(),x.createElement(p,{config:this.props.config}),x.createElement(da,{'data-testid':r.DIALOG_BODY,useCustomPadding:true},x.createElement('div',{className:"_kx2",id:this.props.config.getDialogUIStore().getDialogDivID(),style:{maxHeight:this._getDialogColumnMaxHeight()+'px'}},x.createElement(j,{config:this.props.config}),x.createElement(w,{alignv:'top',className:"_2b75"},x.createElement(aa,{className:"_kx4",height:this._getDialogColumnMaxHeight(),width:400},x.createElement(k,{config:this.props.config})),x.createElement(aa,{className:"_kx5",height:this._getDialogColumnMaxHeight(),width:540},x.createElement(m,{config:this.props.config}))))),this.props.dialogFooter,x.createElement(n,{config:this.props.config}))};},render:function(){return x.createElement('div',null);},_getDialogColumnMaxHeight:function(){var ia=Math.max(ba.getViewportDimensions().y-250,i.DIALOG_MIN_HEIGHT);return Math.min(ia,i.DIALOG_MAX_HEIGHT);}});f.exports=ha;},null);